/*! For license information please see main.62bc338c.js.LICENSE.txt */
(()=>{var e={4213:(e,t,n)=>{"use strict";n.d(t,{A:()=>ie});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,o=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function u(e,t){return 0|e.charCodeAt(t)}function d(e,t,n){return e.slice(t,n)}function h(e){return e.length}function p(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,v=0,y=0,b=0,w="";function _(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:s,return:""}}function S(e,t){return s(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function k(){return b=y>0?u(w,--y):0,g--,10===b&&(g=1,m--),b}function x(){return b=y<v?u(w,y++):0,g++,10===b&&(g=1,m++),b}function C(){return u(w,y)}function A(){return y}function E(e,t){return d(w,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function I(e){return m=g=1,v=h(w=e),y=0,[]}function R(e){return w="",e}function N(e){return a(E(y-1,D(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=C())&&b<33;)x();return T(e)>2||T(b)>3?"":" "}function O(e,t){for(;--t&&x()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return E(e,A()+(t<6&&32==C()&&32==x()))}function D(e){for(;x();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:x()}return y}function M(e,t){for(;x()&&e+b!==57&&(e+b!==84||47!==C()););return"/*"+E(t,y-1)+"*"+o(47===e?e:x())}function L(e){for(;!T(C());)x();return E(e,y)}var F="-ms-",j="-moz-",z="-webkit-",U="comm",B="rule",V="decl",W="@keyframes";function q(e,t){for(var n="",r=p(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function H(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case V:return e.return=e.return||e.value;case U:return"";case W:return e.return=e.value+"{"+q(e.children,r)+"}";case B:e.value=e.props.join(",")}return h(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e){return R(G("",null,null,null,[""],e=I(e),0,[0],e))}function G(e,t,n,r,i,s,a,d,p){for(var m=0,g=0,v=a,y=0,b=0,w=0,_=1,S=1,E=1,T=0,I="",R=i,D=s,F=r,j=I;S;)switch(w=T,T=x()){case 40:if(108!=w&&58==u(j,v-1)){-1!=c(j+=l(N(T),"&","&\f"),"&\f")&&(E=-1);break}case 34:case 39:case 91:j+=N(T);break;case 9:case 10:case 13:case 32:j+=P(w);break;case 92:j+=O(A()-1,7);continue;case 47:switch(C()){case 42:case 47:f($(M(x(),A()),t,n),p);break;default:j+="/"}break;case 123*_:d[m++]=h(j)*E;case 125*_:case 59:case 0:switch(T){case 0:case 125:S=0;case 59+g:-1==E&&(j=l(j,/\f/g,"")),b>0&&h(j)-v&&f(b>32?Y(j+";",r,n,v-1):Y(l(j," ","")+";",r,n,v-2),p);break;case 59:j+=";";default:if(f(F=Q(j,t,n,m,g,i,d,I,R=[],D=[],v),s),123===T)if(0===g)G(j,t,F,F,R,s,v,d,D);else switch(99===y&&110===u(j,3)?100:y){case 100:case 108:case 109:case 115:G(e,F,F,r&&f(Q(e,F,F,0,0,i,d,I,i,R=[],v),D),i,D,v,d,r?R:D);break;default:G(j,F,F,F,[""],D,0,d,D)}}m=g=b=0,_=E=1,I=j="",v=a;break;case 58:v=1+h(j),b=w;default:if(_<1)if(123==T)--_;else if(125==T&&0==_++&&125==k())continue;switch(j+=o(T),T*_){case 38:E=g>0?1:(j+="\f",-1);break;case 44:d[m++]=(h(j)-1)*E,E=1;break;case 64:45===C()&&(j+=N(x())),y=C(),g=v=h(I=j+=L(A())),T++;break;case 45:45===w&&2==h(j)&&(_=0)}}return s}function Q(e,t,n,r,o,s,c,u,h,f,m){for(var g=o-1,v=0===o?s:[""],y=p(v),b=0,w=0,S=0;b<r;++b)for(var k=0,x=d(e,g+1,g=i(w=c[b])),C=e;k<y;++k)(C=a(w>0?v[k]+" "+x:l(x,/&\f/g,v[k])))&&(h[S++]=C);return _(e,t,n,0===o?B:u,h,f,m)}function $(e,t,n){return _(e,t,n,U,o(b),d(e,2,-2),0)}function Y(e,t,n,r){return _(e,t,n,V,d(e,0,r),d(e,r+1,-1),r)}var X=function(e,t,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(t[n]=1),!T(i);)x();return E(e,y)},J=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=X(y-1,t,n);break;case 2:e[n]+=N(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=x());return e}(I(e),t))},Z=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Z.get(n))&&!r){Z.set(e,!0);for(var i=[],o=J(t,i),s=n.props,a=0,l=0;a<o.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[a]?o[a].replace(/&\f/g,s[c]):s[c]+" "+o[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^u(e,0)?(((t<<2^u(e,0))<<2^u(e,1))<<2^u(e,2))<<2^u(e,3):0}(e,t)){case 5103:return z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return z+e+j+e+F+e+e;case 6828:case 4268:return z+e+F+e+e;case 6165:return z+e+F+"flex-"+e+e;case 5187:return z+e+l(e,/(\w+).+(:[^]+)/,z+"box-$1$2"+F+"flex-$1$2")+e;case 5443:return z+e+F+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return z+e+F+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return z+e+F+l(e,"shrink","negative")+e;case 5292:return z+e+F+l(e,"basis","preferred-size")+e;case 6060:return z+"box-"+l(e,"-grow","")+z+e+F+l(e,"grow","positive")+e;case 4554:return z+l(e,/([^-])(transform)/g,"$1"+z+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,z+"box-pack:$3"+F+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(u(e,t+1)){case 109:if(45!==u(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+z+"$2-$3$1"+j+(108==u(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==u(e,t+1))break;case 6444:switch(u(e,h(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+z)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(e,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+F+"$2box$3")+e}break;case 5936:switch(u(e,t+11)){case 114:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return z+e+F+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return z+e+F+e+e}return e}var re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case V:e.return=ne(e.value,e.length);break;case W:return q([S(e,{value:l(e.value,"@","@"+z)})],r);case B:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([S(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([S(e,{props:[l(t,/:(plac\w+)/,":"+z+"input-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),S(e,{props:[l(t,/:(plac\w+)/,F+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var o,s,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,u,d=[H,(u=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],h=function(e){var t=p(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}([ee,te].concat(i,d));s=function(e,t,n,r){c=n,q(K(e?e+"{"+t.styles+"}":t.styles),h),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new r({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return f.sheet.hydrate(l),f}},5104:(e,t,n)=>{"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>r})},178:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,T:()=>c,i:()=>o,w:()=>l});var r=n(7077),i=n(4213),o=(n(7278),n(146),!0),s=r.createContext("undefined"!==typeof HTMLElement?(0,i.A)({key:"css"}):null);var a=s.Provider,l=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(s);return e(t,i,n)}))};o||(l=function(e){return function(t){var n=(0,r.useContext)(s);return null===n?(n=(0,i.A)({key:"css"}),r.createElement(s.Provider,{value:n},e(t,n))):e(t,n)}});var c=r.createContext({})},232:(e,t,n)=>{"use strict";n.d(t,{AH:()=>c,i7:()=>u,mL:()=>l});var r=n(178),i=n(7077),o=n(5416),s=n(146),a=n(7278),l=(n(4213),n(1261),(0,r.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,i.useContext(r.T));if(!r.i){for(var c,u=l.name,d=l.styles,h=l.next;void 0!==h;)u+=" "+h.name,d+=h.styles,h=h.next;var p=!0===t.compat,f=t.insert("",{name:u,styles:d},t.sheet,p);return p?null:i.createElement("style",((c={})["data-emotion"]=t.key+"-global "+u,c.dangerouslySetInnerHTML={__html:f},c.nonce=t.sheet.nonce,c))}var m=i.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,i=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==i&&(r=!0,i.setAttribute("data-emotion",e),n.hydrate([i])),m.current=[n,r],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=m.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.sk)(t,l.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}var u=function(){var e=c.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},7278:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var r={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},i=n(5104),o=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,a=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,i.A)((function(e){return a(e)?e:e.replace(o,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===r[e]||a(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":l(s)&&(r+=c(o)+":"+u(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=d(e,t,s);switch(o){case"animation":case"animationName":r+=c(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var h=0;h<s.length;h++)l(s[h])&&(r+=c(o)+":"+u(o,s[h])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,o=n(e);return h=i,d(e,t,o)}}if(null==t)return n;var s=t[n];return void 0!==s?s:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var f=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";h=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=d(n,t,o)):i+=o[0];for(var s=1;s<e.length;s++)i+=d(n,t,e[s]),r&&(i+=o[s]);p.lastIndex=0;for(var a,l="";null!==(a=p.exec(i));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:h}}},146:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>a,s:()=>s});var i=n(7077),o=!!(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect,s=o||function(e){return e()},a=o||i.useLayoutEffect},5416:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>r,SF:()=>i,sk:()=>o});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},o=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},588:(e,t,n)=>{"use strict";var r=n(5296);t.A=void 0;var i=r(n(266)),o=n(8289);t.A=(0,i.default)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},4321:(e,t,n)=>{"use strict";var r=n(5296);t.A=void 0;var i=r(n(266)),o=n(8289);t.A=(0,i.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},1202:(e,t,n)=>{"use strict";var r=n(5296);t.A=void 0;var i=r(n(266)),o=n(8289);t.A=(0,i.default)((0,o.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")},6801:(e,t,n)=>{"use strict";var r=n(5296);t.A=void 0;var i=r(n(266)),o=n(8289);t.A=(0,i.default)((0,o.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu")},266:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(5931)},2232:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"}},2595:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},1527:(e,t,n)=>{"use strict";n(2595)},670:(e,t,n)=>{"use strict";n.d(t,{A:()=>z});var r=n(7410),i=n(2853),o=n(3174),s=n(9950),a=n(832),l=n(1506),c=n(6315);var u=n(7404);const d={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},p={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};var g=n(2232);const v={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],w={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:d.white,default:d.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:d.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:d.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function S(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,u.a)(e.main,i):"dark"===t&&(e.dark=(0,u.e$)(e.main,o)))}function k(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,l=(0,i.A)(e,b),c=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g.A[200],light:g.A[50],dark:g.A[400]}:{main:g.A[700],light:g.A[400],dark:g.A[800]}}(t),k=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[200],light:p[50],dark:p[400]}:{main:p[500],light:p[300],dark:p[700]}}(t),x=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[500],light:f[300],dark:f[700]}:{main:f[700],light:f[400],dark:f[800]}}(t),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[700],light:v[500],dark:v[900]}}(t),A=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(t),E=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(t);function T(e){return(0,u.eM)(e,_.text.primary)>=n?_.text.primary:w.text.primary}const I=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:l=700}=e;if(t=(0,r.A)({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error((0,o.A)(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error((0,o.A)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return S(t,"light",s,a),S(t,"dark",l,a),t.contrastText||(t.contrastText=T(t.main)),t},R={dark:_,light:w};return(0,s.A)((0,r.A)({common:(0,r.A)({},d),mode:t,primary:I({color:c,name:"primary"}),secondary:I({color:k,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:I({color:x,name:"error"}),warning:I({color:E,name:"warning"}),info:I({color:C,name:"info"}),success:I({color:A,name:"success"}),grey:h,contrastThreshold:n,getContrastText:T,augmentColor:I,tonalOffset:a},R[t]),l)}const x=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const C={textTransform:"uppercase"},A='"Roboto", "Helvetica", "Arial", sans-serif';function E(e,t){const n="function"===typeof t?t(e):t,{fontFamily:o=A,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:c=400,fontWeightMedium:u=500,fontWeightBold:d=700,htmlFontSize:h=16,allVariants:p,pxToRem:f}=n,m=(0,i.A)(n,x);const g=a/14,v=f||(e=>"".concat(e/h*g,"rem")),y=(e,t,n,i,s)=>{return(0,r.A)({fontFamily:o,fontWeight:e,fontSize:v(t),lineHeight:n},o===A?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{},s,p);var a},b={h1:y(l,96,1.167,-1.5),h2:y(l,60,1.2,-.5),h3:y(c,48,1.167,0),h4:y(c,34,1.235,.25),h5:y(c,24,1.334,0),h6:y(u,20,1.6,.15),subtitle1:y(c,16,1.75,.15),subtitle2:y(u,14,1.57,.1),body1:y(c,16,1.5,.15),body2:y(c,14,1.43,.15),button:y(u,14,1.75,.4,C),caption:y(c,12,1.66,.4),overline:y(c,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,s.A)((0,r.A)({htmlFontSize:h,pxToRem:v,fontFamily:o,fontSize:a,fontWeightLight:l,fontWeightRegular:c,fontWeightMedium:u,fontWeightBold:d},b),m,{clone:!1})}function T(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const I=["none",T(0,2,1,-1,0,1,1,0,0,1,3,0),T(0,3,1,-2,0,2,2,0,0,1,5,0),T(0,3,3,-2,0,3,4,0,0,1,8,0),T(0,2,4,-1,0,4,5,0,0,1,10,0),T(0,3,5,-1,0,5,8,0,0,1,14,0),T(0,3,5,-1,0,6,10,0,0,1,18,0),T(0,4,5,-2,0,7,10,1,0,2,16,1),T(0,5,5,-3,0,8,10,1,0,3,14,2),T(0,5,6,-3,0,9,12,1,0,3,16,2),T(0,6,6,-3,0,10,14,1,0,4,18,3),T(0,6,7,-4,0,11,15,1,0,4,20,3),T(0,7,8,-4,0,12,17,2,0,5,22,4),T(0,7,8,-4,0,13,19,2,0,5,24,4),T(0,7,9,-4,0,14,21,2,0,5,26,4),T(0,8,9,-5,0,15,22,2,0,6,28,5),T(0,8,10,-5,0,16,24,2,0,6,30,5),T(0,8,11,-5,0,17,26,2,0,6,32,5),T(0,9,11,-5,0,18,28,2,0,7,34,6),T(0,9,12,-6,0,19,29,2,0,7,36,6),T(0,10,13,-6,0,20,31,3,0,8,38,7),T(0,10,13,-6,0,21,33,3,0,8,40,7),T(0,10,14,-6,0,22,35,3,0,8,42,7),T(0,11,14,-7,0,23,36,3,0,9,44,8),T(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],N={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function M(e){const t=(0,r.A)({},N,e.easing),n=(0,r.A)({},P,e.duration);return(0,r.A)({getAutoHeightDuration:D,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:s=t.easeInOut,delay:a=0}=r;(0,i.A)(r,R);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:O(o)," ").concat(s," ").concat("string"===typeof a?a:O(a)))).join(",")}},e,{easing:t,duration:n})}const L={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:u={},typography:d={}}=e,h=(0,i.A)(e,F);if(e.vars)throw new Error((0,o.A)(18));const p=k(n),f=(0,c.A)(e);let m=(0,s.A)(f,{mixins:(g=f.breakpoints,v=t,(0,r.A)({toolbar:{minHeight:56,[g.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[g.up("sm")]:{minHeight:64}}},v)),palette:p,shadows:I.slice(),typography:E(p,d),transitions:M(u),zIndex:(0,r.A)({},L)});var g,v;m=(0,s.A)(m,h);for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];return m=b.reduce(((e,t)=>(0,s.A)(e,t)),m),m.unstable_sxConfig=(0,r.A)({},a.A,null==h?void 0:h.unstable_sxConfig),m.unstable_sx=function(e){return(0,l.A)({sx:e,theme:this})},m}const z=j},6136:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=(0,n(670).A)()},7149:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r="$$material"},5441:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(405);const i=e=>(0,r.A)(e)&&"classes"!==e},405:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},677:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a});var r=n(1302),i=n(6136),o=n(7149),s=n(5441);const a=(0,r.Ay)({themeId:o.A,defaultTheme:i.A,rootShouldForwardProp:s.A})},5218:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(6923),i=n(6136),o=n(7149);function s(e){let{props:t,name:n}=e;return(0,r.A)({props:t,name:n,defaultTheme:i.A,themeId:o.A})}},4349:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(872).A},8133:(e,t,n)=>{"use strict";n.d(t,{A:()=>b});var r=n(7410),i=n(7077),o=n(2853),s=n(3421),a=n(9564),l=n(4349),c=n(5218),u=n(677),d=n(9238),h=n(6366);function p(e){return(0,h.Ay)("MuiSvgIcon",e)}(0,d.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var f=n(8289);const m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,u.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.A)(n.color))],t["fontSize".concat((0,l.A)(n.fontSize))]]}})((e=>{let{theme:t,ownerState:n}=e;var r,i,o,s,a,l,c,u,d,h,p,f,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(r=t.transitions)||null==(i=r.create)?void 0:i.call(r,"fill",{duration:null==(o=t.transitions)||null==(o=o.duration)?void 0:o.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(u=t.typography)||null==(d=u.pxToRem)?void 0:d.call(u,35))||"2.1875rem"}[n.fontSize],color:null!=(h=null==(p=(t.vars||t).palette)||null==(p=p[n.color])?void 0:p.main)?h:{action:null==(f=(t.vars||t).palette)||null==(f=f.action)?void 0:f.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),v=i.forwardRef((function(e,t){const n=(0,c.A)({props:e,name:"MuiSvgIcon"}),{children:u,className:d,color:h="inherit",component:v="svg",fontSize:y="medium",htmlColor:b,inheritViewBox:w=!1,titleAccess:_,viewBox:S="0 0 24 24"}=n,k=(0,o.A)(n,m),x=i.isValidElement(u)&&"svg"===u.type,C=(0,r.A)({},n,{color:h,component:v,fontSize:y,instanceFontSize:e.fontSize,inheritViewBox:w,viewBox:S,hasSvgAsChild:x}),A={};w||(A.viewBox=S);const E=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&"color".concat((0,l.A)(t)),"fontSize".concat((0,l.A)(n))]};return(0,a.A)(i,p,r)})(C);return(0,f.jsxs)(g,(0,r.A)({as:v,className:(0,s.A)(E.root,d),focusable:"false",color:b,"aria-hidden":!_||void 0,role:_?"img":void 0,ref:t},A,k,x&&u.props,{ownerState:C,children:[x?u.props.children:u,_?(0,f.jsx)("title",{children:_}):null]}))}));v.muiName="SvgIcon";const y=v;function b(e,t){function n(n,i){return(0,f.jsx)(y,(0,r.A)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))}return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},2136:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1430).A},5931:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>i.A,createChainedFunction:()=>o,createSvgIcon:()=>s.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>c.A,ownerDocument:()=>u.A,ownerWindow:()=>d.A,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>_,unstable_useEnhancedEffect:()=>f.A,unstable_useId:()=>m,unsupportedProp:()=>g,useControlled:()=>v.A,useEventCallback:()=>y.A,useForkRef:()=>b.A,useIsFocusVisible:()=>w.A});var r=n(6796),i=n(4349);const o=n(3410).A;var s=n(8133),a=n(2136);const l=function(e,t){return()=>null};var c=n(522),u=n(5141),d=n(4740);n(7410);const h=function(e,t){return()=>null};const p=n(542).A;var f=n(6959);const m=n(6550).A;const g=function(e,t,n,r,i){return null};var v=n(8545),y=n(7629),b=n(5447),w=n(6409);const _={configure:e=>{r.A.configure(e)}}},522:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7077);const i=function(e,t){var n,i;return r.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},5141:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1678).A},4740:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(1510).A},8545:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7077);const i=function(e){let{controlled:t,default:n,name:i,state:o="value"}=e;const{current:s}=r.useRef(void 0!==t),[a,l]=r.useState(n);return[s?t:a,r.useCallback((e=>{s||l(e)}),[])]}},6959:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6362).A},7629:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(6304).A},5447:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r=n(9072).A},6409:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(7077),i=n(9802);let o=!0,s=!1;const a=new i.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function d(){"hidden"===this.visibilityState&&s&&(o=!0)}function h(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const p=function(){const e=r.useCallback((e=>{null!=e&&function(e){e.addEventListener("keydown",c,!0),e.addEventListener("mousedown",u,!0),e.addEventListener("pointerdown",u,!0),e.addEventListener("touchstart",u,!0),e.addEventListener("visibilitychange",d,!0)}(e.ownerDocument)}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!h(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(s=!0,a.start(100,(()=>{s=!1})),t.current=!1,!0)},ref:e}}},2519:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});n(7077);var r=n(232),i=n(8289);function o(e){const{styles:t,defaultTheme:n={}}=e,o="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,i.jsx)(r.mL,{styles:o})}},4117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>k.A,StyledEngineProvider:()=>S,ThemeContext:()=>l.T,css:()=>y.AH,default:()=>x,internal_processStyles:()=>C,keyframes:()=>y.i7});var r=n(7410),i=n(7077),o=n(5104),s=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,o.A)((function(e){return s.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(178),c=n(5416),u=n(7278),d=n(146),h=a,p=function(e){return"theme"!==e},f=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?h:p},m=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},g=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return(0,c.SF)(t,n,r),(0,d.s)((function(){return(0,c.sk)(t,n,r)})),null},v=function e(t,n){var o,s,a=t.__emotion_real===t,d=a&&t.__emotion_base||t;void 0!==n&&(o=n.label,s=n.target);var h=m(t,n,a),p=h||f(d),v=!p("as");return function(){var y=arguments,b=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&b.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)b.push.apply(b,y);else{0,b.push(y[0][0]);for(var w=y.length,_=1;_<w;_++)b.push(y[_],y[0][_])}var S=(0,l.w)((function(e,t,n){var r=v&&e.as||d,o="",a=[],m=e;if(null==e.theme){for(var y in m={},e)m[y]=e[y];m.theme=i.useContext(l.T)}"string"===typeof e.className?o=(0,c.Rk)(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var w=(0,u.J)(b.concat(a),t.registered,m);o+=t.key+"-"+w.name,void 0!==s&&(o+=" "+s);var _=v&&void 0===h?f(r):p,S={};for(var k in e)v&&"as"===k||_(k)&&(S[k]=e[k]);return S.className=o,S.ref=n,i.createElement(i.Fragment,null,i.createElement(g,{cache:t,serialized:w,isStringTag:"string"===typeof r}),i.createElement(r,S))}));return S.displayName=void 0!==o?o:"Styled("+("string"===typeof d?d:d.displayName||d.name||"Component")+")",S.defaultProps=t.defaultProps,S.__emotion_real=S,S.__emotion_base=d,S.__emotion_styles=b,S.__emotion_forwardProp=h,Object.defineProperty(S,"toString",{value:function(){return"."+s}}),S.withComponent=function(t,i){return e(t,(0,r.A)({},n,i,{shouldForwardProp:m(S,i,!0)})).apply(void 0,b)},S}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){v[e]=v(e)}));var y=n(232),b=n(4213),w=n(8289);let _;function S(e){const{injectFirst:t,children:n}=e;return t&&_?(0,w.jsx)(l.C,{value:_,children:n}):n}"object"===typeof document&&(_=(0,b.A)({key:"css",prepend:!0}));var k=n(2519);function x(e,t){return v(e,t)}const C=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},7404:(e,t,n)=>{"use strict";var r=n(5296);t.X4=p,t.e$=f,t.eM=function(e,t){const n=h(e),r=h(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},t.a=m;var i=r(n(6479)),o=r(n(1018));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,i.default)(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error((0,i.default)(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")};function u(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function d(e){e=l(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-o*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),u({type:a,values:c})}function h(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(d(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function p(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,u(e)}function f(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return u(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return u(e)}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return h(e)>.5?f(e,t):m(e,t)}},1302:(e,t,n)=>{"use strict";var r=n(5296);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:r=f,slotShouldForwardProp:l=f}=e,u=e=>(0,c.default)((0,i.default)({},e,{theme:v((0,i.default)({},e,{defaultTheme:n,themeId:t}))}));return u.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:d,slot:p,skipVariantsResolver:m,skipSx:w,overridesResolver:_=y(g(p))}=c,S=(0,o.default)(c,h),k=void 0!==m?m:p&&"Root"!==p&&"root"!==p||!1,x=w||!1;let C=f;"Root"===p||"root"===p?C=r:p?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const A=(0,s.default)(e,(0,i.default)({shouldForwardProp:C,label:undefined},S)),E=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?r=>b(e,(0,i.default)({},r,{theme:v({theme:r.theme,defaultTheme:n,themeId:t})})):e,T=function(r){let o=E(r);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(E):[];d&&_&&c.push((e=>{const r=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[d]||!r.components[d].styleOverrides)return null;const o=r.components[d].styleOverrides,s={};return Object.entries(o).forEach((t=>{let[n,o]=t;s[n]=b(o,(0,i.default)({},e,{theme:r}))})),_(e,s)})),d&&!k&&c.push((e=>{var r;const o=v((0,i.default)({},e,{defaultTheme:n,themeId:t}));return b({variants:null==o||null==(r=o.components)||null==(r=r[d])?void 0:r.variants},(0,i.default)({},e,{theme:o}))})),x||c.push(u);const h=c.length-a.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");o=[...r,...e],o.raw=[...r.raw,...e]}const p=A(o,...c);return e.muiName&&(p.muiName=e.muiName),p};return A.withConfig&&(T.withConfig=A.withConfig),T}};var i=r(n(880)),o=r(n(7763)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(4117)),a=n(3912),l=(r(n(8472)),r(n(6205)),r(n(167))),c=r(n(768));const u=["ownerState"],d=["variants"],h=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),g=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function v(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function y(e){return e?(t,n)=>n[e]:null}function b(e,t){let{ownerState:n}=t,r=(0,o.default)(t,u);const s="function"===typeof e?e((0,i.default)({ownerState:n},r)):e;if(Array.isArray(s))return s.flatMap((e=>b(e,(0,i.default)({ownerState:n},r))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,o.default)(s,d);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,i.default)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,i.default)({ownerState:n},r,n)):e.style))})),t}return s}},7177:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>u,vf:()=>l,zu:()=>i});var r=n(9950);const i={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(i[e],"px)")};function s(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||o;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"===typeof t){const e=r.breakpoints||o;return Object.keys(t).reduce(((r,o)=>{if(-1!==Object.keys(e.values||i).indexOf(o)){r[e.up(o)]=n(t[o],o)}else{const e=o;r[e]=t[e]}return r}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];const s=[t,...i].reduce(((e,t)=>(0,r.A)(e,t)),{});return l(Object.keys(t),s)}function u(e){let{values:t,breakpoints:n,base:r}=e;const i=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),o=Object.keys(i);if(0===o.length)return t;let s;return o.reduce(((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[s],s=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}},2541:(e,t,n)=>{"use strict";function r(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[r]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>r})},9467:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2853),i=n(7410);const o=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,i.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,r.A)(e,o),c=s(t),u=Object.keys(c);function d(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function h(e){const r="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(r-a/100).concat(n,")")}function p(e,r){const i=u.indexOf(r);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[u[i]]?t[u[i]]:r)-a/100).concat(n,")")}return(0,i.A)({keys:u,values:c,up:d,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):d(e)},not:function(e){const t=u.indexOf(e);return 0===t?d(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},6315:(e,t,n)=>{"use strict";n.d(t,{A:()=>p});var r=n(7410),i=n(2853),o=n(9950),s=n(9467);const a={borderRadius:4};var l=n(181);var c=n(1506),u=n(832),d=n(2541);const h=["breakpoints","palette","spacing","shape"];const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:p,shape:f={}}=e,m=(0,i.A)(e,h),g=(0,s.A)(t),v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(p);let y=(0,o.A)({breakpoints:g,direction:"ltr",components:{},palette:(0,r.A)({mode:"light"},n),spacing:v,shape:(0,r.A)({},a,f)},m);y.applyStyles=d.A;for(var b=arguments.length,w=new Array(b>1?b-1:0),_=1;_<b;_++)w[_-1]=arguments[_];return y=w.reduce(((e,t)=>(0,o.A)(e,t)),y),y.unstable_sxConfig=(0,r.A)({},u.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,private_createBreakpoints:()=>i.A,unstable_applyStyles:()=>o.A});var r=n(6315),i=n(9467),o=n(2541)},1489:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9950);const i=function(e,t){return t?(0,r.A)(e,t,{clone:!1}):e}},181:(e,t,n)=>{"use strict";n.d(t,{LX:()=>f,MA:()=>p,_W:()=>m,Lc:()=>y,Ms:()=>b});var r=n(7177),i=n(3720),o=n(1489);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=s[t],i=a[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),u=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[...u,...d];function p(e,t,n,r){var o;const s=null!=(o=(0,i.Yn)(e,t,!1))?o:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function f(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(c(n),i),s=e[n];return(0,r.NI)(e,s,o)}function v(e,t){const n=f(e.theme);return Object.keys(e).map((r=>g(e,t,r,n))).reduce(o.A,{})}function y(e){return v(e,u)}function b(e){return v(e,d)}function w(e){return v(e,h)}y.propTypes={},y.filterProps=u,b.propTypes={},b.filterProps=d,w.propTypes={},w.filterProps=h},3720:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>o});var r=n(872),i=n(7177);function o(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r,i,e)),r}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],u=o(e.theme,a)||{};return(0,i.NI)(e,c,(e=>{let i=s(u,l,e);return e===i&&"string"===typeof e&&(i=s(u,l,"".concat(t).concat("default"===e?"":(0,r.A)(e)),e)),!1===n?i:{[n]:i}}))};return c.propTypes={},c.filterProps=[t],c}},832:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var r=n(181),i=n(3720),o=n(1489);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?(0,o.A)(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};var a=n(7177);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function c(e,t){return(0,i.Ay)({prop:e,themeKey:"borders",transform:t})}const u=c("border",l),d=c("borderTop",l),h=c("borderRight",l),p=c("borderBottom",l),f=c("borderLeft",l),m=c("borderColor"),g=c("borderTopColor"),v=c("borderRightColor"),y=c("borderBottomColor"),b=c("borderLeftColor"),w=c("outline",l),_=c("outlineColor"),S=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,r.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,r._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};S.propTypes={},S.filterProps=["borderRadius"];s(u,d,h,p,f,m,g,v,y,b,S,w,_);const k=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,r.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,r._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};k.propTypes={},k.filterProps=["gap"];const x=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,r.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};x.propTypes={},x.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,r.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,r._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(k,x,C,(0,i.Ay)({prop:"gridColumn"}),(0,i.Ay)({prop:"gridRow"}),(0,i.Ay)({prop:"gridAutoFlow"}),(0,i.Ay)({prop:"gridAutoColumns"}),(0,i.Ay)({prop:"gridAutoRows"}),(0,i.Ay)({prop:"gridTemplateColumns"}),(0,i.Ay)({prop:"gridTemplateRows"}),(0,i.Ay)({prop:"gridTemplateAreas"}),(0,i.Ay)({prop:"gridArea"}));function A(e,t){return"grey"===t?t:e}s((0,i.Ay)({prop:"color",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:A}),(0,i.Ay)({prop:"backgroundColor",themeKey:"palette",transform:A}));function E(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const T=(0,i.Ay)({prop:"width",transform:E}),I=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return i?"px"!==(null==(r=e.theme)||null==(r=r.breakpoints)?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:E(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};I.filterProps=["maxWidth"];const R=(0,i.Ay)({prop:"minWidth",transform:E}),N=(0,i.Ay)({prop:"height",transform:E}),P=(0,i.Ay)({prop:"maxHeight",transform:E}),O=(0,i.Ay)({prop:"minHeight",transform:E}),D=((0,i.Ay)({prop:"size",cssProperty:"width",transform:E}),(0,i.Ay)({prop:"size",cssProperty:"height",transform:E}),s(T,I,R,N,P,O,(0,i.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:S},color:{themeKey:"palette",transform:A},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:A},backgroundColor:{themeKey:"palette",transform:A},p:{style:r.Ms},pt:{style:r.Ms},pr:{style:r.Ms},pb:{style:r.Ms},pl:{style:r.Ms},px:{style:r.Ms},py:{style:r.Ms},padding:{style:r.Ms},paddingTop:{style:r.Ms},paddingRight:{style:r.Ms},paddingBottom:{style:r.Ms},paddingLeft:{style:r.Ms},paddingX:{style:r.Ms},paddingY:{style:r.Ms},paddingInline:{style:r.Ms},paddingInlineStart:{style:r.Ms},paddingInlineEnd:{style:r.Ms},paddingBlock:{style:r.Ms},paddingBlockStart:{style:r.Ms},paddingBlockEnd:{style:r.Ms},m:{style:r.Lc},mt:{style:r.Lc},mr:{style:r.Lc},mb:{style:r.Lc},ml:{style:r.Lc},mx:{style:r.Lc},my:{style:r.Lc},margin:{style:r.Lc},marginTop:{style:r.Lc},marginRight:{style:r.Lc},marginBottom:{style:r.Lc},marginLeft:{style:r.Lc},marginX:{style:r.Lc},marginY:{style:r.Lc},marginInline:{style:r.Lc},marginInlineStart:{style:r.Lc},marginInlineEnd:{style:r.Lc},marginBlock:{style:r.Lc},marginBlockStart:{style:r.Lc},marginBlockEnd:{style:r.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:k},rowGap:{style:C},columnGap:{style:x},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:E},maxWidth:{style:I},minWidth:{transform:E},height:{transform:E},maxHeight:{transform:E},minHeight:{transform:E},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},1872:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(7410),i=n(2853),o=n(9950),s=n(832);const a=["sx"],l=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r};function c(e){const{sx:t}=e,n=(0,i.A)(e,a),{systemProps:s,otherProps:c}=l(n);let u;return u=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,o.Q)(e)?(0,r.A)({},s,e):s}:(0,r.A)({},s,t),(0,r.A)({},c,{sx:u})}},768:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,extendSxProp:()=>i.A,unstable_createStyleFunctionSx:()=>r.k,unstable_defaultSxConfig:()=>o.A});var r=n(1506),i=n(1872),o=n(832)},1506:(e,t,n)=>{"use strict";n.d(t,{A:()=>u,k:()=>l});var r=n(872),i=n(1489),o=n(3720),s=n(7177),a=n(832);function l(){function e(e,t,n,i){const a={[e]:t,theme:n},l=i[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:u,transform:d,style:h}=l;if(null==t)return null;if("typography"===u&&"inherit"===t)return{[e]:t};const p=(0,o.Yn)(n,u)||{};if(h)return h(a);return(0,s.NI)(a,t,(t=>{let n=(0,o.BO)(p,d,t);return t===n&&"string"===typeof t&&(n=(0,o.BO)(p,d,"".concat(e).concat("default"===t?"":(0,r.A)(t)),t)),!1===c?n:{[c]:n}}))}return function t(n){var r;const{sx:o,theme:l={}}=n||{};if(!o)return null;const c=null!=(r=l.unstable_sxConfig)?r:a.A;function u(n){let r=n;if("function"===typeof n)r=n(l);else if("object"!==typeof n)return n;if(!r)return null;const o=(0,s.EU)(l.breakpoints),a=Object.keys(o);let u=o;return Object.keys(r).forEach((n=>{const o=(a=r[n],d=l,"function"===typeof a?a(d):a);var a,d;if(null!==o&&void 0!==o)if("object"===typeof o)if(c[n])u=(0,i.A)(u,e(n,o,l,c));else{const e=(0,s.NI)({theme:l},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,o)?u=(0,i.A)(u,e):u[n]=t({sx:o,theme:l})}else u=(0,i.A)(u,e(n,o,l,c))})),(0,s.vf)(a,u)}return Array.isArray(o)?o.map(u):u(o)}}const c=l();c.filterProps=["sx"];const u=c},6519:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(6315),i=n(7077),o=n(178);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(o.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},a=(0,r.A)();const l=function(){return s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:a)}},6923:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7008);var i=n(6519);function o(e){let{props:t,name:n,defaultTheme:o,themeId:s}=e,a=(0,i.A)(o);s&&(a=a[s]||a);const l=function(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.A)(t.components[n].defaultProps,i):i}({theme:a,name:n,props:t});return l}},6796:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},872:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(3174);function i(e){if("string"!==typeof e)throw new Error((0,r.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},8472:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(872)},1018:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},9564:(e,t,n)=>{"use strict";function r(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>{if(r){const i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}n.d(t,{A:()=>r})},3410:(e,t,n)=>{"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}n.d(t,{A:()=>r})},1430:(e,t,n)=>{"use strict";function r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r}n.d(t,{A:()=>r})},9950:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,Q:()=>i});var r=n(7410);function i(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!i(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=o(e[n])})),t}function s(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=n.clone?(0,r.A)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=s(e[r],t[r],n):n.clone?a[r]=i(t[r])?o(t[r]):t[r]:a[r]=t[r])})),a}},3912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A,isPlainObject:()=>r.Q});var r=n(9950)},3174:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>r})},6479:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r.A});var r=n(3174)},6366:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(6796);const i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const o=i[t];return o?"".concat(n,"-").concat(o):"".concat(r.A.generate(e),"-").concat(t)}},9238:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(6366);function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=(0,r.Ay)(e,t,n)})),i}},6205:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>o});var r=n(1091);const i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){const t="".concat(e).match(i);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function a(e,t,n){const r=s(t);return e.displayName||(""!==r?"".concat(n,"(").concat(r,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case r.ForwardRef:return a(e,e.render,"ForwardRef");case r.Memo:return a(e,e.type,"memo");default:return}}}},7015:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case h:case p:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=d,t.Memo=f},1091:(e,t,n)=>{"use strict";e.exports=n(7015)},1678:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{A:()=>r})},1510:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1678);function i(e){return(0,r.A)(e).defaultView||window}},7008:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7410);function i(e,t){const n=(0,r.A)({},t);return Object.keys(e).forEach((o=>{if(o.toString().match(/^(components|slots)$/))n[o]=(0,r.A)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){const s=e[o]||{},a=t[o];n[o]={},a&&Object.keys(a)?s&&Object.keys(s)?(n[o]=(0,r.A)({},a),Object.keys(s).forEach((e=>{n[o][e]=i(s[e],a[e])}))):n[o]=a:n[o]=s}else void 0===n[o]&&(n[o]=e[o])})),n}},542:(e,t,n)=>{"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{A:()=>r})},6362:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(7077);const i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},6304:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7077),i=n(6362);const o=function(e){const t=r.useRef(e);return(0,i.A)((()=>{t.current=e})),r.useRef((function(){return(0,t.current)(...arguments)})).current}},9072:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(7077),i=n(542);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{(0,i.A)(t,e)}))}),t)}},6550:(e,t,n)=>{"use strict";var r;n.d(t,{A:()=>a});var i=n(7077);let o=0;const s=(r||(r=n.t(i,2)))["useId".toString()];function a(e){if(void 0!==s){const t=s();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n("mui-".concat(o)))}),[t]),r}(e)}},9802:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,A:()=>a});var r=n(7077);const i={};const o=[];class s{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new s}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function a(){const e=function(e,t){const n=r.useRef(i);return n.current===i&&(n.current=e(t)),n}(s.create).current;var t;return t=e.disposeEffect,r.useEffect(t,o),e}},1261:(e,t,n)=>{"use strict";var r=n(7885),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var s=u(n);d&&(s=s.concat(d(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},5649:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},7885:(e,t,n)=>{"use strict";e.exports=n(5649)},8796:(e,t,n)=>{"use strict";var r=n(7077),i=n(9491);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case A:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function oe(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,xe=null;function Ce(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function Ae(e){ke?xe?xe.push(e):xe=[e]:ke=e}function Ee(){if(ke){var e=ke,t=xe;if(xe=ke=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Re=!1;function Ne(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==ke||null!==xe)&&(Ie(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Oe=!1}function Me(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,je=!1,ze=null,Ue={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,o,s,a,l){Le=!1,Fe=null,Me.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return qe(i),e;if(s===r)return qe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=dt(a):0!==(o&=s)&&(r=dt(o))}else 0!==(s=n&~i)?r=dt(s):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,kt,xt,Ct,At=!1,Et=[],Tt=null,It=null,Rt=null,Nt=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){jt(e)&&n.delete(t)}function Ut(){At=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==It&&jt(It)&&(It=null),null!==Rt&&jt(Rt)&&(Rt=null),Nt.forEach(zt),Pt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==It&&Bt(It,e),null!==Rt&&Bt(Rt,e),Nt.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var Wt=w.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Wt.transition;Wt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,Wt.transition=o}}function Gt(e,t,n,r){if(qt){var i=$t(e,t,n,r);if(null===i)qr(e,t,r,Qt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return It=Lt(It,e,t,n,r,i),!0;case"mouseover":return Rt=Lt(Rt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Nt.set(o,Lt(Nt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Lt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=$t(e,t,n,r))&&qr(e,t,r,Qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=F({},cn,{view:0,detail:0}),hn=on(dn),pn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(F({},pn,{dataTransfer:0})),gn=on(F({},dn,{relatedTarget:0})),vn=on(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return xn}var An=F({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(An),Tn=on(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=on(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(Nn),On=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Mn,Fn=u&&(!Dn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ae(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){jr(e,0)}function $n(e){if(G(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Ne(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function or(e,t){if("click"===e)return $n(t)}function sr(e,t){if("input"===e||"change"===e)return $n(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},kr={},xr={};function Cr(e){if(kr[e])return kr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return kr[e]=n[t];return e}u&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Ar=Cr("animationend"),Er=Cr("animationiteration"),Tr=Cr("animationstart"),Ir=Cr("transitionend"),Rr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Or=0;Or<Nr.length;Or++){var Dr=Nr[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Ar,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(o(198));var u=Fe;Le=!1,Fe=null,je||(je=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Fr(i,a,c),o=l}}}if(je)throw e=ze,je=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=o,i=_e(n),s=[];e:{var a=Rr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case Ar:case Er:case Tr:l=vn;break;case Ir:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Hr(f,m,p)))),d)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?a:wi(l),p=null==c?a:wi(c),(a=new u(m,f+"leave",l,n,i)).target=d,a.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Gr(p))f++;for(p=0,m=h;m;m=Gr(m))p++;for(;0<f-p;)u=Gr(u),f--;for(;0<p-f;)h=Gr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Qr(s,a,l,u,!1),null!==c&&null!==d&&Qr(s,d,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(qn(a))if(Xn)g=sr;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(s,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,jn);case"textInput":return(e=t.data)===jn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Zt=Jt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}jr(s,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Pe(n,o))&&s.unshift(Hr(n,l,a)):i||null!=(l=Pe(n,o))&&s.push(Hr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[pi]||null}var Si=[],ki=-1;function xi(e){return{current:e}}function Ci(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Ai(e,t){ki++,Si[ki]=e.current,e.current=t}var Ei={},Ti=xi(Ei),Ii=xi(!1),Ri=Ei;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ci(Ii),Ci(Ti)}function Di(e,t,n){if(Ti.current!==Ei)throw Error(o(168));Ai(Ti,t),Ai(Ii,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ri=Ti.current,Ai(Ti,e),Ai(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ii),Ci(Ti),Ai(Ti,e)):Ci(Ii),Ai(Ii,n)}var ji=null,zi=!1,Ui=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!Ui&&null!==ji){Ui=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,zi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ge(Ze,Vi),i}finally{bt=t,Ui=!1}}return null}var Wi=[],qi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){Wi[qi++]=Ki,Wi[qi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yi=1<<32-st(t)+i|n<<i|r,Xi=o+e}else Yi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Hi;)Hi=Wi[--qi],Wi[qi]=null,Ki=Wi[--qi],Wi[qi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=xi(null),bo=null,wo=null,_o=null;function So(){_o=wo=bo=null}function ko(e){var t=yo.current;Ci(yo),e._currentValue=t}function xo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,_o=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(_o!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Eo=null;function To(e){null===Eo?Eo=[e]:Eo.push(e)}function Io(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,To(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ro(e,r)}function Ro(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var No=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Do(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ro(e,n)}return null===(i=r.interleaved)?(t.next=t,To(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ro(e,n)}function Lo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;No=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(s=0,u=c=l=null,a=o;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:No=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(h=a).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=s,e.lanes=s,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Uo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Do(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(rc(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Do(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(rc(t,e,r,n),Lo(t,e,r))}};function Wo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function qo(e,t,n){var r=!1,i=Ei,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(i=Pi(t)?Ri:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ni(e,i):Ei),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Ao(o):(o=Pi(t)?Ri:Ti.current,i.context=Ni(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Go(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&$o(o)===t.type)?((r=i(t,n.props)).ref=Go(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Go(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Go(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Qo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);Qo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);Qo(t,r)}return null}function m(i,o,a,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,a[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=s(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===a.length)return n(i,d),io&&Ji(i,m),c;if(null===d){for(;m<a.length;m++)null!==(d=h(i,a[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&Ji(i,m),c}for(d=r(i,d);m<a.length;m++)null!==(g=f(d,i,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,m),c}function g(i,a,l,c){var u=M(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=s(b,a,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Ji(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return io&&Ji(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),u}return function e(r,o,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(o=i(u,s.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&$o(c)===u.type){n(r,u.sibling),(o=i(u,s.props)).ref=Go(r,u,s),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((o=Lc(s.props.children,r.mode,l,s.key)).return=r,r=o):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=Go(r,o,s),l.return=r,r=l)}return a(r);case S:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(s,r.mode,l)).return=r,r=o}return a(r);case P:return e(r,o,(u=s._init)(s._payload),l)}if(te(s))return m(r,o,s,l);if(M(s))return g(r,o,s,l);Qo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=jc(s,r.mode,l)).return=r,r=o),a(r)):n(r,o)}}var Xo=Yo(!0),Jo=Yo(!1),Zo={},es=xi(Zo),ts=xi(Zo),ns=xi(Zo);function rs(e){if(e===Zo)throw Error(o(174));return e}function is(e,t){switch(Ai(ns,t),Ai(ts,e),Ai(es,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(es),Ai(es,t)}function os(){Ci(es),Ci(ts),Ci(ns)}function ss(e){rs(ns.current);var t=rs(es.current),n=le(t,e.type);t!==n&&(Ai(ts,e),Ai(es,n))}function as(e){ts.current===e&&(Ci(es),Ci(ts))}var ls=xi(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,ps=w.ReactCurrentBatchConfig,fs=0,ms=null,gs=null,vs=null,ys=!1,bs=!1,ws=0,_s=0;function Ss(){throw Error(o(321))}function ks(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function xs(e,t,n,r,i,s){if(fs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bs){s=0;do{if(bs=!1,ws=0,25<=s)throw Error(o(301));s+=1,vs=gs=null,t.updateQueue=null,hs.current=ca,e=n(r,i)}while(bs)}if(hs.current=sa,t=null!==gs&&null!==gs.next,fs=0,vs=gs=ms=null,ys=!1,t)throw Error(o(300));return e}function Cs(){var e=0!==ws;return ws=0,e}function As(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vs?ms.memoizedState=vs=e:vs=vs.next=e,vs}function Es(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===vs?ms.memoizedState:vs.next;if(null!==t)vs=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===vs?ms.memoizedState=vs=e:vs=vs.next=e}return vs}function Ts(e,t){return"function"===typeof t?t(e):t}function Is(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=gs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((fs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,ms.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ms.lanes|=s,Fl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Rs(e){var t=Es(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function Ps(e,t){var n=ms,r=Es(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,wa=!0),r=r.queue,qs(Ms.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==vs&&1&vs.memoizedState.tag){if(n.flags|=2048,zs(9,Ds.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&fs)||Os(n,t,i)}return i}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ds(e,t,n,r){t.value=n,t.getSnapshot=r,Ls(t)&&Fs(e)}function Ms(e,t,n){return n((function(){Ls(t)&&Fs(e)}))}function Ls(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fs(e){var t=Ro(e,1);null!==t&&rc(t,e,1,-1)}function js(e){var t=As();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,ms,e),[t.memoizedState,e]}function zs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Us(){return Es().memoizedState}function Bs(e,t,n,r){var i=As();ms.flags|=e,i.memoizedState=zs(1|t,n,void 0,void 0===r?null:r)}function Vs(e,t,n,r){var i=Es();r=void 0===r?null:r;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==r&&ks(r,s.deps))return void(i.memoizedState=zs(t,n,o,r))}ms.flags|=e,i.memoizedState=zs(1|t,n,o,r)}function Ws(e,t){return Bs(8390656,8,e,t)}function qs(e,t){return Vs(2048,8,e,t)}function Hs(e,t){return Vs(4,2,e,t)}function Ks(e,t){return Vs(4,4,e,t)}function Gs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vs(4,4,Gs.bind(null,t,e),n)}function $s(){}function Ys(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xs(e,t){var n=Es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),ms.lanes|=n,Fl|=n,e.baseState=!0),t)}function Zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ps.transition;ps.transition={};try{e(!1),t()}finally{bt=n,ps.transition=r}}function ea(){return Es().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Io(e,t,n,r))){rc(n,e,r,tc()),oa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(i.next=i,To(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Io(e,t,i,r))&&(rc(n,e,r,i=tc()),oa(n,t,r))}}function ra(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ia(e,t){bs=ys=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var sa={readContext:Ao,useCallback:Ss,useContext:Ss,useEffect:Ss,useImperativeHandle:Ss,useInsertionEffect:Ss,useLayoutEffect:Ss,useMemo:Ss,useReducer:Ss,useRef:Ss,useState:Ss,useDebugValue:Ss,useDeferredValue:Ss,useTransition:Ss,useMutableSource:Ss,useSyncExternalStore:Ss,useId:Ss,unstable_isNewReconciler:!1},aa={readContext:Ao,useCallback:function(e,t){return As().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:Ws,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=As();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=As();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,ms,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},As().memoizedState=e},useState:js,useDebugValue:$s,useDeferredValue:function(e){return As().memoizedState=e},useTransition:function(){var e=js(!1),t=e[0];return e=Zs.bind(null,e[1]),As().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ms,i=As();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&fs)||Os(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ws(Ms.bind(null,r,s,e),[e]),r.flags|=2048,zs(9,Ds.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=As(),t=Rl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-st(Yi)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_s++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:Ao,useCallback:Ys,useContext:Ao,useEffect:qs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Is,useRef:Us,useState:function(){return Is(Ts)},useDebugValue:$s,useDeferredValue:function(e){return Js(Es(),gs.memoizedState,e)},useTransition:function(){return[Is(Ts)[0],Es().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1},ca={readContext:Ao,useCallback:Ys,useContext:Ao,useEffect:qs,useImperativeHandle:Qs,useInsertionEffect:Hs,useLayoutEffect:Ks,useMemo:Xs,useReducer:Rs,useRef:Us,useState:function(){return Rs(Ts)},useDebugValue:$s,useDeferredValue:function(e){var t=Es();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[Rs(Ts)[0],Es().memoizedState]},useMutableSource:Ns,useSyncExternalStore:Ps,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Do(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ha(0,t)},n}function ma(e,t,n){(n=Do(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ac.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Do(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=w.ReactCurrentOwner,wa=!1;function _a(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Xo(t,e.child,n,r)}function Sa(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=xs(e,t,n,r,o,i),n=Cs(),null===e||wa?(io&&n&&eo(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function ka(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,xa(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Dc(o,r)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(wa=!0)}}return Ea(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Dl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Dl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ai(Dl,Ol),Ol|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ai(Dl,Ol),Ol|=r;return _a(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,n,r,i){var o=Pi(n)?Ri:Ti.current;return o=Ni(t,o),Co(t,i),n=xs(e,t,n,r,o,i),r=Cs(),null===e||wa?(io&&r&&eo(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,n,r,i){if(Pi(n)){var o=!0;Li(t)}else o=!1;if(Co(t,i),null===t.stateNode)qa(e,t),qo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ao(c):c=Ni(t,c=Pi(n)?Ri:Ti.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Ho(t,s,r,c),No=!1;var h=t.memoizedState;s.state=h,jo(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Ii.current||No?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(a=No||Wo(t,n,a,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Oo(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:vo(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ni(t,l=Pi(n)?Ri:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Ho(t,s,r,l),No=!1,h=t.memoizedState,s.state=h,jo(t,r,s,i);var f=t.memoizedState;a!==d||h!==f||Ii.current||No?("function"===typeof p&&(Bo(t,n,p,r),f=t.memoizedState),(c=No||Wo(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ia(e,t,n,r,o,i)}function Ia(e,t,n,r,i,o){Aa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Fi(t,n,!1),Ha(e,t,o);r=t.stateNode,ba.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,a,o)):_a(e,t,a,o),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ra(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),is(e,t.containerInfo)}function Na(e,t,n,r,i){return fo(),mo(i),t.flags|=256,_a(e,t,n,r),t.child}var Pa,Oa,Da,Ma,La={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function ja(e,t,n){var r,i=t.pendingProps,s=ls.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ai(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Fc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=La,e):za(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=da(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(s=Lc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=La,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ua(e,t,a,r=da(s=Error(o(419)),r,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(r=Rl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ro(e,i),rc(r,e,i,-1))}return gc(),Ua(e,t,a,r=da(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),t=za(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(a){a=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Dc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Dc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Fa(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Dc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function za(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=za(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xo(e.return,t,n)}function Va(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ls.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(ls,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Va(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Va(t,!0,n,null,o);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Pi(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,os(),Ci(Ii),Ci(Ti),ds(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Oa(e,t),Ga(t),null;case 5:as(t);var i=rs(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Da(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ga(t),null}if(e=rs(es.current),ho(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,s,!0);break;case"textarea":K(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)zr(Mr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=rs(ns.current),rs(es.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ga(t),null;case 13:if(Ci(ls),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==oo&&(ac(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ml&&(Ml=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return os(),Oa(e,t),null===e&&Vr(t.stateNode.containerInfo),Ga(t),null;case 10:return ko(t.type._context),Ga(t),null;case 19:if(Ci(ls),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ka(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,Ka(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=cs(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!io)return Ga(t),null}else 2*Xe()-s.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=ls.current,Ai(ls,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $a(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Ci(Ii),Ci(Ti),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return as(t),null;case 13:if(Ci(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(ls),null;case 4:return os(),null;case 10:return ko(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Da=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(es.current);var o,s=null;switch(n){case"input":i=$(e,i),r=$(e,r),s=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Cc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=dl,i=hl;dl=null,pl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cc(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,pl(e,t,n),Xa=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(s,a,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Cc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Cc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Cc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Cc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(i,s),be(l,a);var u=be(l,s);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":J(i,s);break;case"textarea":oe(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){Cc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Cc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){Cc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||d,gl(t,e),Xa=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Za=e,d=e.child;null!==d;){for(h=Za=d;null!==Za;){switch(f=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cc(r,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(h);continue}}null!==f?(f.return=p,Za=f):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){Cc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Cc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(a){Cc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Ya;if(!s){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var c=Xa;if(Ya=s,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?kl(i):null!==l?(l.return=s,Za=l):kl(i);for(;null!==o;)Za=o,wl(o,t,n),o=o.sibling;Za=i,Ya=a,Xa=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Za=o):_l(e)}}function _l(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&zo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(o(163))}Xa||512&t.flags&&ol(t)}catch(p){Cc(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Sl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Cc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cc(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Cc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Cc(t,s,l)}}}catch(l){Cc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var xl,Cl=Math.ceil,Al=w.ReactCurrentDispatcher,El=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Rl=null,Nl=null,Pl=0,Ol=0,Dl=xi(0),Ml=0,Ll=null,Fl=0,jl=0,zl=0,Ul=null,Bl=null,Vl=0,Wl=1/0,ql=null,Hl=!1,Kl=null,Gl=null,Ql=!1,$l=null,Yl=0,Xl=0,Jl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Jl=null,Error(o(185));vt(e,n,r),0!==(2&Il)&&e===Rl||(e===Rl&&(0===(2&Il)&&(jl|=n),4===Ml&&lc(e,Pl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Wl=Xe()+500,zi&&Vi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,l=i[s];-1===l?0!==(a&n)&&0===(a&r)||(i[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=ht(e,e===Rl?Pl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){zi=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),si((function(){0===(6&Il)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Rl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var s=mc();for(Rl===e&&Pl===t||(ql=null,Wl=Xe()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}So(),Al.current=s,Il=i,null!==Nl?t=0:(Rl=null,Pl=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t)throw n=Ll,pc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(s=ft(e))&&(r=s,t=sc(e,s))),1===t))throw n=Ll,pc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Bl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Bl,ql),t);break}Sc(e,Bl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Bl,ql),r);break}Sc(e,Bl,ql);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~zl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(o(327));kc();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ll,pc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Bl,ql),ic(e,Xe()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Wl=Xe()+500,zi&&Vi())}}function dc(e){null!==$l&&0===$l.tag&&0===(6&Il)&&kc();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Vi()}}function hc(){Ol=Dl.current,Ci(Dl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:os(),Ci(Ii),Ci(Ti),ds();break;case 5:as(r);break;case 4:os();break;case 13:case 19:Ci(ls);break;case 10:ko(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Rl=e,Nl=e=Dc(e.current,null),Pl=Ol=t,Ml=0,Ll=null,zl=jl=Fl=0,Bl=Ul=null,null!==Eo){for(t=0;t<Eo.length;t++)if(null!==(r=(n=Eo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}Eo=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(So(),hs.current=sa,ys){for(var r=ms.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ys=!1}if(fs=0,vs=gs=ms=null,bs=!1,ws=0,El.current=null,null===n||null===n.return){Ml=1,Ll=t,Nl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=va(a);if(null!==f){f.flags&=-257,ya(f,a,l,0,t),1&f.mode&&ga(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(s,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),mo(ua(c,l));break e}}s=c=ua(c,l),4!==Ml&&(Ml=2),null===Ul?Ul=[s]:Ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,fa(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,Fo(s,ma(s,l,t));break e}}s=s.return}while(null!==s)}_c(n)}catch(w){t=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Al.current;return Al.current=sa,null===e?sa:e}function gc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Rl,Pl)}function vc(e,t){var n=Il;Il|=2;var r=mc();for(Rl===e&&Pl===t||(ql=null,pc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(So(),Il=n,Al.current=r,null!==Nl)throw Error(o(261));return Rl=null,Pl=0,Ml}function yc(){for(;null!==Nl;)wc(Nl)}function bc(){for(;null!==Nl&&!$e();)wc(Nl)}function wc(e){var t=xl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?_c(e):Nl=t,El.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Nl=n)}else{if(null!==(n=$a(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Ml=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Ml&&(Ml=5)}function Sc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==$l);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===Rl&&(Nl=Rl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Rc(tt,(function(){return kc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Il;Il|=4,El.current=null,function(e,t){if(ei=qt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=a+i),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=a),p===s&&++d===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(_){Cc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),fr(ti),qt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Il=l,bt=a,Tl.transition=s}else e.current=n;if(Ql&&(Ql=!1,$l=e,Yl=i),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Xl++:(Xl=0,Jl=e):Xl=0,Vi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function kc(){if(null!==$l){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Yl=0,0!==(6&Il))throw Error(o(331));var i=Il;for(Il|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var d=Za;switch(d.tag){case 0:case 11:case 15:rl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Za=h;else for(;null!==Za;){var p=(d=Za).sibling,f=d.return;if(sl(d),d===u){Za=null;break}if(null!==p){p.return=f,Za=p;break}Za=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:rl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var b=e.current;for(Za=b;null!==Za;){var w=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Za=w;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Cc(l,l.return,S)}if(l===a){Za=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Za=_;break e}Za=l.return}}if(Il=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function xc(e,t,n){e=Mo(e,t=fa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Cc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Mo(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Ac(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Pl&n)===n&&(4===Ml||3===Ml&&(130023424&Pl)===Pl&&500>Xe()-Vl?pc(e,0):zl|=n),ic(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ro(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Ec(e,n)}function Rc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Lc(n.children,i,s,t);case x:a=8,i|=8;break;case C:return(e=Pc(12,n,t,2|i)).elementType=C,e.lanes=s,e;case I:return(e=Pc(13,n,t,i)).elementType=I,e.lanes=s,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=s,e;case O:return Fc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case A:a=10;break e;case E:a=9;break e;case T:a=11;break e;case N:a=14;break e;case P:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,o,s,a,l){return e=new Uc(e,t,n,a,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Vc(e){if(!e)return Ei;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Wc(e,t,n,r,i,o,s,a,l){return(e=Bc(n,r,!0,e,0,o,0,a,l)).context=Vc(null),n=e.current,(o=Do(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,o=tc(),s=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Do(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,s))&&(rc(e,i,s,o),Lo(e,i,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ra(t),fo();break;case 5:ss(t);break;case 1:Pi(t.type)&&Li(t);break;case 4:is(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ja(e,t,n):(Ai(ls,1&ls.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ai(ls,1&ls.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(ls,ls.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Ha(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Ni(t,Ti.current);Co(t,n),i=xs(null,t,r,e,i,n);var s=Cs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Li(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Ia(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===N)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Ea(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Sa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Ra(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Oo(e,t),jo(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,i=ua(Error(o(423)),t));break e}if(r!==i){t=Na(e,t,r,n,i=ua(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Ha(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Aa(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return ja(e,t,n);case 4:return is(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ai(yo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Do(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),xo(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),xo(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Ao(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),ka(e,t,r,i=vo(r.type,i),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),qa(e,t),t.tag=1,Pi(r)?(e=!0,Li(t)):e=!1,Co(t,n),qo(t,r,i),Ko(t,r,i,n),Ia(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Ca(e,t,n)}throw Error(o(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hc(s);a.call(e)}}qc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(s);o.call(e)}}var s=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[fi]=s.current,Vr(8===e.nodeType?e.parentNode:e),dc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(s)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));qc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){qc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Il)&&(Wl=Xe()+500,Vi()))}break;case 13:dc((function(){var t=Ro(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},St=function(e){if(13===e.tag){var t=Ro(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},kt=function(e){if(13===e.tag){var t=nc(e),n=Ro(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},xt=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));G(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ie=dc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,Ae,Ee,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,s,a),e[fi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},349:(e,t,n)=>{"use strict";var r=n(9236);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},9236:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8796)},7363:(e,t,n)=>{"use strict";var r=n(7077),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},8724:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,m(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)S.call(t,i)&&!x.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:k.current}}function A(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===o?"."+T(l,0):o,_(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(A(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",_(e))for(var c=0;c<e.length;c++){var u=o+T(a=e[c],c);l+=I(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,u=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=A,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},7077:(e,t,n)=>{"use strict";e.exports=n(8724)},8289:(e,t,n)=>{"use strict";e.exports=n(7363)},2684:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,O(S);else{var t=r(u);null!==t&&D(_,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(A),A=-1),f=!0;var o=p;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!I());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(_,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,x=!1,C=null,A=-1,E=5,T=-1;function I(){return!(t.unstable_now()-T<E)}function R(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?k():(x=!1,C=null)}}else x=!1}if("function"===typeof b)k=function(){b(R)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,P=N.port2;N.port1.onmessage=R,k=function(){P.postMessage(null)}}else k=function(){v(R,0)};function O(e){C=e,x||(x=!0,k())}function D(e,n){A=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(A),A=-1):g=!0,D(_,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,O(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},9491:(e,t,n)=>{"use strict";e.exports=n(2684)},880:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},5296:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7763:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},7410:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{A:()=>r})},2853:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{A:()=>r})},3421:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}n.d(t,{A:()=>i});const i=function(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".41dc90bb.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="pwa-cookbook:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/pwa-cookbook/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkpwa_cookbook=self.webpackChunkpwa_cookbook||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r={};(()=>{"use strict";n.d(r,{j:()=>Az,db:()=>Cz});var e,t=n(7077),i=n.t(t,2),o=n(349),s=n(9236),a=n.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(QE){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function p(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(t,n,r,i){void 0===i&&(i={});let{window:o=document.defaultView,v5Compat:s=!1}=i,a=o.history,d=e.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){d=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:d,location:w.location,delta:n})}function b(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(l({},a.state,{idx:g}),""));let w={get action(){return d},get location(){return t(o,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(c,y),m=e,()=>{o.removeEventListener(c,y),m=null}},createHref:e=>n(o,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){d=e.Push;let i=p(w.location,t,n);r&&r(i,t),g=v()+1;let l=h(i,g),c=w.createHref(i);try{a.pushState(l,"",c)}catch(bs){if(bs instanceof DOMException&&"DataCloneError"===bs.name)throw bs;o.location.assign(c)}s&&m&&m({action:d,location:w.location,delta:1})},replace:function(t,n){d=e.Replace;let i=p(w.location,t,n);r&&r(i,t),g=v();let o=h(i,g),l=w.createHref(i);a.replaceState(o,"",l),s&&m&&m({action:d,location:w.location,delta:0})},go:e=>a.go(e)};return w}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=P(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let s=0;null==o&&s<i.length;++s){let e=N(r);o=I(i[s],e)}return o}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(u(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let a=F([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),b(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:T(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of w(e.path))i(e,t,r);else i(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let s=w(r.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,S=3,k=2,x=1,C=10,A=-2,E=e=>"*"===e;function T(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=A),t&&(r+=k),n.filter((e=>!E(e))).reduce(((e,t)=>e+(_.test(t)?S:""===t?x:C)),r)}function I(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],a=s===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;o.push({params:r,pathname:F([i,c.pathname]),pathnameBase:j(F([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=F([i,c.pathnameBase]))}return o}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(bs){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+bs+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function O(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function M(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),O("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),O("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),O("#","search","hash",i)));let o,s=""===e||""===i.pathname,a=s?"/":i.pathname;if(null==a)o=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:z(r),hash:U(i)}}(i,o),d=a&&"/"!==a&&a.endsWith("/"),h=(s||"."===a)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}const F=e=>e.join("/").replace(/\/\/+/g,"/"),j=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],W=(new Set(V),["get",...V]);new Set(W),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q.apply(this,arguments)}const H=t.createContext(null);const K=t.createContext(null);const G=t.createContext(null);const Q=t.createContext(null);const $=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=t.createContext(null);function X(){return null!=t.useContext(Q)}function J(){return X()||u(!1),t.useContext(Q).location}function Z(e){t.useContext(G).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext($);return e?function(){let{router:e}=ce(ae.UseNavigateStable),n=de(le.UseNavigateStable),r=t.useRef(!1);Z((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},i)))}),[e,n]);return i}():function(){X()||u(!1);let e=t.useContext(H),{basename:n,future:r,navigator:i}=t.useContext(G),{matches:o}=t.useContext($),{pathname:s}=J(),a=JSON.stringify(M(o,r.v7_relativeSplatPath)),l=t.useRef(!1);Z((()=>{l.current=!0}));let c=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let o=L(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(o.pathname="/"===o.pathname?n:F([n,o.pathname])),(r.replace?i.replace:i.push)(o,r.state,r)}),[n,i,a,s,e]);return c}()}function te(n,r,i,o){X()||u(!1);let{navigator:s}=t.useContext(G),{matches:a}=t.useContext($),l=a[a.length-1],c=l?l.params:{},d=(l&&l.pathname,l?l.pathnameBase:"/");l&&l.route;let h,p=J();if(r){var f;let e="string"===typeof r?m(r):r;"/"===d||(null==(f=e.pathname)?void 0:f.startsWith(d))||u(!1),h=e}else h=p;let g=h.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=y(n,{pathname:v});let w=se(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:F([d,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:F([d,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,o);return r&&w?t.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},w):w}function ne(){let e=function(){var e;let n=t.useContext(Y),r=ue(le.UseRouteError),i=de(le.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:o},r):null,null)}const re=t.createElement(ne,null);class ie extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement($.Provider,{value:this.props.routeContext},t.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:n,match:r,children:i}=e,o=t.useContext(H);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement($.Provider,{value:n},i)}function se(e,n,r,i){var o;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(null==(s=r)||!s.errors)return null;e=r.matches}let a=e,l=null==(o=r)?void 0:o.errors;if(null!=l){let e=a.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let c=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){c=!0,a=d>=0?a.slice(0,d+1):[a[0]];break}}}return a.reduceRight(((e,i,o)=>{let s,u=!1,h=null,p=null;var f;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||re,c&&(d<0&&0===o?(f="route-fallback",!1||he[f]||(he[f]=!0),u=!0,p=null):d===o&&(u=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,o+1)),g=()=>{let n;return n=s?h:u?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(oe,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===o)?t.createElement(ie,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let n=t.useContext(H);return n||u(!1),n}function ue(e){let n=t.useContext(K);return n||u(!1),n}function de(e){let n=function(e){let n=t.useContext($);return n||u(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||u(!1),r.route.id}const he={};i.startTransition;function pe(e){u(!1)}function fe(n){let{basename:r="/",children:i=null,location:o,navigationType:s=e.Pop,navigator:a,static:l=!1,future:c}=n;X()&&u(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:d,navigator:a,static:l,future:q({v7_relativeSplatPath:!1},c)})),[d,c,a,l]);"string"===typeof o&&(o=m(o));let{pathname:p="/",search:f="",hash:g="",state:v=null,key:y="default"}=o,b=t.useMemo((()=>{let e=P(p,d);return null==e?null:{location:{pathname:e,search:f,hash:g,state:v,key:y},navigationType:s}}),[d,p,f,g,v,y,s]);return null==b?null:t.createElement(G.Provider,{value:h},t.createElement(Q.Provider,{children:i,value:b}))}function me(e){let{children:t,location:n}=e;return te(ge(t),n)}new Promise((()=>{}));t.Component;function ge(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,ge(e.props.children,o));e.type!==pe&&u(!1),e.props.index&&e.props.children&&u(!1);let s={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ge(e.props.children,o)),r.push(s)})),r}function ve(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(QE){}new Map;const ye=i.startTransition;a.flushSync,i.useId;function be(e){let{basename:n,children:r,future:i,window:o}=e,s=t.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:o,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n="/",search:r="",hash:i=""}=m(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),p("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:f(t))}),(function(e,t){d("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),a)));let l=s.current,[c,u]=t.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},v=t.useCallback((e=>{h&&ye?ye((()=>u(e))):u(e)}),[u,h]);return t.useLayoutEffect((()=>l.listen(v)),[l,v]),t.createElement(fe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var we,_e;function Se(e){let n=t.useRef(ve(e)),r=t.useRef(!1),i=J(),o=t.useMemo((()=>function(e,t){let n=ve(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(i.search,r.current?null:n.current)),[i.search]),s=ee(),a=t.useCallback(((e,t)=>{const n=ve("function"===typeof e?e(o):e);r.current=!0,s("?"+n,t)}),[s,o]);return[o,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(we||(we={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(_e||(_e={}));const ke=!1,xe=!1,Ce="${JSCORE_VERSION}",Ae=function(e,t){if(!e)throw Ee(t)},Ee=function(e){return new Error("Firebase Database ("+Ce+") INTERNAL ASSERT FAILED: "+e)},Te=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;a||(h=64,o||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Te(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw new Re;const l=t<<2|o>>4;if(r.push(l),64!==s){const e=o<<4&240|s>>2;if(r.push(e),64!==a){const e=s<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Re extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ne=function(e){const t=Te(e);return Ie.encodeByteArray(t,!0)},Pe=function(e){return Ne(e).replace(/\./g,"")},Oe=function(e){try{return Ie.decodeString(e,!0)}catch(QE){console.error("base64Decode failed: ",QE)}return null};function De(e){return Me(void 0,e)}function Me(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Me(e[n],t[n]));return e}const Le=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Fe=()=>{try{return Le()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pwa-cookbook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(QE){return}const t=e&&Oe(e[1]);return t&&JSON.parse(t)})()}catch(QE){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(QE))}},je=e=>{var t,n;return null===(n=null===(t=Fe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},ze=e=>{const t=je(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ue=()=>{var e;return null===(e=Fe())||void 0===e?void 0:e.config},Be=e=>{var t;return null===(t=Fe())||void 0===t?void 0:t["_".concat(e)]};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function We(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pe(JSON.stringify({alg:"none",type:"JWT"})),Pe(JSON.stringify(o)),""].join(".")}function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function Ke(){var e;const t=null===(e=Fe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(QE){return!1}}function Ge(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Qe(){return!0===ke||!0===xe}function $e(){try{return"object"===typeof indexedDB}catch(QE){return!1}}class Ye extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xe.prototype.create)}}class Xe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Je,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",o="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ye(n,o,t)}}const Je=/\{\$([^}]+)}/g;function Ze(e){return JSON.parse(e)}function et(e){return JSON.stringify(e)}const tt=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Ze(Oe(o[0])||""),n=Ze(Oe(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(QE){}return{header:t,claims:n,data:r,signature:i}};function nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rt(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function it(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ot(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function st(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(at(n)&&at(o)){if(!st(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function at(e){return null!==e&&"object"===typeof e}function lt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ct(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ut(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class dt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^s&(a^l),i=1518500249):(r=s^a^l,i=1859775393):u<60?(r=s&a|l&(s|a),i=2400959708):(r=s^a^l,i=3395469782);const e=(o<<5|o>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class ht{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=pt),void 0===r.error&&(r.error=pt),void 0===r.complete&&(r.complete=pt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(QE){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(QE){"undefined"!==typeof console&&console.error&&console.error(QE)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function pt(){}function ft(e,t){return"".concat(e," failed: ").concat(t," argument ")}const mt=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function gt(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function vt(e){return e&&e._delegate?e._delegate:e}class yt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const bt="[DEFAULT]";class wt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(QE){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(QE){if(r)return null;throw QE}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch(QE){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(QE){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_t(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.component?this.component.multipleInstances?e:bt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function _t(e){return e===bt?void 0:e}class St{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new wt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const kt=[];var xt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xt||(xt={}));const Ct={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},At=xt.INFO,Et={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},Tt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Et[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...o)};class It{constructor(e){this.name=e,this._logLevel=At,this._logHandler=Tt,this._userLogHandler=null,kt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ct[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const Rt=(e,t)=>t.some((t=>e instanceof t));let Nt,Pt;const Ot=new WeakMap,Dt=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Ft=new WeakMap;let jt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function zt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Pt||(Pt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vt(this),n),Bt(Ot.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Bt(e.apply(Vt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(Vt(this),t,...r);return Mt.set(o,t.sort?t.sort():[t]),Bt(o)}}function Ut(e){return"function"===typeof e?zt(e):(e instanceof IDBTransaction&&function(e){if(Dt.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));Dt.set(e,t)}(e),Rt(e,Nt||(Nt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,jt):e)}function Bt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Bt(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Ot.set(t,e)})).catch((()=>{})),Ft.set(t,e),t}(e);if(Lt.has(e))return Lt.get(e);const t=Ut(e);return t!==e&&(Lt.set(e,t),Ft.set(t,e)),t}const Vt=e=>Ft.get(e);const Wt=["get","getKey","getAll","getAllKeys","count"],qt=["put","add","delete","clear"],Ht=new Map;function Kt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ht.get(t))return Ht.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=qt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Wt.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return Ht.set(t,o),o}jt=(e=>({...e,get:(t,n,r)=>Kt(t,n)||e.get(t,n,r),has:(t,n)=>!!Kt(t,n)||e.has(t,n)}))(jt);class Gt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Qt="@firebase/app",$t="0.9.13",Yt=new It("@firebase/app"),Xt="@firebase/app-compat",Jt="@firebase/analytics-compat",Zt="@firebase/analytics",en="@firebase/app-check-compat",tn="@firebase/app-check",nn="@firebase/auth",rn="@firebase/auth-compat",on="@firebase/database",sn="@firebase/database-compat",an="@firebase/functions",ln="@firebase/functions-compat",cn="@firebase/installations",un="@firebase/installations-compat",dn="@firebase/messaging",hn="@firebase/messaging-compat",pn="@firebase/performance",fn="@firebase/performance-compat",mn="@firebase/remote-config",gn="@firebase/remote-config-compat",vn="@firebase/storage",yn="@firebase/storage-compat",bn="@firebase/firestore",wn="@firebase/firestore-compat",_n="firebase",Sn="[DEFAULT]",kn={[Qt]:"fire-core",[Xt]:"fire-core-compat",[Zt]:"fire-analytics",[Jt]:"fire-analytics-compat",[tn]:"fire-app-check",[en]:"fire-app-check-compat",[nn]:"fire-auth",[rn]:"fire-auth-compat",[on]:"fire-rtdb",[sn]:"fire-rtdb-compat",[an]:"fire-fn",[ln]:"fire-fn-compat",[cn]:"fire-iid",[un]:"fire-iid-compat",[dn]:"fire-fcm",[hn]:"fire-fcm-compat",[pn]:"fire-perf",[fn]:"fire-perf-compat",[mn]:"fire-rc",[gn]:"fire-rc-compat",[vn]:"fire-gcs",[yn]:"fire-gcs-compat",[bn]:"fire-fst",[wn]:"fire-fst-compat","fire-js":"fire-js",[_n]:"fire-js-all"},xn=new Map,Cn=new Map;function An(e,t){try{e.container.addComponent(t)}catch(QE){Yt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),QE)}}function En(e){const t=e.name;if(Cn.has(t))return Yt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Cn.set(t,e);for(const n of xn.values())An(n,e);return!0}function Tn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const In=new Xe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new yt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const Nn="9.23.0";function Pn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw In.create("bad-app-name",{appName:String(i)});if(n||(n=Ue()),!n)throw In.create("no-options");const o=xn.get(i);if(o){if(st(n,o.options)&&st(r,o.config))return o;throw In.create("duplicate-app",{appName:i})}const s=new St(i);for(const l of Cn.values())s.addComponent(l);const a=new Rn(n,r,s);return xn.set(i,a),a}function On(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;const t=xn.get(e);if(!t&&e===Sn&&Ue())return Pn();if(!t)throw In.create("no-app",{appName:e});return t}function Dn(e,t,n){var r;let i=null!==(r=kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Yt.warn(e.join(" "))}En(new yt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const Mn="firebase-heartbeat-database",Ln=1,Fn="firebase-heartbeat-store";let jn=null;function zn(){return jn||(jn=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=Bt(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(Bt(s.result),e.oldVersion,e.newVersion,Bt(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Mn,Ln,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Fn)}}).catch((e=>{throw In.create("idb-open",{originalErrorMessage:e.message})}))),jn}async function Un(e,t){try{const n=(await zn()).transaction(Fn,"readwrite"),r=n.objectStore(Fn);await r.put(t,Bn(e)),await n.done}catch(QE){if(QE instanceof Ye)Yt.warn(QE.message);else{const t=In.create("idb-set",{originalErrorMessage:null===QE||void 0===QE?void 0:QE.message});Yt.warn(t.message)}}}function Bn(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Wn();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Wn(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Hn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Hn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=Pe(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Wn(){return(new Date).toISOString().substring(0,10)}class qn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!$e()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(bs){t(bs)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await zn();return await t.transaction(Fn).objectStore(Fn).get(Bn(e))}catch(QE){if(QE instanceof Ye)Yt.warn(QE.message);else{const t=In.create("idb-get",{originalErrorMessage:null===QE||void 0===QE?void 0:QE.message});Yt.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Hn(e){return Pe(JSON.stringify({version:2,heartbeats:e})).length}var Kn;Kn="",En(new yt("platform-logger",(e=>new Gt(e)),"PRIVATE")),En(new yt("heartbeat",(e=>new Vn(e)),"PRIVATE")),Dn(Qt,$t,Kn),Dn(Qt,$t,"esm2017"),Dn("fire-js","");function Gn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Qn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $n=Qn,Yn=new Xe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xn=new It("@firebase/auth");function Jn(e){if(Xn.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.error("Auth (".concat(Nn,"): ").concat(e),...n)}}function Zn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw nr(e,...n)}function er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nr(e,...n)}function tr(e,t,n){const r=Object.assign(Object.assign({},$n()),{[t]:n});return new Xe("auth","Firebase",r).create(t,{appName:e.name})}function nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Yn.create(e,...n)}function rr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw nr(t,...r)}}function ir(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jn(t),new Error(t)}function or(e,t){e||ir(t)}function sr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ar(){return"http:"===lr()||"https:"===lr()}function lr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function cr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ar()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class ur{constructor(e,t){this.shortDelay=e,this.longDelay=t,or(t>e,"Short delay should be less than long delay!"),this.isMobile=He()||Ge()}get(){return cr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dr(e,t){or(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class hr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},fr=new ur(3e4,6e4);function mr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function gr(e,t,n,r){return vr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const s=lt(Object.assign({key:e.config.apiKey},o)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),hr.fetch()(br(e,e.config.apiHost,n,s),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function vr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},pr),t);try{const t=new wr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw _r(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw _r(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw _r(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw _r(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw tr(e,a,s);Zn(e,a)}}catch(QE){if(QE instanceof Ye)throw QE;Zn(e,"network-request-failed",{message:String(QE)})}}async function yr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const o=await gr(e,t,n,r,i);return"mfaPendingCredential"in o&&Zn(e,"multi-factor-auth-required",{_serverResponse:o}),o}function br(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?dr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class wr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(er(this.auth,"network-request-failed"))),fr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function _r(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(e,t,r);return i.customData._tokenResponse=n,i}function Sr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(QE){}}function kr(e){return 1e3*Number(e)}function xr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Oe(n);return e?JSON.parse(e):(Jn("Failed to decode base64 JWT payload"),null)}catch(QE){return Jn("Caught error parsing JWT payload as JSON",null===QE||void 0===QE?void 0:QE.toString()),null}}async function Cr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(QE){throw QE instanceof Ye&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(QE)&&e.auth.currentUser===e&&await e.auth.signOut(),QE}}class Ar{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(QE){return void((null===QE||void 0===QE?void 0:QE.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Er{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Tr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Cr(e,async function(e,t){return gr(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));rr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?o.providerUserInfo.map((e=>{var{providerId:t}=e,n=Gn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=s,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),h=!!u&&d,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Er(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,p)}class Ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rr(e.idToken,"internal-error"),rr("undefined"!==typeof e.idToken,"internal-error"),rr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=xr(e);return rr(t,"internal-error"),rr("undefined"!==typeof t.exp,"internal-error"),rr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rr(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await vr(e,{},(async()=>{const n=lt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=br(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",hr.fetch()(o,{method:"POST",headers:s,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new Ir;return n&&(rr("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(rr("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(rr("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ir,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Rr(e,t){rr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Nr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Gn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Er(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Cr(this,this.stsTokenManager.getToken(this.auth,e));return rr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=vt(e),r=await n.getIdToken(t),i=xr(r);rr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"===typeof i.firebase?i.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Sr(kr(i.auth_time)),issuedAtTime:Sr(kr(i.iat)),expirationTime:Sr(kr(i.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=vt(e);await Tr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(rr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Tr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Cr(this,async function(e,t){return gr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,f=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;rr(y&&S,e,"internal-error");const k=Ir.fromJSON(this.name,S);rr("string"===typeof y,e,"internal-error"),Rr(u,e.name),Rr(d,e.name),rr("boolean"===typeof b,e,"internal-error"),rr("boolean"===typeof w,e,"internal-error"),Rr(h,e.name),Rr(p,e.name),Rr(f,e.name),Rr(m,e.name),Rr(g,e.name),Rr(v,e.name);const x=new Nr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:f,stsTokenManager:k,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ir;r.updateFromServerResponse(t);const i=new Nr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Tr(i),i}}const Pr=new Map;function Or(e){or(e instanceof Function,"Expected a class definition");let t=Pr.get(e);return t?(or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Pr.set(e,t),t)}class Dr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dr.type="NONE";const Mr=Dr;function Lr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Fr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Lr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Lr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Fr(Or(Mr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Or(Mr);const o=Lr(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(o);if(t){const n=Nr._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new Fr(i,e,n)):new Fr(i,e,n)}}function jr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(zr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qr(t))return"Blackberry";if(Hr(t))return"Webos";if(Ur(t))return"Safari";if((t.includes("chrome/")||Br(t))&&!t.includes("edge/"))return"Chrome";if(Wr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/firefox\//i.test(e)}function Ur(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/crios\//i.test(e)}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iemobile/i.test(e)}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/android/i.test(e)}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/blackberry/i.test(e)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/webos/i.test(e)}function Kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Gr(){return function(){const e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Kr(e)||Wr(e)||Hr(e)||qr(e)||/windows phone/i.test(e)||Vr(e)}function $r(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jr(qe());break;case"Worker":t="".concat(jr(qe()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Nn,"/").concat(r)}async function Yr(e,t){return gr(e,"GET","/v2/recaptchaConfig",mr(e,t))}function Xr(e){return void 0!==e&&void 0!==e.enterprise}class Jr{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some((e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState))}}function Zr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ei(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class ti{constructor(e){this.type="recaptcha-enterprise",this.auth=oi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Yr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Jr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Xr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Zr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ni(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new ti(e);let o;try{o=await i.verify(n)}catch(bs){o=await i.verify(n,!0)}const s=Object.assign({},t);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}class ri{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(QE){r(QE)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(QE){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===QE||void 0===QE?void 0:QE.message})}}}class ii{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new si(this),this.idTokenSubscription=new si(this),this.beforeStateQueue=new ri(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Fr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(QE){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(QE){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(QE)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(QE){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tr(e)}catch(QE){if((null===QE||void 0===QE?void 0:QE.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?vt(e):null;return t&&rr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&rr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Or(e))}))}async initializeRecaptchaConfig(){const e=await Yr(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new Jr(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new ti(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;rr(t,this,"argument-error"),this.redirectPersistenceManager=await Fr.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rr(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$r(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Xn.logLevel<=xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Xn.warn("Auth (".concat(Nn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function oi(e){return vt(e)}class si{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ht(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return rr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ai(e,t,n){const r=oi(e);rr(r._canInitEmulator,r,"emulator-config-failed"),rr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=li(t),{host:s,port:a}=function(e){const t=li(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ci(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ci(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function li(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ci(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ui{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function di(e,t){return gr(e,"POST","/v1/accounts:update",t)}async function hi(e,t){return yr(e,"POST","/v1/accounts:signInWithPassword",mr(e,t))}class pi extends ui{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new pi(e,t,"password")}static _fromEmailAndCode(e,t){return new pi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await ni(e,n,"signInWithPassword");return hi(e,t)}return hi(e,n).catch((async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await ni(e,n,"signInWithPassword");return hi(e,t)}return Promise.reject(t)}));case"emailLink":return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithEmailLink",mr(e,t))}(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return di(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithEmailLink",mr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fi(e,t){return yr(e,"POST","/v1/accounts:signInWithIdp",mr(e,t))}class mi extends ui{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Gn(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new mi(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return fi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,fi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,fi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=lt(t)}return e}}const gi={USER_NOT_FOUND:"user-not-found"};class vi extends ui{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithPhoneNumber",mr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await yr(e,"POST","/v1/accounts:signInWithPhoneNumber",mr(e,t));if(n.temporaryProof)throw _r(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return yr(e,"POST","/v1/accounts:signInWithPhoneNumber",mr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),gi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new vi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class yi{constructor(e){var t,n,r,i,o,s;const a=ct(ut(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);rr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=a.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=a.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=ct(ut(e)).link,n=t?ct(ut(t)).deep_link_id:null,r=ct(ut(e)).deep_link_id;return(r?ct(ut(r)).link:null)||r||n||t||e}(e);try{return new yi(t)}catch(n){return null}}}class bi{constructor(){this.providerId=bi.PROVIDER_ID}static credential(e,t){return pi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=yi.parseLink(t);return rr(n,"argument-error"),pi._fromEmailAndCode(e,n.code,n.tenantId)}}bi.PROVIDER_ID="password",bi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class wi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _i extends wi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Si extends _i{constructor(){super("facebook.com")}static credential(e){return mi._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch(n){return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com",Si.PROVIDER_ID="facebook.com";class ki extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return mi._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ki.credential(n,r)}catch(i){return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com",ki.PROVIDER_ID="google.com";class xi extends _i{constructor(){super("github.com")}static credential(e){return mi._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return xi.credential(t.oauthAccessToken)}catch(n){return null}}}xi.GITHUB_SIGN_IN_METHOD="github.com",xi.PROVIDER_ID="github.com";class Ci extends _i{constructor(){super("twitter.com")}static credential(e,t){return mi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ci.credential(n,r)}catch(i){return null}}}async function Ai(e,t){return yr(e,"POST","/v1/accounts:signUp",mr(e,t))}Ci.TWITTER_SIGN_IN_METHOD="twitter.com",Ci.PROVIDER_ID="twitter.com";class Ei{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Nr._fromIdTokenResponse(e,n,r),o=Ti(n);return new Ei({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ti(n);return new Ei({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ti(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ii extends Ye{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ii.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ii(e,t,n,r)}}function Ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ii._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Cr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ei._forOperation(e,"link",r)}async function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const o=await Cr(e,Ri(r,i,t,e),n);rr(o.idToken,r,"internal-error");const s=xr(o.idToken);rr(s,r,"internal-error");const{sub:a}=s;return rr(e.uid===a,r,"user-mismatch"),Ei._forOperation(e,i,o)}catch(QE){throw(null===QE||void 0===QE?void 0:QE.code)==="auth/".concat("user-not-found")&&Zn(r,"user-mismatch"),QE}}async function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ri(e,r,t),o=await Ei._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Di(e,t){return Oi(oi(e),t)}async function Mi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=vt(e),o={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},s=await Cr(i,async function(e,t){return gr(e,"POST","/v1/accounts:update",t)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}new WeakMap;const Li="__sak";class Fi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Li,"1"),this.storage.removeItem(Li),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ji extends Fi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=qe();return Ur(e)||Kr(e)}()&&function(){try{return!(!window||window===window.top)}catch(QE){return!1}}(),this.fallbackToPolling=Qr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Gr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ji.type="LOCAL";const zi=ji;class Ui extends Fi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ui.type="SESSION";const Bi=Ui;class Vi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Vi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Vi.receivers=[];class qi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Wi("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function Hi(){return window}function Ki(){return"undefined"!==typeof Hi().WorkerGlobalScope&&"function"===typeof Hi().importScripts}const Gi="firebaseLocalStorageDb",Qi="firebaseLocalStorage",$i="fbase_key";class Yi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Xi(e,t){return e.transaction([Qi],t?"readwrite":"readonly").objectStore(Qi)}function Ji(){const e=indexedDB.open(Gi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Qi,{keyPath:$i})}catch(QE){n(QE)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Qi)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Gi);return new Yi(e).toPromise()}(),t(await Ji()))}))}))}async function Zi(e,t,n){const r=Xi(e,!0).put({[$i]:t,value:n});return new Yi(r).toPromise()}function eo(e,t){const n=Xi(e,!0).delete(t);return new Yi(n).toPromise()}class to{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ji()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(QE){if(t++>3)throw QE;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ki()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vi._getInstance(Ki()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new qi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ji();return await Zi(e,Li,"1"),await eo(e,Li),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Zi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Xi(e,!1).get(t),r=await new Yi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>eo(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Xi(e,!1).getAll();return new Yi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}to.type="LOCAL";const no=to;ei("rcb"),new ur(3e4,6e4);const ro="recaptcha";async function io(e,t,n){var r;const i=await n.verify();try{let o;if(rr("string"===typeof i,e,"argument-error"),rr(n.type===ro,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){rr("enroll"===t.type,e,"internal-error");const n=await function(e,t){return gr(e,"POST","/v2/accounts/mfaEnrollment:start",mr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{rr("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;rr(n,e,"missing-multi-factor-info");const s=await function(e,t){return gr(e,"POST","/v2/accounts/mfaSignIn:start",mr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return gr(e,"POST","/v1/accounts:sendVerificationCode",mr(e,t))}(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class oo{constructor(e){this.providerId=oo.PROVIDER_ID,this.auth=oi(e)}verifyPhoneNumber(e,t){return io(this.auth,e,vt(t))}static credential(e,t){return vi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return oo.credentialFromTaggedObject(t)}static credentialFromError(e){return oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?vi._fromTokenResponse(n,r):null}}function so(e,t){return t?Or(t):(rr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}oo.PROVIDER_ID="phone",oo.PHONE_SIGN_IN_METHOD="phone";class ao extends ui{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return fi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return fi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lo(e){return Oi(e.auth,new ao(e),e.bypassAuthState)}function co(e){const{auth:t,user:n}=e;return rr(n,t,"internal-error"),Pi(n,new ao(e),e.bypassAuthState)}async function uo(e){const{auth:t,user:n}=e;return rr(n,t,"internal-error"),Ni(n,new ao(e),e.bypassAuthState)}class ho{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(QE){this.reject(QE)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(QE){this.reject(QE)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lo;case"linkViaPopup":case"linkViaRedirect":return uo;case"reauthViaPopup":case"reauthViaRedirect":return co;default:Zn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const po=new ur(2e3,1e4);class fo extends ho{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rr(e,this.auth,"internal-error"),e}async onExecution(){or(1===this.filter.length,"Popup operations only handle one event");const e=Wi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(er(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(er(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,po.get())};e()}}fo.currentPopupAction=null;const mo="pendingRedirect",go=new Map;class vo extends ho{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=go.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=wo(t),r=bo(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(QE){e=()=>Promise.reject(QE)}go.set(this.auth._key(),e)}return this.bypassAuthState||go.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function yo(e,t){go.set(e._key(),t)}function bo(e){return Or(e._redirectPersistence)}function wo(e){return Lr(mo,e.config.apiKey,e.name)}async function _o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=oi(e),i=so(r,t),o=new vo(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class So{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!xo(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(er(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ko(e))}saveEventToCache(e){this.cachedEventUids.add(ko(e)),this.lastProcessedEventTime=Date.now()}}function ko(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function xo(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Co=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ao=/^https?/;async function Eo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return gr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(To(r))return}catch(n){}Zn(e,"unauthorized-domain")}function To(e){const t=sr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ao.test(n))return!1;if(Co.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Io=new ur(3e4,6e4);function Ro(){const e=Hi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let No=null;function Po(e){return No=No||function(e){return new Promise(((t,n)=>{var r,i,o;function s(){Ro(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ro(),n(er(e,"network-request-failed"))},timeout:Io.get()})}if(null===(i=null===(r=Hi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Hi().gapi)||void 0===o?void 0:o.load)){const t=ei("iframefcb");return Hi()[t]=()=>{gapi.load?s():n(er(e,"network-request-failed"))},Zr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}s()}})).catch((e=>{throw No=null,e}))}(e),No}const Oo=new ur(5e3,15e3),Do="__/auth/iframe",Mo="emulator/auth/iframe",Lo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Fo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jo(e){const t=e.config;rr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?dr(t,Mo):"https://".concat(e.config.authDomain,"/").concat(Do),r={apiKey:t.apiKey,appName:e.name,v:Nn},i=Fo.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),"".concat(n,"?").concat(lt(r).slice(1))}const zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Uo{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(QE){}}}function Bo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},zo),{width:r.toString(),height:i.toString(),top:o,left:s}),c=qe().toLowerCase();n&&(a=Br(c)?"_blank":n),zr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Kr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Uo(null);const d=window.open(t||"",a,u);rr(d,e,"popup-blocked");try{d.focus()}catch(QE){}return new Uo(d)}const Vo="__/auth/handler",Wo="emulator/auth/handler",qo=encodeURIComponent("fac");async function Ho(e,t,n,r,i,o){rr(e.config.authDomain,e,"auth-domain-config-required"),rr(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Nn,eventId:i};if(t instanceof wi){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",it(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))s[e]=t}if(t instanceof _i){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(qo,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vo);return dr(t,Wo)}(e),"?").concat(lt(a).slice(1)).concat(c)}const Ko="webStorageSupport";const Go=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bi,this._completeRedirectFn=_o,this._overrideRedirectResult=yo}async _openPopup(e,t,n,r){var i;or(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Bo(e,await Ho(e,t,n,sr(),r),Wi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Hi().location.href=e}(await Ho(e,t,n,sr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(or(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Po(e),n=Hi().gapi;return rr(n,e,"internal-error"),t.open({where:document.body,url:jo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=er(e,"network-request-failed"),o=Hi().setTimeout((()=>{r(i)}),Oo.get());function s(){Hi().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}(e),n=new So(e);return t.register("authEvent",(t=>{rr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ko,{type:Ko},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ko];void 0!==i&&t(!!i),Zn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Eo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qr()||Ur()||Kr()}};var Qo="@firebase/auth",$o="0.23.2";class Yo{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xo=Be("authIdTokenMaxAge")||300;let Jo=null;const Zo=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Xo)return;const i=null===n||void 0===n?void 0:n.token;Jo!==i&&(Jo=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On();const t=Tn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Tn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(st(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Zn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Go,persistence:[no,zi,Bi]}),r=Be("authTokenSyncURL");if(r){const e=Zo(r);!function(e,t,n){vt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){vt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=je("auth");return i&&ai(n,"http://".concat(i)),n}var ts;ts="Browser",En(new yt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;rr(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:ts,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$r(ts)},c=new ii(r,i,o,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Or);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),En(new yt("auth-internal",(e=>(e=>new Yo(e))(oi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Dn(Qo,$o,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ts)),Dn(Qo,$o,"esm2017");const ns="@firebase/database",rs="0.14.4";let is="";class os{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),et(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ze(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class ss{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return nt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const as=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new os(t)}}catch(QE){}return new ss},ls=as("localStorage"),cs=as("sessionStorage"),us=new It("@firebase/database"),ds=function(){let e=1;return function(){return e++}}(),hs=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ae(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new dt;n.update(t);const r=n.digest();return Ie.encodeByteArray(r)},ps=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=ps.apply(null,n):e+="object"===typeof n?et(n):n,e+=" "}return e};let fs=null,ms=!0;const gs=function(e,t){Ae(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(us.logLevel=xt.VERBOSE,fs=us.log.bind(us),t&&cs.set("logging_enabled",!0)):"function"===typeof e?fs=e:(fs=null,cs.remove("logging_enabled"))},vs=function(){if(!0===ms&&(ms=!1,null===fs&&!0===cs.get("logging_enabled")&&gs(!0)),fs){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=ps.apply(null,t);fs(r)}},ys=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];vs(e,...n)}},bs=function(){const e="FIREBASE INTERNAL ERROR: "+ps(...arguments);us.error(e)},ws=function(){const e="FIREBASE FATAL ERROR: ".concat(ps(...arguments));throw us.error(e),new Error(e)},_s=function(){const e="FIREBASE WARNING: "+ps(...arguments);us.warn(e)},Ss=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ks="[MIN_NAME]",xs="[MAX_NAME]",Cs=function(e,t){if(e===t)return 0;if(e===ks||t===xs)return-1;if(t===ks||e===xs)return 1;{const n=Os(e),r=Os(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},As=function(e,t){return e===t?0:e<t?-1:1},Es=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+et(t))},Ts=function(e){if("object"!==typeof e||null===e)return et(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=et(t[r]),n+=":",n+=Ts(e[t[r]]);return n+="}",n},Is=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Rs(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Ns=function(e){Ae(!Ss(e),"Invalid JSON number");const t=1023;let n,r,i,o,s;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(o=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=o+t,i=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(s=52;s;s-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(s=11;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(s=0;s<64;s+=8){let e=parseInt(l.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const Ps=new RegExp("^-?(0*)\\d{1,10}$"),Os=function(e){if(Ps.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ds=function(e){try{e()}catch(QE){setTimeout((()=>{const t=QE.stack||"";throw _s("Exception was thrown by user callback.",t),QE}),Math.floor(0))}},Ms=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class Ls{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){_s('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Fs{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(vs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_s(e)}}class js{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}js.OWNER="owner";const zs="5",Us=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Bs="ac",Vs="websocket",Ws="long_polling";class qs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Hs(e,t,n){let r;if(Ae("string"===typeof t,"typeof type must == string"),Ae("object"===typeof n,"typeof params must == object"),t===Vs)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Ws)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return Rs(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Ks{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;nt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return De(this.counters_)}}const Gs={},Qs={};function $s(e){const t=e.toString();return Gs[t]||(Gs[t]=new Ks),Gs[t]}class Ys{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ds((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Xs="start";class Js{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ys(e),this.stats_=$s(t),this.urlFn=e=>(this.appCheckToken&&(e[Bs]=this.appCheckToken),Hs(t,Ws,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ys(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Qe()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Zs((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o,s,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Xs)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,o]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Xs]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=zs,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Bs]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Us.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Js.forceAllow_=!0}static forceDisallow(){Js.forceDisallow_=!0}static isAvailable(){return!Qe()&&(!!Js.forceAllow_||!Js.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=et(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ne(t),r=Is(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(Qe())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=et(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Zs{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Qe())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=ds(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Zs.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(QE){vs("frame writing exception"),QE.stack&&vs(QE.stack),vs(QE)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||vs("No IE domain setting required")}catch(QE){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){Qe()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{vs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(QE){}}),Math.floor(1))}}let ea=null;"undefined"!==typeof MozWebSocket?ea=MozWebSocket:"undefined"!==typeof WebSocket&&(ea=WebSocket);class ta{constructor(e,t,n,r,i,o,s){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ys(this.connId),this.stats_=$s(t),this.connURL=ta.connectionURL_(t,o,s,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={};return o.v=zs,!Qe()&&"undefined"!==typeof location&&location.hostname&&Us.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o[Bs]=r),i&&(o.p=i),Hs(e,Vs,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let e;if(Qe()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(zs,"/").concat(is,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/pwa-cookbook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ea(this.connURL,[],e)}catch(QE){this.log_("Error instantiating WebSocket.");const t=QE.message||QE.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ea&&!ta.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||!0===ls.get("previous_websocket_failure")}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ze(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ae(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=et(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Is(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(QE){this.log_("Exception thrown from WebSocket.send():",QE.message||QE.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ta.responsesRequiredToBeHealthy=2,ta.healthyTimeout=3e4;class na{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Js,ta]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=ta&&ta.isAvailable();let n=t&&!ta.previouslyFailed();if(e.webSocketOnly&&(t||_s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ta];else{const e=this.transports_=[];for(const t of na.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);na.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}na.globalTransportInitialized_=!1;class ra{constructor(e,t,n,r,i,o,s,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ys("c:"+this.id+":"),this.transportManager_=new na(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ms((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Es("t",e),n=Es("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Es("t",e),n=Es("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Es("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?bs("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bs("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),zs!==n&&_s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),Ms((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ms((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ia{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class oa{constructor(e){this.allowedEvents_=e,this.listeners_={},Ae(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ae(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class sa extends oa{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||He()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new sa}getInitialEvent(e){return Ae("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const aa=32,la=768;class ca{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ua(){return new ca("")}function da(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ha(e){return e.pieces_.length-e.pieceNum_}function pa(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ca(e.pieces_,t)}function fa(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ma(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ga(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ca(t,0)}function va(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ca)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new ca(n,0)}function ya(e){return e.pieceNum_>=e.pieces_.length}function ba(e,t){const n=da(e),r=da(t);if(null===n)return t;if(n===r)return ba(pa(e),pa(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function wa(e,t){if(ha(e)!==ha(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _a(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ha(e)>ha(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Sa{constructor(e,t){this.errorPrefix_=t,this.parts_=ma(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=mt(this.parts_[n]);ka(this)}}function ka(e){if(e.byteLength_>la)throw new Error(e.errorPrefix_+"has a key path longer than "+la+" bytes ("+e.byteLength_+").");if(e.parts_.length>aa)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aa+") or object contains a cycle "+xa(e))}function xa(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class Ca extends oa{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new Ca}getInitialEvent(e){return Ae("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Aa=1e3;class Ea extends ia{constructor(e,t,n,r,i,o,s,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=s,this.authOverride_=a,this.id=Ea.nextPersistentConnectionId_++,this.log_=ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Aa,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Qe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ca.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&sa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(et(i)),Ae(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ve,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ae(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const o=i.d,s=i.s;Ea.warnOnListenWarnings_(o,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==s&&this.removeListen_(n,r),e.onComplete&&e.onComplete(s,o))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&nt(e,"w")){const n=rt(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();_s("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=tt(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=tt(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ae(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;const s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+et(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):bs("Unrecognized action received from server: "+et(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ae(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Aa),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+Ea.nextConnectionId_++,i=this.lastSessionId;let o=!1,s=null;const a=function(){s?s.close():(o=!0,n())},l=function(e){Ae(s,"sendRequest call when we're not connected not allowed."),s.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?vs("getToken() completed but was canceled"):(vs("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,s=new ra(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{_s(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(bs){this.log_("Failed to get token: "+bs),o||(this.repoInfo_.nodeAdmin&&_s(bs),a())}}}interrupt(e){vs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){vs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],it(this.interruptReasons_)&&(this.reconnectDelay_=Aa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>Ts(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new ca(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){vs("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){vs("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";Qe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+is.replace(/\./g,"-")]=1,He()?e["framework.cordova"]=1:Ge()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=sa.getInstance().currentlyOnline();return it(this.interruptReasons_)&&e}}Ea.nextPersistentConnectionId_=0,Ea.nextConnectionId_=0;class Ta{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Ta(e,t)}}class Ia{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new Ta(ks,e),r=new Ta(ks,t);return 0!==this.compare(n,r)}minPost(){return Ta.MIN}}let Ra;class Na extends Ia{static get __EMPTY_NODE(){return Ra}static set __EMPTY_NODE(e){Ra=e}compare(e,t){return Cs(e.name,t.name)}isDefinedOn(e){throw Ee("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Ta.MIN}maxPost(){return new Ta(xs,Ra)}makePost(e,t){return Ae("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ta(e,Ra)}toString(){return".key"}}const Pa=new Na;class Oa{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Da{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Da.RED,this.left=null!=r?r:Ma.EMPTY_NODE,this.right=null!=i?i:Ma.EMPTY_NODE}copy(e,t,n,r,i){return new Da(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ma.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ma.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Da.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Da.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Da.RED=!0,Da.BLACK=!1;class Ma{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ma.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ma(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Da.BLACK,null,null))}remove(e){return new Ma(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Da.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Oa(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Oa(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Oa(this.root_,null,this.comparator_,!0,e)}}function La(e,t){return Cs(e.name,t.name)}function Fa(e,t){return Cs(e,t)}let ja;Ma.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new Da(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const za=function(e){return"number"===typeof e?"number:"+Ns(e):"string:"+e},Ua=function(e){if(e.isLeafNode()){const t=e.val();Ae("string"===typeof t||"number"===typeof t||"object"===typeof t&&nt(t,".sv"),"Priority must be a string or number.")}else Ae(e===ja||e.isEmpty(),"priority of unexpected type.");Ae(e===ja||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Ba,Va,Wa;class qa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qa.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ae(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ua(this.priorityNode_)}static set __childrenNodeConstructor(e){Ba=e}static get __childrenNodeConstructor(){return Ba}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qa(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:qa.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ya(e)?this:".priority"===da(e)?this.priorityNode_:qa.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:qa.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=da(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ae(".priority"!==n||1===ha(e),".priority must be the last token in a path"),this.updateImmediateChild(n,qa.__childrenNodeConstructor.EMPTY_NODE.updateChild(pa(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+za(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Ns(this.value_):this.value_,this.lazyHash_=hs(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qa.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qa.__childrenNodeConstructor?-1:(Ae(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=qa.VALUE_TYPE_ORDER.indexOf(t),i=qa.VALUE_TYPE_ORDER.indexOf(n);return Ae(r>=0,"Unknown leaf type: "+t),Ae(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}qa.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ha=new class extends Ia{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Cs(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Ta.MIN}maxPost(){return new Ta(xs,new qa("[PRIORITY-POST]",Wa))}makePost(e,t){const n=Va(e);return new Ta(t,new qa("[PRIORITY-POST]",n))}toString(){return".priority"}},Ka=Math.log(2);class Ga{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ka,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qa=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new Da(a,s.node,Da.BLACK,null,null);{const l=parseInt(o/2,10)+t,c=i(t,l),u=i(l+1,r);return s=e[l],a=n?n(s):s,new Da(a,s.node,Da.BLACK,c,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const c=i(o+1,a),u=e[o],d=n?n(u):u;l(new Da(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,Da.BLACK):(a(r,Da.BLACK),a(r,Da.RED))}return o}(new Ga(e.length));return new Ma(r||t,o)};let $a;const Ya={};class Xa{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ae(Ya&&Ha,"ChildrenNode.ts has not been loaded"),$a=$a||new Xa({".priority":Ya},{".priority":Ha}),$a}get(e){const t=rt(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ma?t:null}hasIndex(e){return nt(this.indexSet_,e.toString())}addIndex(e,t){Ae(e!==Pa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(Ta.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?Qa(n,e.getCompare()):Ya;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=o,new Xa(c,l)}addToIndexes(e,t){const n=ot(this.indexes_,((n,r)=>{const i=rt(this.indexSet_,r);if(Ae(i,"Missing index implementation for "+r),n===Ya){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(Ta.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),Qa(n,i.getCompare())}return Ya}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new Ta(e.name,r))),i.insert(e,e.node)}}));return new Xa(n,this.indexSet_)}removeFromIndexes(e,t){const n=ot(this.indexes_,(n=>{if(n===Ya)return n;{const r=t.get(e.name);return r?n.remove(new Ta(e.name,r)):n}}));return new Xa(n,this.indexSet_)}}let Ja;class Za{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ua(this.priorityNode_),this.children_.isEmpty()&&Ae(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ja||(Ja=new Za(new Ma(Fa),null,Xa.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ja}updatePriority(e){return this.children_.isEmpty()?this:new Za(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ja:t}}getChild(e){const t=da(e);return null===t?this:this.getImmediateChild(t).getChild(pa(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ae(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new Ta(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const o=r.isEmpty()?Ja:this.priorityNode_;return new Za(r,o,i)}}updateChild(e,t){const n=da(e);if(null===n)return t;{Ae(".priority"!==da(e)||1===ha(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(pa(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ha,((o,s)=>{t[o]=s.val(e),n++,i&&Za.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+za(this.getPriority().val())+":"),this.forEachChild(Ha,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":hs(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new Ta(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new Ta(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new Ta(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,Ta.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,Ta.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===el?-1:0}withIndex(e){if(e===Pa||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Za(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Pa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ha),n=t.getIterator(Ha);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===Pa?null:this.indexMap_.get(e.toString())}}Za.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const el=new class extends Za{constructor(){super(new Ma(Fa),Za.EMPTY_NODE,Xa.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Za.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Ta,{MIN:{value:new Ta(ks,Za.EMPTY_NODE)},MAX:{value:new Ta(xs,el)}}),Na.__EMPTY_NODE=Za.EMPTY_NODE,qa.__childrenNodeConstructor=Za,ja=el,function(e){Wa=e}(el);const tl=!0;function nl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Za.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ae(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new qa(e,nl(t))}if(e instanceof Array||!tl){let n=Za.EMPTY_NODE;return Rs(e,((t,r)=>{if(nt(e,t)&&"."!==t.substring(0,1)){const e=nl(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(nl(t))}{const n=[];let r=!1;if(Rs(e,((e,t)=>{if("."!==e.substring(0,1)){const i=nl(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new Ta(e,i)))}})),0===n.length)return Za.EMPTY_NODE;const i=Qa(n,La,(e=>e.name),Fa);if(r){const e=Qa(n,Ha.getCompare());return new Za(i,nl(t),new Xa({".priority":e},{".priority":Ha}))}return new Za(i,nl(t),Xa.Default)}}!function(e){Va=e}(nl);class rl extends Ia{constructor(e){super(),this.indexPath_=e,Ae(!ya(e)&&".priority"!==da(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Cs(e.name,t.name):i}makePost(e,t){const n=nl(e),r=Za.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ta(t,r)}maxPost(){const e=Za.EMPTY_NODE.updateChild(this.indexPath_,el);return new Ta(xs,e)}toString(){return ma(this.indexPath_,0).join("/")}}const il=new class extends Ia{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?Cs(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Ta.MIN}maxPost(){return Ta.MAX}makePost(e,t){const n=nl(e);return new Ta(t,n)}toString(){return".value"}};function ol(e){return{type:"value",snapshotNode:e}}function sl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function al(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ll(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class cl{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){Ae(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(al(t,s)):Ae(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(sl(t,n)):o.trackChildChange(ll(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Ha,((e,r)=>{t.hasChild(e)||n.trackChildChange(al(e,r))})),t.isLeafNode()||t.forEachChild(Ha,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(ll(t,r,i))}else n.trackChildChange(sl(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Za.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ul{constructor(e){this.indexedFilter_=new cl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ul.getStartPost_(e),this.endPost_=ul.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,o){return this.matches(new Ta(t,n))||(n=Za.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Za.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Za.EMPTY_NODE);const i=this;return t.forEachChild(Ha,((e,t)=>{i.matches(new Ta(e,t))||(r=r.updateImmediateChild(e,Za.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class dl{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ul(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new Ta(t,n))||(n=Za.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Za.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Za.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Za.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Za.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;Ae(s.numChildren()===this.limit_,"");const a=new Ta(t,n),l=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:o(u,a);if(c&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(ll(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(al(t,e));const n=s.updateImmediateChild(t,Za.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(sl(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&o(l,a)>=0?(null!=i&&(i.trackChildChange(al(l.name,l.node)),i.trackChildChange(sl(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(l.name,Za.EMPTY_NODE)):e}}class hl{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ha}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ae(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ae(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ks}hasEnd(){return this.endSet_}getIndexEndValue(){return Ae(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ae(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ae(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ha}copy(){const e=new hl;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pl(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ha?n="$priority":e.index_===il?n="$value":e.index_===Pa?n="$key":(Ae(e.index_ instanceof rl,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=et(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=et(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+et(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=et(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+et(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function fl(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ha&&(t.i=e.index_.toString()),t}class ml extends ia{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=ys("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ae(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ml.getListenId_(e,n),s={};this.listens_[o]=s;const a=pl(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),rt(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=ml.getListenId_(e,t);delete this.listens_[n]}get(e){const t=pl(e._queryParams),n=e._path.toString(),r=new Ve;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,o]=r;i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lt(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=Ze(a.responseText)}catch(QE){_s("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&_s("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))}}class gl{constructor(){this.rootNode_=Za.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function vl(){return{value:null,children:new Map}}function yl(e,t,n){if(ya(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=da(t);e.children.has(r)||e.children.set(r,vl());yl(e.children.get(r),t=pa(t),n)}}function bl(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{bl(r,new ca(t.toString()+"/"+e),n)}))}class wl{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Rs(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class _l{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new wl(e);const n=1e4+2e4*Math.random();Ms(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;Rs(e,((e,r)=>{r>0&&nt(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),Ms(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Sl;function kl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Sl||(Sl={}));class xl{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Sl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ya(this.path)){if(null!=this.affectedTree.value)return Ae(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new ca(e));return new xl(ua(),t,this.revert)}}return Ae(da(this.path)===e,"operationForChild called for unrelated child."),new xl(pa(this.path),this.affectedTree,this.revert)}}class Cl{constructor(e,t){this.source=e,this.path=t,this.type=Sl.LISTEN_COMPLETE}operationForChild(e){return ya(this.path)?new Cl(this.source,ua()):new Cl(this.source,pa(this.path))}}class Al{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Sl.OVERWRITE}operationForChild(e){return ya(this.path)?new Al(this.source,ua(),this.snap.getImmediateChild(e)):new Al(this.source,pa(this.path),this.snap)}}class El{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Sl.MERGE}operationForChild(e){if(ya(this.path)){const t=this.children.subtree(new ca(e));return t.isEmpty()?null:t.value?new Al(this.source,ua(),t.value):new El(this.source,ua(),t)}return Ae(da(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new El(this.source,pa(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Tl{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ya(e))return this.isFullyInitialized()&&!this.filtered_;const t=da(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class Il{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Rl(e,t,n,r,i,o){const s=r.filter((e=>e.type===n));s.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ee("Should only compare child_ events.");const r=new Ta(t.childName,t.snapshotNode),i=new Ta(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),s.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Nl(e,t){return{eventCache:e,serverCache:t}}function Pl(e,t,n,r){return Nl(new Tl(t,n,r),e.serverCache)}function Ol(e,t,n,r){return Nl(e.eventCache,new Tl(t,n,r))}function Dl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ml(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ll;class Fl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ll||(Ll=new Ma(As)),Ll);this.value=e,this.children=t}static fromObject(e){let t=new Fl(null);return Rs(e,((e,n)=>{t=t.set(new ca(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ua(),value:this.value};if(ya(e))return null;{const n=da(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(pa(e),t);if(null!=i){return{path:va(new ca(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(ya(e))return this;{const t=da(e),n=this.children.get(t);return null!==n?n.subtree(pa(e)):new Fl(null)}}set(e,t){if(ya(e))return new Fl(t,this.children);{const n=da(e),r=(this.children.get(n)||new Fl(null)).set(pa(e),t),i=this.children.insert(n,r);return new Fl(this.value,i)}}remove(e){if(ya(e))return this.children.isEmpty()?new Fl(null):new Fl(null,this.children);{const t=da(e),n=this.children.get(t);if(n){const r=n.remove(pa(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new Fl(null):new Fl(this.value,i)}return this}}get(e){if(ya(e))return this.value;{const t=da(e),n=this.children.get(t);return n?n.get(pa(e)):null}}setTree(e,t){if(ya(e))return t;{const n=da(e),r=(this.children.get(n)||new Fl(null)).setTree(pa(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new Fl(this.value,i)}}fold(e){return this.fold_(ua(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(va(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ua(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(ya(e))return null;{const r=da(e),i=this.children.get(r);return i?i.findOnPath_(pa(e),va(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ua(),t)}foreachOnPath_(e,t,n){if(ya(e))return this;{this.value&&n(t,this.value);const r=da(e),i=this.children.get(r);return i?i.foreachOnPath_(pa(e),va(t,r),n):new Fl(null)}}foreach(e){this.foreach_(ua(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(va(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class jl{constructor(e){this.writeTree_=e}static empty(){return new jl(new Fl(null))}}function zl(e,t,n){if(ya(t))return new jl(new Fl(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=ba(i,t);return o=o.updateChild(s,n),new jl(e.writeTree_.set(i,o))}{const r=new Fl(n),i=e.writeTree_.setTree(t,r);return new jl(i)}}}function Ul(e,t,n){let r=e;return Rs(n,((e,n)=>{r=zl(r,va(t,e),n)})),r}function Bl(e,t){if(ya(t))return jl.empty();{const n=e.writeTree_.setTree(t,new Fl(null));return new jl(n)}}function Vl(e,t){return null!=Wl(e,t)}function Wl(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ba(n.path,t)):null}function ql(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ha,((e,n)=>{t.push(new Ta(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new Ta(e,n.value))})),t}function Hl(e,t){if(ya(t))return e;{const n=Wl(e,t);return new jl(null!=n?new Fl(n):e.writeTree_.subtree(t))}}function Kl(e){return e.writeTree_.isEmpty()}function Gl(e,t){return Ql(ua(),e.writeTree_,t)}function Ql(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Ae(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ql(va(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(va(e,".priority"),r)),n}}function $l(e,t){return lc(t,e)}function Yl(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ae(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&Xl(t,r.path)?i=!1:_a(r.path,t.path)&&(o=!0)),s--}if(i){if(o)return function(e){e.visibleWrites=Zl(e.allWrites,Jl,ua()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Bl(e.visibleWrites,r.path);else{Rs(r.children,(t=>{e.visibleWrites=Bl(e.visibleWrites,va(r.path,t))}))}return!0}return!1}function Xl(e,t){if(e.snap)return _a(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&_a(va(e.path,n),t))return!0;return!1}function Jl(e){return e.visible}function Zl(e,t,n){let r=jl.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)_a(n,e)?(t=ba(n,e),r=zl(r,t,o.snap)):_a(e,n)&&(t=ba(e,n),r=zl(r,ua(),o.snap.getChild(t)));else{if(!o.children)throw Ee("WriteRecord should have .snap or .children");if(_a(n,e))t=ba(n,e),r=Ul(r,t,o.children);else if(_a(e,n))if(t=ba(e,n),ya(t))r=Ul(r,ua(),o.children);else{const e=rt(o.children,da(t));if(e){const n=e.getChild(pa(t));r=zl(r,ua(),n)}}}}}return r}function ec(e,t,n,r,i){if(r||i){const o=Hl(e.visibleWrites,t);if(!i&&Kl(o))return n;if(i||null!=n||Vl(o,ua())){const o=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(_a(e.path,t)||_a(t,e.path))};return Gl(Zl(e.allWrites,o,t),n||Za.EMPTY_NODE)}return null}{const r=Wl(e.visibleWrites,t);if(null!=r)return r;{const r=Hl(e.visibleWrites,t);if(Kl(r))return n;if(null!=n||Vl(r,ua())){return Gl(r,n||Za.EMPTY_NODE)}return null}}}function tc(e,t,n,r){return ec(e.writeTree,e.treePath,t,n,r)}function nc(e,t){return function(e,t,n){let r=Za.EMPTY_NODE;const i=Wl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ha,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=Hl(e.visibleWrites,t);return n.forEachChild(Ha,((e,t)=>{const n=Gl(Hl(i,new ca(e)),t);r=r.updateImmediateChild(e,n)})),ql(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return ql(Hl(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function rc(e,t,n,r){return function(e,t,n,r,i){Ae(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=va(t,n);if(Vl(e.visibleWrites,o))return null;{const t=Hl(e.visibleWrites,o);return Kl(t)?i.getChild(n):Gl(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function ic(e,t){return function(e,t){return Wl(e.visibleWrites,t)}(e.writeTree,va(e.treePath,t))}function oc(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const l=Hl(e.visibleWrites,t),c=Wl(l,ua());if(null!=c)a=c;else{if(null==n)return[];a=Gl(l,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,o)}function sc(e,t,n){return function(e,t,n,r){const i=va(t,n),o=Wl(e.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n))return Gl(Hl(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function ac(e,t){return lc(va(e.treePath,t),e.writeTree)}function lc(e,t){return{treePath:e,writeTree:t}}class cc{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ae("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ae(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,ll(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,al(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,sl(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ee("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,ll(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const uc=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class dc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new Tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sc(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ml(this.viewCache_),i=oc(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function hc(e,t,n,r,i){const o=new cc;let s,a;if(n.type===Sl.OVERWRITE){const l=n;l.source.fromUser?s=mc(e,t,l.path,l.snap,r,i,o):(Ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ya(l.path),s=fc(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Sl.MERGE){const l=n;l.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach(((r,l)=>{const c=va(n,r);gc(t,da(c))&&(a=mc(e,a,c,l,i,o,s))})),r.foreach(((r,l)=>{const c=va(n,r);gc(t,da(c))||(a=mc(e,a,c,l,i,o,s))})),a}(e,t,l.path,l.children,r,i,o):(Ae(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=yc(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Sl.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=ic(r,n))return t;{const a=new dc(r,t,i),l=t.eventCache.getNode();let c;if(ya(n)||".priority"===da(n)){let n;if(t.serverCache.isFullyInitialized())n=tc(r,Ml(t));else{const e=t.serverCache.getNode();Ae(e instanceof Za,"serverChildren would be complete if leaf node"),n=nc(r,e)}c=e.filter.updateFullNode(l,n,o)}else{const i=da(n);let u=sc(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,pa(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Za.EMPTY_NODE,pa(n),a,o):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=tc(r,Ml(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=ic(r,ua()),Pl(t,c,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=ic(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(ya(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return fc(e,t,n,l.getNode().getChild(n),i,o,a,s);if(ya(n)){let r=new Fl(null);return l.getNode().forEachChild(Pa,((e,t)=>{r=r.set(new ca(e),t)})),yc(e,t,n,r,i,o,a,s)}return t}{let c=new Fl(null);return r.foreach(((e,t)=>{const r=va(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),yc(e,t,n,c,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==Sl.LISTEN_COMPLETE)throw Ee("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache,s=Ol(t,o.getNode(),o.isFullyInitialized()||ya(n),o.isFiltered());return pc(e,s,n,r,uc,i)}(e,t,n.path,r,o)}const l=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Dl(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ol(Dl(t)))}}(t,s,l),{viewCache:s,changes:l}}function pc(e,t,n,r,i,o){const s=t.eventCache;if(null!=ic(r,n))return t;{let a,l;if(ya(n))if(Ae(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ml(t),i=nc(r,n instanceof Za?n:Za.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=tc(r,Ml(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const c=da(n);if(".priority"===c){Ae(1===ha(n),"Can't have a priority with additional path components");const i=s.getNode();l=t.serverCache.getNode();const o=rc(r,n,i,l);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=pa(n);let d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();const e=rc(r,n,s.getNode(),l);d=null!=e?s.getNode().getImmediateChild(c).updateChild(u,e):s.getNode().getImmediateChild(c)}else d=sc(r,c,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),c,d,u,i,o):s.getNode()}}return Pl(t,a,s.isFullyInitialized()||ya(n),e.filter.filtersNodes())}}function fc(e,t,n,r,i,o,s,a){const l=t.serverCache;let c;const u=s?e.filter:e.filter.getIndexedFilter();if(ya(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=da(n);if(!l.isCompleteForPath(n)&&ha(n)>1)return t;const i=pa(n),o=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),o):u.updateChild(l.getNode(),e,o,i,uc,null)}const d=Ol(t,c,l.isFullyInitialized()||ya(n),u.filtersNodes());return pc(e,d,n,i,new dc(i,d,o),a)}function mc(e,t,n,r,i,o,s){const a=t.eventCache;let l,c;const u=new dc(i,t,o);if(ya(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Pl(t,c,!0,e.filter.filtersNodes());else{const i=da(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Pl(t,c,a.isFullyInitialized(),a.isFiltered());else{const o=pa(n),c=a.getNode().getImmediateChild(i);let d;if(ya(o))d=r;else{const e=u.getCompleteChild(i);d=null!=e?".priority"===fa(o)&&e.getChild(ga(o)).isEmpty()?e:e.updateChild(o,r):Za.EMPTY_NODE}if(c.equals(d))l=t;else{l=Pl(t,e.filter.updateChild(a.getNode(),i,d,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function gc(e,t){return e.eventCache.isCompleteForChild(t)}function vc(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function yc(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ya(n)?r:new Fl(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=vc(0,t.serverCache.getNode().getImmediateChild(n),r);c=fc(e,c,new ca(n),l,i,o,s,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=vc(0,t.serverCache.getNode().getImmediateChild(n),r);c=fc(e,c,new ca(n),l,i,o,s,a)}})),c}class bc{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new cl(n.getIndex()),i=(o=n).loadsAllData()?new cl(o.getIndex()):o.hasLimit()?new dl(o):new ul(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(Za.EMPTY_NODE,s.getNode(),null),c=i.updateFullNode(Za.EMPTY_NODE,a.getNode(),null),u=new Tl(l,s.isFullyInitialized(),r.filtersNodes()),d=new Tl(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=Nl(d,u),this.eventGenerator_=new Il(this.query_)}get query(){return this.query_}}function wc(e,t){const n=Ml(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ya(t)&&!n.getImmediateChild(da(t)).isEmpty())?n.getChild(t):null}function _c(e){return 0===e.eventRegistrations_.length}function Sc(e,t,n){const r=[];if(n){Ae(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function kc(e,t,n,r){t.type===Sl.MERGE&&null!==t.source.queryId&&(Ae(Ml(e.viewCache_),"We should always have a full cache before handling merges"),Ae(Dl(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=hc(e.processor_,i,t,n,r);var s,a;return s=e.processor_,a=o.viewCache,Ae(a.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Ae(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),Ae(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,xc(e,o.changes,o.viewCache.eventCache.getNode(),null)}function xc(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],o=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Rl(e,i,"child_removed",t,r,n),Rl(e,i,"child_added",t,r,n),Rl(e,i,"child_moved",o,r,n),Rl(e,i,"child_changed",t,r,n),Rl(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Cc,Ac;class Ec{constructor(){this.views=new Map}}function Tc(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return Ae(null!=o,"SyncTree gave us an op for an invalid query."),kc(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(kc(o,t,n,r));return i}}function Ic(e,t,n,r,i){const o=t._queryIdentifier,s=e.views.get(o);if(!s){let e=tc(n,i?r:null),o=!1;e?o=!0:r instanceof Za?(e=nc(n,r),o=!1):(e=Za.EMPTY_NODE,o=!1);const s=Nl(new Tl(e,o,!1),new Tl(r,i,!1));return new bc(t,s)}return s}function Rc(e,t,n,r,i,o){const s=Ic(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(Ha,((e,t)=>{r.push(sl(e,t))}));return n.isFullyInitialized()&&r.push(ol(n.getNode())),xc(e,r,n.getNode(),t)}(s,n)}function Nc(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Lc(e);if("default"===i)for(const[l,c]of e.views.entries())s=s.concat(Sc(c,n,r)),_c(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const t=e.views.get(i);t&&(s=s.concat(Sc(t,n,r)),_c(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!Lc(e)&&o.push(new(Ae(Cc,"Reference.ts has not been loaded"),Cc)(t._repo,t._path)),{removed:o,events:s}}function Pc(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Oc(e,t){let n=null;for(const r of e.views.values())n=n||wc(r,t);return n}function Dc(e,t){if(t._queryParams.loadsAllData())return Fc(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Mc(e,t){return null!=Dc(e,t)}function Lc(e){return null!=Fc(e)}function Fc(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let jc=1;class zc{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Fl(null),this.pendingWriteTree_={visibleWrites:jl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uc(e,t,n,r,i){return function(e,t,n,r,i){Ae(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=zl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Gc(e,new Al({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Bc(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Yl(e.pendingWriteTree_,t)){let t=new Fl(null);return null!=r.snap?t=t.set(ua(),!0):Rs(r.children,(e=>{t=t.set(new ca(e),!0)})),Gc(e,new xl(r.path,t,n))}return[]}function Vc(e,t,n){return Gc(e,new Al({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Wc(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||Mc(s,t))){const l=Nc(s,t,n,r);0===s.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(o,((e,t)=>Lc(t)));if(n&&!i){const t=e.syncPointTree_.subtree(o);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&Lc(t)){return[Fc(t)]}{let e=[];return t&&(e=Pc(t)),Rs(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=Yc(e,r);e.listenProvider_.startListening(nu(i),Xc(e,i),o.hashFn,o.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(nu(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Jc(t));e.listenProvider_.stopListening(nu(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Jc(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function qc(e,t,n,r){const i=Zc(e,r);if(null!=i){const r=eu(i),o=r.path,s=r.queryId,a=ba(o,t);return tu(e,o,new Al(kl(s),a,n))}return[]}function Hc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=ba(e,i);o=o||Oc(t,n),s=s||Lc(t)}));let a,l=e.syncPointTree_.get(i);if(l?(s=s||Lc(l),o=o||Oc(l,ua())):(l=new Ec,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=o)a=!0;else{a=!1,o=Za.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=Oc(t,ua());n&&(o=o.updateImmediateChild(e,n))}))}const c=Mc(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Jc(t);Ae(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=jc++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=Rc(l,t,n,$l(e.pendingWriteTree_,i),o,a);if(!c&&!s&&!r){const n=Dc(l,t);u=u.concat(function(e,t,n){const r=t._path,i=Xc(e,t),o=Yc(e,n),s=e.listenProvider_.startListening(nu(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ae(!Lc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!ya(e)&&t&&Lc(t))return[Fc(t).query];{let e=[];return t&&(e=e.concat(Pc(t).map((e=>e.query)))),Rs(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(nu(r),Xc(e,r))}}return s}(e,t,n))}return u}function Kc(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=Oc(n,ba(e,t));if(r)return r}));return ec(r,t,i,n,!0)}function Gc(e,t){return Qc(t,e.syncPointTree_,null,$l(e.pendingWriteTree_,ua()))}function Qc(e,t,n,r){if(ya(e.path))return $c(e,t,n,r);{const i=t.get(ua());null==n&&null!=i&&(n=Oc(i,ua()));let o=[];const s=da(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){const e=n?n.getImmediateChild(s):null,t=ac(r,s);o=o.concat(Qc(a,l,e,t))}return i&&(o=o.concat(Tc(i,e,r,n))),o}}function $c(e,t,n,r){const i=t.get(ua());null==n&&null!=i&&(n=Oc(i,ua()));let o=[];return t.children.inorderTraversal(((t,i)=>{const s=n?n.getImmediateChild(t):null,a=ac(r,t),l=e.operationForChild(t);l&&(o=o.concat($c(l,i,s,a)))})),i&&(o=o.concat(Tc(i,e,r,n))),o}function Yc(e,t){const n=t.query,r=Xc(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Za.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Zc(e,n);if(r){const n=eu(r),i=n.path,o=n.queryId,s=ba(i,t);return tu(e,i,new Cl(kl(o),s))}return[]}(e,n._path,r):function(e,t){return Gc(e,new Cl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Wc(e,n,null,r)}}}}function Xc(e,t){const n=Jc(t);return e.queryToTagMap.get(n)}function Jc(e){return e._path.toString()+"$"+e._queryIdentifier}function Zc(e,t){return e.tagToQueryMap.get(t)}function eu(e){const t=e.indexOf("$");return Ae(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ca(e.substr(0,t))}}function tu(e,t,n){const r=e.syncPointTree_.get(t);Ae(r,"Missing sync point for query tag that we're tracking");return Tc(r,n,$l(e.pendingWriteTree_,t),null)}function nu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ae(Ac,"Reference.ts has not been loaded"),Ac)(e._repo,e._path):e}class ru{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new ru(t)}node(){return this.node_}}class iu{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=va(this.path_,e);return new iu(this.syncTree_,t)}node(){return Kc(this.syncTree_,this.path_)}}const ou=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},su=function(e,t,n){return e&&"object"===typeof e?(Ae(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?au(e[".sv"],t,n):"object"===typeof e[".sv"]?lu(e[".sv"],t):void Ae(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},au=function(e,t,n){if("timestamp"===e)return n.timestamp;Ae(!1,"Unexpected server value: "+e)},lu=function(e,t,n){e.hasOwnProperty("increment")||Ae(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ae(!1,"Unexpected increment value: "+r);const i=t.node();if(Ae(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!==typeof o?r:o+r},cu=function(e,t,n,r){return du(t,new iu(n,e),r)},uu=function(e,t,n){return du(e,new ru(t),n)};function du(e,t,n){const r=e.getPriority().val(),i=su(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=su(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new qa(o,nl(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new qa(i))),r.forEachChild(Ha,((e,r)=>{const i=du(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))})),o}}class hu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function pu(e,t){let n=t instanceof ca?t:new ca(t),r=e,i=da(n);for(;null!==i;){const e=rt(r.node.children,i)||{children:{},childCount:0};r=new hu(i,r,e),n=pa(n),i=da(n)}return r}function fu(e){return e.node.value}function mu(e,t){e.node.value=t,wu(e)}function gu(e){return e.node.childCount>0}function vu(e,t){Rs(e.node.children,((n,r)=>{t(new hu(n,e,r))}))}function yu(e,t,n,r){n&&!r&&t(e),vu(e,(e=>{yu(e,t,!0,r)})),n&&r&&t(e)}function bu(e){return new ca(null===e.parent?e.name:bu(e.parent)+"/"+e.name)}function wu(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===fu(e)&&!gu(e)}(n),i=nt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,wu(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,wu(e))}(e.parent,e.name,e)}const _u=/[\[\].#$\/\u0000-\u001F\u007F]/,Su=/[\[\].#$\u0000-\u001F\u007F]/,ku=10485760,xu=function(e){return"string"===typeof e&&0!==e.length&&!_u.test(e)},Cu=function(e){return"string"===typeof e&&0!==e.length&&!Su.test(e)},Au=function(e,t,n){const r=n instanceof ca?new Sa(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+xa(r));if("function"===typeof t)throw new Error(e+"contains a function "+xa(r)+" with contents = "+t.toString());if(Ss(t))throw new Error(e+"contains "+t.toString()+" "+xa(r));if("string"===typeof t&&t.length>ku/3&&mt(t)>ku)throw new Error(e+"contains a string greater than "+ku+" utf8 bytes "+xa(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(Rs(t,((t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!xu(t)))throw new Error(e+" contains an invalid key ("+t+") "+xa(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=mt(t),ka(e)}(r,t),Au(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=mt(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+xa(r)+" in addition to actual children.")}},Eu=function(e,t,n,r){if((!r||void 0!==n)&&!Cu(n))throw new Error(ft(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tu=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Eu(e,t,n,r)},Iu=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!xu(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Cu(e)}(n))throw new Error(ft(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ru{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Nu(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||wa(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Pu(e,t,n){Nu(e,n),Du(e,(e=>wa(e,t)))}function Ou(e,t,n){Nu(e,n),Du(e,(e=>_a(e,t)||_a(t,e)))}function Du(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Mu(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Mu(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();fs&&vs("event: "+n.toString()),Ds(r)}}}const Lu="repo_interrupt",Fu=25;class ju{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ru,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vl(),this.transactionQueueTree_=new hu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zu(e,t,n){if(e.stats_=$s(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ml(e.repoInfo_,((t,n,r,i)=>{Vu(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Wu(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(n)}catch(QE){throw new Error("Invalid authOverride provided: "+QE)}}e.persistentConnection_=new Ea(e.repoInfo_,t,((t,n,r,i)=>{Vu(e,t,n,r,i)}),(t=>{Wu(e,t)}),(t=>{!function(e,t){Rs(t,((t,n)=>{qu(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Qs[n]||(Qs[n]=t()),Qs[n]}(e.repoInfo_,(()=>new _l(e.stats_,e.server_))),e.infoData_=new gl,e.infoSyncTree_=new zc({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=Vc(e.infoSyncTree_,t._path,s),setTimeout((()=>{i("ok")}),0)),o},stopListening:()=>{}}),qu(e,"connected",!1),e.serverSyncTree_=new zc({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const o=i(n,r);Ou(e.eventQueue_,t._path,o)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Uu(e){const t=e.infoData_.getNode(new ca(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Bu(e){return ou({timestamp:Uu(e)})}function Vu(e,t,n,r,i){e.dataUpdateCount++;const o=new ca(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=ot(n,(e=>nl(e)));s=function(e,t,n,r){const i=Zc(e,r);if(i){const r=eu(i),o=r.path,s=r.queryId,a=ba(o,t),l=Fl.fromObject(n);return tu(e,o,new El(kl(s),a,l))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=nl(n);s=qc(e.serverSyncTree_,o,t,i)}else if(r){const t=ot(n,(e=>nl(e)));s=function(e,t,n){const r=Fl.fromObject(n);return Gc(e,new El({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=nl(n);s=Vc(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=Xu(e,o)),Ou(e.eventQueue_,a,s)}function Wu(e,t){qu(e,"connected",t),!1===t&&function(e){Qu(e,"onDisconnectEvents");const t=Bu(e),n=vl();bl(e.onDisconnect_,ua(),((r,i)=>{const o=cu(r,i,e.serverSyncTree_,t);yl(n,r,o)}));let r=[];bl(n,ua(),((t,n)=>{r=r.concat(Vc(e.serverSyncTree_,t,n));const i=nd(e,t);Xu(e,i)})),e.onDisconnect_=vl(),Ou(e.eventQueue_,ua(),r)}(e)}function qu(e,t,n){const r=new ca("/.info/"+t),i=nl(n);e.infoData_.updateSnapshot(r,i);const o=Vc(e.infoSyncTree_,r,i);Ou(e.eventQueue_,r,o)}function Hu(e){return e.nextWriteId_++}function Ku(e,t,n){let r;r=".info"===da(t._path)?Wc(e.infoSyncTree_,t,n):Wc(e.serverSyncTree_,t,n),Pu(e.eventQueue_,t._path,r)}function Gu(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Lu)}function Qu(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];vs(t,...r)}function $u(e,t,n){return Kc(e.serverSyncTree_,t,n)||Za.EMPTY_NODE}function Yu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||td(e,t),fu(t)){const n=Zu(e,t);Ae(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=$u(e,t,r);let o=i;const s=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ae(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=ba(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{Qu(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(Bc(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();td(e,pu(e.transactionQueueTree_,t)),Yu(e,e.transactionQueueTree_),Ou(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)Ds(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{_s("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Xu(e,t)}}),s)}(e,bu(t),n)}else gu(t)&&vu(t,(t=>{Yu(e,t)}))}function Xu(e,t){const n=Ju(e,t),r=bu(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter((e=>0===e.status)),s=o.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const o=t[l],c=ba(n,o.path);let u,d=!1;if(Ae(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)d=!0,u=o.abortReason,i=i.concat(Bc(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status)if(o.retryCount>=Fu)d=!0,u="maxretry",i=i.concat(Bc(e.serverSyncTree_,o.currentWriteId,!0));else{const n=$u(e,o.path,s);o.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Au("transaction failed: Data returned ",r,o.path);let t=nl(r);"object"===typeof r&&null!=r&&nt(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=o.currentWriteId,l=Bu(e),c=uu(t,n,l);o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=c,o.currentWriteId=Hu(e),s.splice(s.indexOf(a),1),i=i.concat(Uc(e.serverSyncTree_,o.path,c,o.currentWriteId,o.applyLocally)),i=i.concat(Bc(e.serverSyncTree_,a,!0))}else d=!0,u="nodata",i=i.concat(Bc(e.serverSyncTree_,o.currentWriteId,!0))}Ou(e.eventQueue_,n,i),i=[],d&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;td(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)Ds(r[l]);Yu(e,e.transactionQueueTree_)}(e,Zu(e,n),r),r}function Ju(e,t){let n,r=e.transactionQueueTree_;for(n=da(t);null!==n&&void 0===fu(r);)r=pu(r,n),n=da(t=pa(t));return r}function Zu(e,t){const n=[];return ed(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ed(e,t,n){const r=fu(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vu(t,(t=>{ed(e,t,n)}))}function td(e,t){const n=fu(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,mu(t,n.length>0?n:void 0)}vu(t,(t=>{td(e,t)}))}function nd(e,t){const n=bu(Ju(e,t)),r=pu(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{rd(e,t)})),rd(e,r),yu(r,(t=>{rd(e,t)})),n}function rd(e,t){const n=fu(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ae(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):(Ae(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(Bc(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?mu(t,void 0):n.length=o+1,Ou(e.eventQueue_,bu(t),i);for(let e=0;e<r.length;e++)Ds(r[e])}}const id=function(e,t){const n=od(e),r=n.namespace;"firebase.com"===n.domain&&ws(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ws("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&_s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new qs(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ca(n.pathString)}},od=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(QE){}t+="/"+e}return t}(e.substring(u,d)));const h=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_s("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},sd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class ad{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class ld{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class cd{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ae(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class ud{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return ya(this._path)?null:fa(this._path)}get ref(){return new dd(this._repo,this._path)}get _queryIdentifier(){const e=fl(this._queryParams),t=Ts(e);return"{}"===t?"default":t}get _queryObject(){return fl(this._queryParams)}isEqual(e){if(!((e=vt(e))instanceof ud))return!1;const t=this._repo===e._repo,n=wa(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class dd extends ud{constructor(e,t){super(e,t,new hl,!1)}get parent(){const e=ga(this._path);return null===e?null:new dd(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class hd{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new ca(e),n=pd(this.ref,e);return new hd(this._node.getChild(t),n,Ha)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new hd(n,pd(this.ref,t),Ha))))}hasChild(e){const t=new ca(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function pd(e,t){return null===da((e=vt(e))._path)?Tu("child","path",t,!1):Eu("child","path",t,!1),new dd(e._repo,va(e._path,t))}class fd{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ad("value",this,new hd(e.snapshotNode,new dd(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ld(this,e,t):null}matches(e){return e instanceof fd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class md{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ld(this,e,t):null}createEvent(e,t){Ae(null!=e.childName,"Child events should have a childName.");const n=pd(new dd(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ad(e.type,this,new hd(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof md&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function gd(e,t,n,r,i){let o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ku(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new cd(n,o||void 0),a="value"===t?new fd(s):new md(t,s);return function(e,t,n){let r;r=".info"===da(t._path)?Hc(e.infoSyncTree_,t,n):Hc(e.serverSyncTree_,t,n),Pu(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Ku(e._repo,e,a)}function vd(e,t,n,r){return gd(e,"value",t,n,r)}!function(e){Ae(!Cc,"__referenceConstructor has already been defined"),Cc=e}(dd),function(e){Ae(!Ac,"__referenceConstructor has already been defined"),Ac=e}(dd);const yd="FIREBASE_DATABASE_EMULATOR_HOST",bd={};let wd=!1;function _d(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||ws("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),vs("Using default host for project ",e.options.projectId),o="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let s,a,l=id(o,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/pwa-cookbook",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[yd]),a?(s=!0,o="http://".concat(a,"?ns=").concat(c.namespace),l=id(o,i),c=l.repoInfo):s=!l.repoInfo.secure;const u=i&&s?new js(js.OWNER):new Fs(e.name,e.options,t);Iu("Invalid Firebase Database URL",l),ya(l.path)||ws("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let i=bd[t.name];i||(i={},bd[t.name]=i);let o=i[e.toURLString()];o&&ws("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ju(e,wd,n,r),i[e.toURLString()]=o,o}(c,e,u,new Ls(e.name,n));return new Sd(d,e)}class Sd{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zu(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dd(this._repo,ua())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=bd[t];n&&n[e.key]===e||ws("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Gu(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&ws("Cannot call "+e+" on a deleted database.")}}Ea.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ea.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){!function(e){is=e}(Nn),En(new yt("database",((e,t)=>{let{instanceIdentifier:n}=t;return _d(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Dn(ns,rs,e),Dn(ns,rs,"esm2017")}();Dn("firebase","9.23.0","app");var kd,xd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cd={},Ad=Ad||{},Ed=xd||self;function Td(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Id(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rd="closure_uid_"+(1e9*Math.random()>>>0),Nd=0;function Pd(e,t,n){return e.call.apply(e.bind,arguments)}function Od(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dd(e,t,n){return(Dd=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pd:Od).apply(null,arguments)}function Md(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ld(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function Fd(){this.s=this.s,this.o=this.o}Fd.prototype.s=!1,Fd.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Rd)&&e[Rd]||(e[Rd]=++Nd))},Fd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const jd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function zd(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ud(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Td(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Bd(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Bd.prototype.h=function(){this.defaultPrevented=!0};var Vd=function(){if(!Ed.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ed.addEventListener("test",(()=>{}),t),Ed.removeEventListener("test",(()=>{}),t)}catch(n){}return e}();function Wd(e){return/^[\s\xa0]*$/.test(e)}function qd(){var e=Ed.navigator;return e&&(e=e.userAgent)?e:""}function Hd(e){return-1!=qd().indexOf(e)}function Kd(e){return Kd[" "](e),e}Kd[" "]=function(){};var Gd,Qd,$d=Hd("Opera"),Yd=Hd("Trident")||Hd("MSIE"),Xd=Hd("Edge"),Jd=Xd||Yd,Zd=Hd("Gecko")&&!(-1!=qd().toLowerCase().indexOf("webkit")&&!Hd("Edge"))&&!(Hd("Trident")||Hd("MSIE"))&&!Hd("Edge"),eh=-1!=qd().toLowerCase().indexOf("webkit")&&!Hd("Edge");function th(){var e=Ed.document;return e?e.documentMode:void 0}e:{var nh="",rh=function(){var e=qd();return Zd?/rv:([^\);]+)(\)|;)/.exec(e):Xd?/Edge\/([\d\.]+)/.exec(e):Yd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):eh?/WebKit\/(\S+)/.exec(e):$d?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rh&&(nh=rh?rh[1]:""),Yd){var ih=th();if(null!=ih&&ih>parseFloat(nh)){Gd=String(ih);break e}}Gd=nh}if(Ed.document&&Yd){var oh=th();Qd=oh||(parseInt(Gd,10)||void 0)}else Qd=void 0;var sh=Qd;function ah(e,t){if(Bd.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Zd){e:{try{Kd(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:lh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ah.$.h.call(this)}}Ld(ah,Bd);var lh={2:"touch",3:"pen",4:"mouse"};ah.prototype.h=function(){ah.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),uh=0;function dh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++uh,this.fa=this.ia=!1}function hh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ph(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function fh(e){const t={};for(const n in e)t[n]=e[n];return t}const mh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<mh.length;t++)n=mh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function vh(e){this.src=e,this.g={},this.h=0}function yh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=jd(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(hh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function bh(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.fa&&o.listener==t&&o.capture==!!n&&o.la==r)return i}return-1}vh.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=bh(e,t,r,i);return-1<s?(t=e[s],n||(t.ia=!1)):((t=new dh(t,this.src,o,!!r,i)).ia=n,e.push(t)),t};var wh="closure_lm_"+(1e6*Math.random()|0),_h={};function Sh(e,t,n,r,i){if(r&&r.once)return xh(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Sh(e,t[o],n,r,i);return null}return n=Nh(n),e&&e[ch]?e.O(t,n,Id(r)?!!r.capture:!!r,i):kh(e,t,n,!1,r,i)}function kh(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=Id(i)?!!i.capture:!!i,a=Ih(e);if(a||(e[wh]=a=new vh(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Th;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Vd||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Eh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xh(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)xh(e,t[o],n,r,i);return null}return n=Nh(n),e&&e[ch]?e.P(t,n,Id(r)?!!r.capture:!!r,i):kh(e,t,n,!0,r,i)}function Ch(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)Ch(e,t[o],n,r,i);else r=Id(r)?!!r.capture:!!r,n=Nh(n),e&&e[ch]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=bh(o=e.g[t],n,r,i))&&(hh(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ih(e))&&(t=e.g[t.toString()],e=-1,t&&(e=bh(t,n,r,i)),(n=-1<e?t[e]:null)&&Ah(n))}function Ah(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ch])yh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Eh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ih(t))?(yh(n,e),0==n.h&&(n.src=null,t[wh]=null)):hh(e)}}}function Eh(e){return e in _h?_h[e]:_h[e]="on"+e}function Th(e,t){if(e.fa)e=!0;else{t=new ah(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ah(e),e=n.call(r,t)}return e}function Ih(e){return(e=e[wh])instanceof vh?e:null}var Rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nh(e){return"function"===typeof e?e:(e[Rh]||(e[Rh]=function(t){return e.handleEvent(t)}),e[Rh])}function Ph(){Fd.call(this),this.i=new vh(this),this.S=this,this.J=null}function Oh(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Bd(t,e);else if(t instanceof Bd)t.target=t.target||e;else{var i=t;gh(t=new Bd(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Dh(s,r,!0,t)&&i}if(i=Dh(s=t.g=e,r,!0,t)&&i,i=Dh(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Dh(s=t.g=n[o],r,!1,t)&&i}function Dh(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&yh(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Ld(Ph,Fd),Ph.prototype[ch]=!0,Ph.prototype.removeEventListener=function(e,t,n,r){Ch(this,e,t,n,r)},Ph.prototype.N=function(){if(Ph.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hh(n[r]);delete t.g[e],t.h--}}this.J=null},Ph.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ph.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Mh=Ed.JSON.stringify;function Lh(){var e=Wh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Fh=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new jh),(e=>e.reset()));class jh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Uh(e){Ed.setTimeout((()=>{throw e}),0)}let Bh,Vh=!1,Wh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Fh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},qh=()=>{const e=Ed.Promise.resolve(void 0);Bh=()=>{e.then(Hh)}};var Hh=()=>{for(var e;e=Lh();){try{e.h.call(e.g)}catch(n){Uh(n)}var t=Fh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Vh=!1};function Kh(e,t){Ph.call(this),this.h=e||1,this.g=t||Ed,this.j=Dd(this.qb,this),this.l=Date.now()}function Gh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Qh(e,t,n){if("function"===typeof e)n&&(e=Dd(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dd(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ed.setTimeout(e,t||0)}function $h(e){e.g=Qh((()=>{e.g=null,e.i&&(e.i=!1,$h(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ld(Kh,Ph),(kd=Kh.prototype).ga=!1,kd.T=null,kd.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Oh(this,"tick"),this.ga&&(Gh(this),this.start()))}},kd.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},kd.N=function(){Kh.$.N.call(this),Gh(this),delete this.g};class Yh extends Fd{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$h(this)}N(){super.N(),this.g&&(Ed.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xh(e){Fd.call(this),this.h=e,this.g={}}Ld(Xh,Fd);var Jh=[];function Zh(e,t,n,r){Array.isArray(n)||(n&&(Jh[0]=n.toString()),n=Jh);for(var i=0;i<n.length;i++){var o=Sh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function ep(e){ph(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ah(e)}),e),e.g={}}function tp(){this.g=!0}function np(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Mh(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Xh.prototype.N=function(){Xh.$.N.call(this),ep(this)},Xh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tp.prototype.Ea=function(){this.g=!1},tp.prototype.info=function(){};var rp={},ip=null;function op(){return ip=ip||new Ph}function sp(e){Bd.call(this,rp.Ta,e)}function ap(e){const t=op();Oh(t,new sp(t))}function lp(e,t){Bd.call(this,rp.STAT_EVENT,e),this.stat=t}function cp(e){const t=op();Oh(t,new lp(t,e))}function up(e,t){Bd.call(this,rp.Ua,e),this.size=t}function dp(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ed.setTimeout((function(){e()}),t)}rp.Ta="serverreachability",Ld(sp,Bd),rp.STAT_EVENT="statevent",Ld(lp,Bd),rp.Ua="timingevent",Ld(up,Bd);var hp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},pp={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fp(){}function mp(e){return e.h||(e.h=e.i())}function gp(){}fp.prototype.h=null;var vp,yp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bp(){Bd.call(this,"d")}function wp(){Bd.call(this,"c")}function _p(){}function Sp(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Xh(this),this.P=xp,e=Jd?125:void 0,this.V=new Kh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new kp}function kp(){this.i=null,this.g="",this.h=!1}Ld(bp,Bd),Ld(wp,Bd),Ld(_p,fp),_p.prototype.g=function(){return new XMLHttpRequest},_p.prototype.i=function(){return{}},vp=new _p;var xp=45e3,Cp={},Ap={};function Ep(e,t,n){e.L=1,e.v=Kp(Bp(t)),e.s=n,e.S=!0,Tp(e,null)}function Tp(e,t){e.G=Date.now(),Pp(e),e.A=Bp(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),sf(n.i,"t",r),e.C=0,n=e.l.J,e.h=new kp,e.g=am(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Yh(Dd(e.Pa,e,e.g),e.O)),Zh(e.U,e.g,"readystatechange",e.nb),t=e.I?fh(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ap(),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Ip(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Rp(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=Np(e,n),r==Ap){4==t&&(e.o=4,cp(14),i=!1),np(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cp){e.o=4,cp(15),np(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}np(e.j,e.m,r,null),Fp(e,r)}Ip(e)&&r!=Ap&&r!=Cp&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cp(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zf(t),t.M=!0,cp(11))):(np(e.j,e.m,n,"[Invalid Chunked Response]"),Lp(e),Mp(e))}function Np(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ap:(n=Number(t.substring(n,r)),isNaN(n)?Cp:(r+=1)+n>t.length?Ap:(t=t.slice(r,r+n),e.C=r+n,t))}function Pp(e){e.Y=Date.now()+e.P,Op(e,e.P)}function Op(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=dp(Dd(e.lb,e),t)}function Dp(e){e.B&&(Ed.clearTimeout(e.B),e.B=null)}function Mp(e){0==e.l.H||e.J||nm(e.l,e)}function Lp(e){Dp(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Gh(e.V),ep(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Fp(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pf(n.i,e)))if(!e.K&&pf(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(GE){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;tm(n),Hf(n)}Jf(n),cp(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=dp(Dd(n.ib,n),6e3));if(1>=hf(n.i)&&n.oa){try{n.oa()}catch(GE){}n.oa=void 0}}else im(n,11)}else if((e.K||n.g==e)&&tm(n),!Wd(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(ff(o,o.h),o.h=null))}if(r.F){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Hp(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var s=e;if((r=n).wa=sm(r,r.J?r.pa:null,r.Y),s.K){mf(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.B&&(Dp(a),Pp(a)),r.g=s}else Xf(r);0<n.j.length&&Gf(n)}else"stop"!=c[0]&&"close"!=c[0]||im(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?im(n,7):qf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}ap()}catch(GE){}}function jp(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Td(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Td(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Td(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(kd=Sp.prototype).setTimeout=function(e){this.P=e},kd.nb=function(e){e=e.target;const t=this.M;t&&3==jf(e)?t.l():this.Pa(e)},kd.Pa=function(e){try{if(e==this.g)e:{const u=jf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Jd||this.g&&(this.h.h||this.g.ja()||zf(this.g)))){this.J||4!=u||7==t||ap(),Dp(this);var n=this.g.da();this.ca=n;t:if(Ip(this)){var r=zf(this.g);e="";var i=r.length,o=4==jf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lp(this),Mp(this);var s="";break t}this.h.i=new Ed.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wd(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,cp(12),Lp(this),Mp(this);break e}np(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fp(this,n)}this.S?(Rp(this,u,s),Jd&&this.i&&3==u&&(Zh(this.U,this.V,"tick",this.mb),this.V.start())):(np(this.j,this.m,s,null),Fp(this,s)),4==u&&Lp(this),this.i&&!this.J&&(4==u?nm(this.l,this):(this.i=!1,Pp(this)))}else(function(e){const t={};e=(e.g&&2<=jf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Wd(e[r]))continue;var n=zh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.o=3,cp(12)):(this.o=0,cp(13)),Lp(this),Mp(this)}}}catch(u){}},kd.mb=function(){if(this.g){var e=jf(this.g),t=this.g.ja();this.C<t.length&&(Dp(this),Rp(this,e,t),this.i&&4!=e&&Pp(this))}},kd.cancel=function(){this.J=!0,Lp(this)},kd.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(ap(),cp(17)),Lp(this),this.o=2,Mp(this)):Op(this,this.Y-e)};var zp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Up(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Up){this.h=e.h,Vp(this,e.j),this.s=e.s,this.g=e.g,Wp(this,e.m),this.l=e.l;var t=e.i,n=new tf;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),qp(this,n),this.o=e.o}else e&&(t=String(e).match(zp))?(this.h=!1,Vp(this,t[1]||"",!0),this.s=Gp(t[2]||""),this.g=Gp(t[3]||"",!0),Wp(this,t[4]),this.l=Gp(t[5]||"",!0),qp(this,t[6]||"",!0),this.o=Gp(t[7]||"")):(this.h=!1,this.i=new tf(null,this.h))}function Bp(e){return new Up(e)}function Vp(e,t,n){e.j=n?Gp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wp(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qp(e,t,n){t instanceof tf?(e.i=t,function(e,t){t&&!e.j&&(nf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rf(this,t),sf(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Qp(t,Zp)),e.i=new tf(t,e.h))}function Hp(e,t,n){e.i.set(t,n)}function Kp(e){return Hp(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qp(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$p),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $p(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Up.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qp(t,Yp,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qp(t,Yp,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qp(n,"/"==n.charAt(0)?Jp:Xp,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qp(n,ef)),e.join("")};var Yp=/[#\/\?@]/g,Xp=/[#\?:]/g,Jp=/[#\?]/g,Zp=/[#\?@]/g,ef=/#/g;function tf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nf(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rf(e,t){nf(e),t=af(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function of(e,t){return nf(e),t=af(e,t),e.g.has(t)}function sf(e,t,n){rf(e,t),0<n.length&&(e.i=null,e.g.set(af(e,t),zd(n)),e.h+=n.length)}function af(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(kd=tf.prototype).add=function(e,t){nf(this),this.i=null,e=af(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},kd.forEach=function(e,t){nf(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},kd.ta=function(){nf(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},kd.Z=function(e){nf(this);let t=[];if("string"===typeof e)of(this,e)&&(t=t.concat(this.g.get(af(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},kd.set=function(e,t){return nf(this),this.i=null,of(this,e=af(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},kd.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},kd.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;""!==s[r]&&(i+="="+encodeURIComponent(String(s[r]))),e.push(i)}}return this.i=e.join("&")};var lf=class{constructor(e,t){this.g=e,this.map=t}};function cf(e){this.l=e||uf,Ed.PerformanceNavigationTiming?e=0<(e=Ed.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ed.g&&Ed.g.Ka&&Ed.g.Ka()&&Ed.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uf=10;function df(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hf(e){return e.h?1:e.g?e.g.size:0}function pf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ff(e,t){e.g?e.g.add(t):e.h=t}function mf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return zd(e.i)}cf.prototype.cancel=function(){if(this.i=gf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var vf,yf=class{stringify(e){return Ed.JSON.stringify(e,void 0)}parse(e){return Ed.JSON.parse(e,void 0)}};function bf(){this.g=new yf}function wf(e,t,n){const r=n||"";try{jp(e,(function(e,n){let i=e;Id(e)&&(i=Mh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(QE){throw t.push(r+"type="+encodeURIComponent("_badmap")),QE}}function _f(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Sf(e){this.l=e.fc||null,this.j=e.ob||!1}function kf(e,t){Ph.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ld(Sf,fp),Sf.prototype.g=function(){return new kf(this.l,this.j)},Sf.prototype.i=(vf={},function(){return vf}),Ld(kf,Ph);var xf=0;function Cf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Af(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ef(e)}function Ef(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(kd=kf.prototype).open=function(e,t){if(this.readyState!=xf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ef(this)},kd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ed).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},kd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Af(this)),this.readyState=xf},kd.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ef(this)),this.g&&(this.readyState=3,Ef(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Ed.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Cf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},kd.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Af(this):Ef(this),3==this.readyState&&Cf(this)}},kd.Za=function(e){this.g&&(this.response=this.responseText=e,Af(this))},kd.Ya=function(e){this.g&&(this.response=e,Af(this))},kd.ka=function(){this.g&&Af(this)},kd.setRequestHeader=function(e,t){this.v.append(e,t)},kd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},kd.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tf=Ed.JSON.parse;function If(e){Ph.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Rf,this.L=this.M=!1}Ld(If,Ph);var Rf="",Nf=/^https?$/i,Pf=["POST","PUT"];function Of(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Df(e),Lf(e)}function Df(e){e.F||(e.F=!0,Oh(e,"complete"),Oh(e,"error"))}function Mf(e){if(e.h&&"undefined"!=typeof Ad&&(!e.C[1]||4!=jf(e)||2!=e.da()))if(e.v&&4==jf(e))Qh(e.La,0,e);else if(Oh(e,"readystatechange"),4==jf(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(zp)[1]||null;!i&&Ed.self&&Ed.self.location&&(i=Ed.self.location.protocol.slice(0,-1)),r=!Nf.test(i?i.toLowerCase():"")}n=r}if(n)Oh(e,"complete"),Oh(e,"success");else{e.m=6;try{var o=2<jf(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Df(e)}}finally{Lf(e)}}}function Lf(e,t){if(e.g){Ff(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Oh(e,"ready");try{n.onreadystatechange=r}catch(QE){}}}function Ff(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ed.clearTimeout(e.A),e.A=null)}function jf(e){return e.g?e.g.readyState:0}function zf(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Rf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(qm){return null}}function Uf(e){let t="";return ph(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bf(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Uf(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hp(e,t,n))}function Vf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wf(e){this.Ga=0,this.j=[],this.l=new tp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vf("baseRetryDelayMs",5e3,e),this.hb=Vf("retryDelaySeedMs",1e4,e),this.eb=Vf("forwardChannelMaxRetries",2,e),this.xa=Vf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new cf(e&&e.concurrentRequestLimit),this.Ja=new bf,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qf(e){if(Kf(e),3==e.H){var t=e.W++,n=Bp(e.I);if(Hp(n,"SID",e.K),Hp(n,"RID",t),Hp(n,"TYPE","terminate"),$f(e,n),(t=new Sp(e,e.l,t)).L=2,t.v=Kp(Bp(n)),n=!1,Ed.navigator&&Ed.navigator.sendBeacon)try{n=Ed.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Ed.Image&&((new Image).src=t.v,n=!0),n||(t.g=am(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Pp(t)}om(e)}function Hf(e){e.g&&(Zf(e),e.g.cancel(),e.g=null)}function Kf(e){Hf(e),e.u&&(Ed.clearTimeout(e.u),e.u=null),tm(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ed.clearTimeout(e.m),e.m=null)}function Gf(e){if(!df(e.i)&&!e.m){e.m=!0;var t=e.Na;Bh||qh(),Vh||(Bh(),Vh=!0),Wh.add(t,e),e.C=0}}function Qf(e,t){var n;n=t?t.m:e.W++;const r=Bp(e.I);Hp(r,"SID",e.K),Hp(r,"RID",n),Hp(r,"AID",e.V),$f(e,r),e.o&&e.s&&Bf(r,e.o,e.s),n=new Sp(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Yf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ff(e.i,n),Ep(n,r,t)}function $f(e,t){e.na&&ph(e.na,(function(e,n){Hp(t,n,e)})),e.h&&jp({},(function(e,n){Hp(t,n,e)}))}function Yf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Dd(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const a=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{wf(a,e,"req"+n+"_")}catch(tg){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Xf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Bh||qh(),Vh||(Bh(),Vh=!0),Wh.add(t,e),e.A=0}}function Jf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=dp(Dd(e.Ma,e),rm(e,e.A)),e.A++,!0)}function Zf(e){null!=e.B&&(Ed.clearTimeout(e.B),e.B=null)}function em(e){e.g=new Sp(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Bp(e.wa);Hp(t,"RID","rpc"),Hp(t,"SID",e.K),Hp(t,"AID",e.V),Hp(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Hp(t,"TO",e.qa),Hp(t,"TYPE","xmlhttp"),$f(e,t),e.o&&e.s&&Bf(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Kp(Bp(t)),n.s=null,n.S=!0,Tp(n,e)}function tm(e){null!=e.v&&(Ed.clearTimeout(e.v),e.v=null)}function nm(e,t){var n=null;if(e.g==t){tm(e),Zf(e),e.g=null;var r=2}else{if(!pf(e.i,t))return;n=t.F,mf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Oh(r=op(),new up(r,n)),Gf(e)}else Xf(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(hf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=dp(Dd(e.Na,e,t),rm(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:im(e,5);break;case 4:im(e,10);break;case 3:im(e,6);break;default:im(e,2)}}function rm(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function im(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Dd(e.pb,e);n||(n=new Up("//www.google.com/images/cleardot.gif"),Ed.location&&"http"==Ed.location.protocol||Vp(n,"https"),Kp(n)),function(e,t){const n=new tp;if(Ed.Image){const r=new Image;r.onload=Md(_f,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Md(_f,n,r,"TestLoadImage: error",!1,t),r.onabort=Md(_f,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Md(_f,n,r,"TestLoadImage: timeout",!1,t),Ed.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else cp(2);e.H=0,e.h&&e.h.za(t),om(e),Kf(e)}function om(e){if(e.H=0,e.ma=[],e.h){const t=gf(e.i);0==t.length&&0==e.j.length||(Ud(e.ma,t),Ud(e.ma,e.j),e.i.i.length=0,zd(e.j),e.j.length=0),e.h.ya()}}function sm(e,t,n){var r=n instanceof Up?Bp(n):new Up(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Wp(r,r.m);else{var i=Ed.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var o=new Up(null);r&&Vp(o,r),t&&(o.g=t),i&&Wp(o,i),n&&(o.l=n),r=o}return n=e.F,t=e.Da,n&&t&&Hp(r,n,t),Hp(r,"VER",e.ra),$f(e,r),r}function am(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new If(new Sf({ob:!0})):new If(e.va)).Oa(e.J),t}function lm(){}function cm(){if(Yd&&!(10<=Number(sh)))throw Error("Environmental error: no available transport.")}function um(e,t){Ph.call(this),this.g=new Wf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Wd(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wd(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pm(this)}function dm(e){bp.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hm(){wp.call(this),this.status=1}function pm(e){this.g=e}function fm(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function mm(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],s=t+(o^n&(i^o))+r[0]+3614090360&4294967295;s=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(s<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(t=n+((s=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((i=o+((s=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function gm(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}(kd=If.prototype).Oa=function(e){this.M=e},kd.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vp.g(),this.C=this.u?mp(this.u):mp(vp),this.g.onreadystatechange=Dd(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(o){return void Of(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Ed.FormData&&e instanceof Ed.FormData,!(0<=jd(Pf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,a]of n)this.g.setRequestHeader(s,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ff(this),0<this.B&&((this.L=function(e){return Yd&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dd(this.ua,this)):this.A=Qh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Of(this,o)}},kd.ua=function(){"undefined"!=typeof Ad&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oh(this,"timeout"),this.abort(8))},kd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oh(this,"complete"),Oh(this,"abort"),Lf(this))},kd.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),If.$.N.call(this)},kd.La=function(){this.s||(this.G||this.v||this.l?Mf(this):this.kb())},kd.kb=function(){Mf(this)},kd.isActive=function(){return!!this.g},kd.da=function(){try{return 2<jf(this)?this.g.status:-1}catch(vf){return-1}},kd.ja=function(){try{return this.g?this.g.responseText:""}catch(vf){return""}},kd.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tf(t)}},kd.Ia=function(){return this.m},kd.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(kd=Wf.prototype).ra=8,kd.H=1,kd.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Sp(this,this.l,e);let o=this.s;if(this.U&&(o?(o=fh(o),gh(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Yf(this,i,t),Hp(n=Bp(this.I),"RID",e),Hp(n,"CVER",22),this.F&&Hp(n,"X-HTTP-Session-Id",this.F),$f(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Uf(o)))+"&"+t:this.o&&Bf(n,this.o,o)),ff(this.i,i),this.bb&&Hp(n,"TYPE","init"),this.P?(Hp(n,"$req",t),Hp(n,"SID","null"),i.aa=!0,Ep(i,n,null)):Ep(i,n,t),this.H=2}}else 3==this.H&&(e?Qf(this,e):0==this.j.length||df(this.i)||Qf(this))},kd.Ma=function(){if(this.u=null,em(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=dp(Dd(this.jb,this),e)}},kd.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,cp(10),Hf(this),em(this))},kd.ib=function(){null!=this.v&&(this.v=null,Hf(this),Jf(this),cp(19))},kd.pb=function(e){e?(this.l.info("Successfully pinged google.com"),cp(2)):(this.l.info("Failed to ping google.com"),cp(1))},kd.isActive=function(){return!!this.h&&this.h.isActive(this)},(kd=lm.prototype).Ba=function(){},kd.Aa=function(){},kd.za=function(){},kd.ya=function(){},kd.isActive=function(){return!0},kd.Va=function(){},cm.prototype.g=function(e,t){return new um(e,t)},Ld(um,Ph),um.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;cp(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=sm(e,null,e.Y),Gf(e)},um.prototype.close=function(){qf(this.g)},um.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Mh(e),e=n);t.j.push(new lf(t.fb++,e)),3==t.H&&Gf(t)},um.prototype.N=function(){this.g.h=null,delete this.j,qf(this.g),delete this.g,um.$.N.call(this)},Ld(dm,bp),Ld(hm,wp),Ld(pm,lm),pm.prototype.Ba=function(){Oh(this.g,"a")},pm.prototype.Aa=function(e){Oh(this.g,new dm(e))},pm.prototype.za=function(e){Oh(this.g,new hm)},pm.prototype.ya=function(){Oh(this.g,"b")},Ld(fm,(function(){this.blockSize=-1})),fm.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},fm.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,o=0;o<t;){if(0==i)for(;o<=n;)mm(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(r[i++]=e.charCodeAt(o++),i==this.blockSize){mm(this,r),i=0;break}}else for(;o<t;)if(r[i++]=e[o++],i==this.blockSize){mm(this,r),i=0;break}}this.h=i,this.i+=t},fm.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var vm={};function ym(e){return-128<=e&&128>e?function(e,t){var n=vm;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new gm([0|e],0>e?-1:0)})):new gm([0|e],0>e?-1:0)}function bm(e){if(isNaN(e)||!isFinite(e))return _m;if(0>e)return Am(bm(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=wm;return new gm(t,0)}var wm=4294967296,_m=ym(0),Sm=ym(1),km=ym(16777216);function xm(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Cm(e){return-1==e.h}function Am(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new gm(n,~e.h).add(Sm)}function Em(e,t){return e.add(Am(t))}function Tm(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Im(e,t){this.g=e,this.h=t}function Rm(e,t){if(xm(t))throw Error("division by zero");if(xm(e))return new Im(_m,_m);if(Cm(e))return t=Rm(Am(e),t),new Im(Am(t.g),Am(t.h));if(Cm(t))return t=Rm(e,Am(t)),new Im(Am(t.g),t.h);if(30<e.g.length){if(Cm(e)||Cm(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Sm,r=t;0>=r.X(e);)n=Nm(n),r=Nm(r);var i=Pm(n,1),o=Pm(r,1);for(r=Pm(r,2),n=Pm(n,2);!xm(r);){var s=o.add(r);0>=s.X(e)&&(i=i.add(n),o=s),r=Pm(r,1),n=Pm(n,1)}return t=Em(e,i.R(t)),new Im(i,t)}for(i=_m;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),s=(o=bm(n)).R(t);Cm(s)||0<s.X(e);)s=(o=bm(n-=r)).R(t);xm(o)&&(o=Sm),i=i.add(o),e=Em(e,s)}return new Im(i,e)}function Nm(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new gm(n,e.h)}function Pm(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],o=0;o<r;o++)i[o]=0<t?e.D(o+n)>>>t|e.D(o+n+1)<<32-t:e.D(o+n);return new gm(i,e.h)}(kd=gm.prototype).ea=function(){if(Cm(this))return-Am(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:wm+r)*t,t*=wm}return e},kd.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xm(this))return"0";if(Cm(this))return"-"+Am(this).toString(e);for(var t=bm(Math.pow(e,6)),n=this,r="";;){var i=Rm(n,t).g,o=((0<(n=Em(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xm(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},kd.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},kd.X=function(e){return Cm(e=Em(this,e))?-1:xm(e)?0:1},kd.abs=function(){return Cm(this)?Am(this):this},kd.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var o=r+(65535&this.D(i))+(65535&e.D(i)),s=(o>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new gm(n,-2147483648&n[n.length-1]?-1:0)},kd.R=function(e){if(xm(this)||xm(e))return _m;if(Cm(this))return Cm(e)?Am(this).R(Am(e)):Am(Am(this).R(e));if(Cm(e))return Am(this.R(Am(e)));if(0>this.X(km)&&0>e.X(km))return bm(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var o=this.D(r)>>>16,s=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=s*l,Tm(n,2*r+2*i),n[2*r+2*i+1]+=o*l,Tm(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,Tm(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,Tm(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new gm(n,0)},kd.gb=function(e){return Rm(this,e).h},kd.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new gm(n,this.h&e.h)},kd.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new gm(n,this.h|e.h)},kd.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new gm(n,this.h^e.h)},cm.prototype.createWebChannel=cm.prototype.g,um.prototype.send=um.prototype.u,um.prototype.open=um.prototype.m,um.prototype.close=um.prototype.close,hp.NO_ERROR=0,hp.TIMEOUT=8,hp.HTTP_ERROR=6,pp.COMPLETE="complete",gp.EventType=yp,yp.OPEN="a",yp.CLOSE="b",yp.ERROR="c",yp.MESSAGE="d",Ph.prototype.listen=Ph.prototype.O,If.prototype.listenOnce=If.prototype.P,If.prototype.getLastError=If.prototype.Sa,If.prototype.getLastErrorCode=If.prototype.Ia,If.prototype.getStatus=If.prototype.da,If.prototype.getResponseJson=If.prototype.Wa,If.prototype.getResponseText=If.prototype.ja,If.prototype.send=If.prototype.ha,If.prototype.setWithCredentials=If.prototype.Oa,fm.prototype.digest=fm.prototype.l,fm.prototype.reset=fm.prototype.reset,fm.prototype.update=fm.prototype.j,gm.prototype.add=gm.prototype.add,gm.prototype.multiply=gm.prototype.R,gm.prototype.modulo=gm.prototype.gb,gm.prototype.compare=gm.prototype.X,gm.prototype.toNumber=gm.prototype.ea,gm.prototype.toString=gm.prototype.toString,gm.prototype.getBits=gm.prototype.D,gm.fromNumber=bm,gm.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Am(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=bm(Math.pow(n,8)),i=_m,o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o),a=parseInt(t.substring(o,o+s),n);8>s?(s=bm(Math.pow(n,s)),i=i.R(s).add(bm(a))):i=(i=i.R(r)).add(bm(a))}return i};var Om=Cd.createWebChannelTransport=function(){return new cm},Dm=Cd.getStatEventTarget=function(){return op()},Mm=Cd.ErrorCode=hp,Lm=Cd.EventType=pp,Fm=Cd.Event=rp,jm=Cd.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zm=Cd.FetchXmlHttpFactory=Sf,Um=Cd.WebChannel=gp,Bm=Cd.XhrIo=If,Vm=Cd.Md5=fm,Wm=Cd.Integer=gm;const qm="@firebase/firestore";class Hm{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hm.UNAUTHENTICATED=new Hm(null),Hm.GOOGLE_CREDENTIALS=new Hm("google-credentials-uid"),Hm.FIRST_PARTY=new Hm("first-party-uid"),Hm.MOCK_USER=new Hm("mock-user");let Km="9.23.0";const Gm=new It("@firebase/firestore");function Qm(){return Gm.logLevel}function $m(e){if(Gm.logLevel<=xt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jm);Gm.debug("Firestore (".concat(Km,"): ").concat(e),...i)}}function Ym(e){if(Gm.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jm);Gm.error("Firestore (".concat(Km,"): ").concat(e),...i)}}function Xm(e){if(Gm.logLevel<=xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Jm);Gm.warn("Firestore (".concat(Km,"): ").concat(e),...i)}}function Jm(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Zm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Km,") INTERNAL ASSERTION FAILED: ")+e;throw Ym(t),new Error(t)}function eg(e,t){e||Zm()}function tg(e,t){return e}const ng={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rg extends Ye{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class ig{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class og{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class sg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hm.UNAUTHENTICATED)))}shutdown(){}}class ag{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lg{constructor(e){this.t=e,this.currentUser=Hm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ig;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ig,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{$m("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):($m("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ig)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?($m("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eg("string"==typeof t.accessToken),new og(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return eg(null===e||"string"==typeof e),new Hm(e)}}class cg{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Hm.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ug{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new cg(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Hm.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hg{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&$m("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,$m("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{$m("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):$m("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(eg("string"==typeof e.token),this.T=e.token,new dg(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function pg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class fg{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=pg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function mg(e,t){return e<t?-1:e>t?1:0}function gg(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class vg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rg(ng.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rg(ng.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rg(ng.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rg(ng.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vg.fromMillis(Date.now())}static fromDate(e){return vg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new vg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mg(this.nanoseconds,e.nanoseconds):mg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new yg(e)}static min(){return new yg(new vg(0,0))}static max(){return new yg(new vg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bg{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zm(),void 0===n?n=e.length-t:n>e.length-t&&Zm(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bg?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class wg extends bg{construct(e,t,n){return new wg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rg(ng.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new wg(e)}static emptyPath(){return new wg([])}}const _g=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Sg extends bg{construct(e,t,n){return new Sg(e,t,n)}static isValidIdentifier(e){return _g.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Sg.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Sg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rg(ng.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rg(ng.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rg(ng.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new rg(ng.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Sg(t)}static emptyPath(){return new Sg([])}}class kg{constructor(e){this.path=e}static fromPath(e){return new kg(wg.fromString(e))}static fromName(e){return new kg(wg.fromString(e).popFirst(5))}static empty(){return new kg(wg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===wg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return wg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kg(new wg(e.slice()))}}class xg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}xg.UNKNOWN_ID=-1;function Cg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=yg.fromTimestamp(1e9===r?new vg(n+1,0):new vg(n,r));return new Eg(i,kg.empty(),t)}function Ag(e){return new Eg(e.readTime,e.key,-1)}class Eg{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Eg(yg.min(),kg.empty(),-1)}static max(){return new Eg(yg.max(),kg.empty(),-1)}}function Tg(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=kg.comparator(e.documentKey,t.documentKey),0!==n?n:mg(e.largestBatchId,t.largestBatchId))}const Ig="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ng(e){if(e.code!==ng.FAILED_PRECONDITION||e.message!==Ig)throw e;$m("LocalStore","Unexpectedly lost primary lease")}class Pg{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pg(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Pg?t:Pg.resolve(t)}catch(e){return Pg.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Pg.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Pg.reject(t)}static resolve(e){return new Pg(((t,n)=>{t(e)}))}static reject(e){return new Pg(((t,n)=>{n(e)}))}static waitFor(e){return new Pg(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Pg.resolve(!1);for(const n of e)t=t.next((e=>e?Pg.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Pg(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Pg(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Og(e){return"IndexedDbTransactionError"===e.name}class Dg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Mg(e){return null==e}function Lg(e){return 0===e&&1/e==-1/0}function Fg(e){return"number"==typeof e&&Number.isInteger(e)&&!Lg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Dg.ct=-1;const jg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ug=zg;function Bg(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vg(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wg(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class qg{constructor(e,t){this.comparator=e,this.root=t||Kg.EMPTY}insert(e,t){return new qg(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kg.BLACK,null,null))}remove(e){return new qg(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kg.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hg(this.root,e,this.comparator,!0)}}class Hg{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kg{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Kg.RED,this.left=null!=r?r:Kg.EMPTY,this.right=null!=i?i:Kg.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Kg(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kg.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Kg.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kg.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kg.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zm();if(this.right.isRed())throw Zm();const e=this.left.check();if(e!==this.right.check())throw Zm();return e+(this.isRed()?0:1)}}Kg.EMPTY=null,Kg.RED=!0,Kg.BLACK=!1,Kg.EMPTY=new class{constructor(){this.size=0}get key(){throw Zm()}get value(){throw Zm()}get color(){throw Zm()}get left(){throw Zm()}get right(){throw Zm()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Kg(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gg{constructor(e){this.comparator=e,this.data=new qg(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qg(this.data.getIterator())}getIteratorFrom(e){return new Qg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Gg))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Gg(this.comparator);return t.data=e,t}}class Qg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class $g{constructor(e){this.fields=e,e.sort(Sg.comparator)}static empty(){return new $g([])}unionWith(e){let t=new Gg(Sg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new $g(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gg(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Yg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xg{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Yg("Invalid base64 string: "+e):e}}(e);return new Xg(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xg(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xg.EMPTY_BYTE_STRING=new Xg("");const Jg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zg(e){if(eg(!!e),"string"==typeof e){let t=0;const n=Jg.exec(e);if(eg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ev(e.seconds),nanos:ev(e.nanos)}}function ev(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function tv(e){return"string"==typeof e?Xg.fromBase64String(e):Xg.fromUint8Array(e)}function nv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rv(e){const t=e.mapValue.fields.__previous_value__;return nv(t)?rv(t):t}function iv(e){const t=Zg(e.mapValue.fields.__local_write_time__.timestampValue);return new vg(t.seconds,t.nanos)}class ov{constructor(e,t,n,r,i,o,s,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=l}}class sv{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sv("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sv&&e.projectId===this.projectId&&e.database===this.database}}const av={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function lv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nv(e)?4:Sv(e)?9007199254740991:10:Zm()}function cv(e,t){if(e===t)return!0;const n=lv(e);if(n!==lv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return iv(e).isEqual(iv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zg(e.timestampValue),r=Zg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return tv(e.bytesValue).isEqual(tv(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ev(e.geoPointValue.latitude)===ev(t.geoPointValue.latitude)&&ev(e.geoPointValue.longitude)===ev(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ev(e.integerValue)===ev(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ev(e.doubleValue),r=ev(t.doubleValue);return n===r?Lg(n)===Lg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gg(e.arrayValue.values||[],t.arrayValue.values||[],cv);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bg(n)!==Bg(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cv(n[i],r[i])))return!1;return!0}(e,t);default:return Zm()}}function uv(e,t){return void 0!==(e.values||[]).find((e=>cv(e,t)))}function dv(e,t){if(e===t)return 0;const n=lv(e),r=lv(t);if(n!==r)return mg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ev(e.integerValue||e.doubleValue),r=ev(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hv(e.timestampValue,t.timestampValue);case 4:return hv(iv(e),iv(t));case 5:return mg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=tv(e),r=tv(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mg(n[i],r[i]);if(0!==e)return e}return mg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mg(ev(e.latitude),ev(t.latitude));return 0!==n?n:mg(ev(e.longitude),ev(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dv(n[i],r[i]);if(e)return e}return mg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===av.mapValue&&t===av.mapValue)return 0;if(e===av.mapValue)return 1;if(t===av.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=mg(r[s],o[s]);if(0!==e)return e;const t=dv(n[r[s]],i[o[s]]);if(0!==t)return t}return mg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Zm()}}function hv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mg(e,t);const n=Zg(e),r=Zg(t),i=mg(n.seconds,r.seconds);return 0!==i?i:mg(n.nanos,r.nanos)}function pv(e){return fv(e)}function fv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tv(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,kg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=fv(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(fv(e.fields[i]));return n+"}"}(e.mapValue):Zm();var t,n}function mv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function gv(e){return!!e&&"integerValue"in e}function vv(e){return!!e&&"arrayValue"in e}function yv(e){return!!e&&"nullValue"in e}function bv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wv(e){return!!e&&"mapValue"in e}function _v(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vg(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=_v(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=_v(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Sv(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class kv{constructor(e){this.value=e}static empty(){return new kv({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_v(t)}setAll(e){let t=Sg.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=_v(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return cv(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wv(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Vg(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new kv(_v(this.value))}}function xv(e){const t=[];return Vg(e.fields,((e,n)=>{const r=new Sg([e]);if(wv(n)){const e=xv(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new $g(t)}class Cv{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new Cv(e,0,yg.min(),yg.min(),yg.min(),kv.empty(),0)}static newFoundDocument(e,t,n,r){return new Cv(e,1,t,yg.min(),n,r,0)}static newNoDocument(e,t){return new Cv(e,2,t,yg.min(),yg.min(),kv.empty(),0)}static newUnknownDocument(e,t){return new Cv(e,3,t,yg.min(),yg.min(),kv.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yg.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kv.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kv.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cv&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cv(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Av{constructor(e,t){this.position=e,this.inclusive=t}}function Ev(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?kg.comparator(kg.fromName(s.referenceValue),n.key):dv(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Tv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!cv(e.position[n],t.position[n]))return!1;return!0}class Iv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Rv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Nv{}class Pv extends Nv{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Uv(e,t,n):"array-contains"===t?new qv(e,n):"in"===t?new Hv(e,n):"not-in"===t?new Kv(e,n):"array-contains-any"===t?new Gv(e,n):new Pv(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bv(e,n):new Vv(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dv(t,this.value)):null!==t&&lv(this.value)===lv(t)&&this.matchesComparison(dv(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zm()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ov extends Nv{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Ov(e,t)}matches(e){return Dv(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft((e=>e.isInequality()));return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Dv(e){return"and"===e.op}function Mv(e){return Lv(e)&&Dv(e)}function Lv(e){for(const t of e.filters)if(t instanceof Ov)return!1;return!0}function Fv(e){if(e instanceof Pv)return e.field.canonicalString()+e.op.toString()+pv(e.value);if(Mv(e))return e.filters.map((e=>Fv(e))).join(",");{const t=e.filters.map((e=>Fv(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function jv(e,t){return e instanceof Pv?function(e,t){return t instanceof Pv&&e.op===t.op&&e.field.isEqual(t.field)&&cv(e.value,t.value)}(e,t):e instanceof Ov?function(e,t){return t instanceof Ov&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&jv(n,t.filters[r])),!0)}(e,t):void Zm()}function zv(e){return e instanceof Pv?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pv(e.value))}(e):e instanceof Ov?function(e){return e.op.toString()+" {"+e.getFilters().map(zv).join(" ,")+"}"}(e):"Filter"}class Uv extends Pv{constructor(e,t,n){super(e,t,n),this.key=kg.fromName(n.referenceValue)}matches(e){const t=kg.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bv extends Pv{constructor(e,t){super(e,"in",t),this.keys=Wv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Vv extends Pv{constructor(e,t){super(e,"not-in",t),this.keys=Wv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>kg.fromName(e.referenceValue)))}class qv extends Pv{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vv(t)&&uv(t.arrayValue,this.value)}}class Hv extends Pv{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&uv(this.value.arrayValue,t)}}class Kv extends Pv{constructor(e,t){super(e,"not-in",t)}matches(e){if(uv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!uv(this.value.arrayValue,t)}}class Gv extends Pv{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>uv(this.value.arrayValue,e)))}}class Qv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.dt=null}}function $v(e){return new Qv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Yv(e){const t=tg(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Fv(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Mg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>pv(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>pv(e))).join(",")),t.dt=e}return t.dt}function Xv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Rv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!jv(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Tv(e.startAt,t.startAt)&&Tv(e.endAt,t.endAt)}function Jv(e){return kg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Zv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function ey(e,t,n,r,i,o,s,a){return new Zv(e,t,n,r,i,o,s,a)}function ty(e){return new Zv(e)}function ny(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ry(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function iy(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function oy(e){return null!==e.collectionGroup}function sy(e){const t=tg(e);if(null===t.wt){t.wt=[];const e=iy(t),n=ry(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new Iv(e)),t.wt.push(new Iv(Sg.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Iv(Sg.keyField(),e))}}}return t.wt}function ay(e){const t=tg(e);if(!t._t)if("F"===t.limitType)t._t=$v(t.path,t.collectionGroup,sy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of sy(t)){const t="desc"===i.dir?"asc":"desc";e.push(new Iv(i.field,t))}const n=t.endAt?new Av(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Av(t.startAt.position,t.startAt.inclusive):null;t._t=$v(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function ly(e,t){t.getFirstInequalityField(),iy(e);const n=e.filters.concat([t]);return new Zv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cy(e,t,n){return new Zv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uy(e,t){return Xv(ay(e),ay(t))&&e.limitType===t.limitType}function dy(e){return"".concat(Yv(ay(e)),"|lt:").concat(e.limitType)}function hy(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>zv(e))).join(", "),"]")),Mg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>pv(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>pv(e))).join(",")),"Target(".concat(t,")")}(ay(e)),"; limitType=").concat(e.limitType,")")}function py(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):kg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sy(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ev(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sy(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ev(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sy(e),t))}(e,t)}function fy(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function my(e){return(t,n)=>{let r=!1;for(const i of sy(e)){const e=gy(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function gy(e,t,n){const r=e.field.isKeyField()?kg.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dv(r,i):Zm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zm()}}class vy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Vg(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Wg(this.inner)}size(){return this.innerSize}}const yy=new qg(kg.comparator);function by(){return yy}const wy=new qg(kg.comparator);function _y(){let e=wy;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Sy(e){let t=wy;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ky(){return Cy()}function xy(){return Cy()}function Cy(){return new vy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Ay=new qg(kg.comparator),Ey=new Gg(kg.comparator);function Ty(){let e=Ey;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Iy=new Gg(mg);function Ry(){return Iy}function Ny(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lg(t)?"-0":t}}function Py(e){return{integerValue:""+e}}function Oy(e,t){return Fg(t)?Py(t):Ny(e,t)}class Dy{constructor(){this._=void 0}}function My(e,t,n){return e instanceof jy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&nv(t)&&(t=rv(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof zy?Uy(e,t):e instanceof By?Vy(e,t):function(e,t){const n=Fy(e,t),r=qy(n)+qy(e.gt);return gv(n)&&gv(e.gt)?Py(r):Ny(e.serializer,r)}(e,t)}function Ly(e,t,n){return e instanceof zy?Uy(e,t):e instanceof By?Vy(e,t):n}function Fy(e,t){return e instanceof Wy?gv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class jy extends Dy{}class zy extends Dy{constructor(e){super(),this.elements=e}}function Uy(e,t){const n=Hy(t);for(const r of e.elements)n.some((e=>cv(e,r)))||n.push(r);return{arrayValue:{values:n}}}class By extends Dy{constructor(e){super(),this.elements=e}}function Vy(e,t){let n=Hy(t);for(const r of e.elements)n=n.filter((e=>!cv(e,r)));return{arrayValue:{values:n}}}class Wy extends Dy{constructor(e,t){super(),this.serializer=e,this.gt=t}}function qy(e){return ev(e.integerValue||e.doubleValue)}function Hy(e){return vv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ky{constructor(e,t){this.field=e,this.transform=t}}class Gy{constructor(e,t){this.version=e,this.transformResults=t}}class Qy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qy}static exists(e){return new Qy(void 0,e)}static updateTime(e){return new Qy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $y(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yy{}function Xy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ab(e.key,Qy.none()):new nb(e.key,e.data,Qy.none());{const n=e.data,r=kv.empty();let i=new Gg(Sg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new rb(e.key,r,new $g(i.toArray()),Qy.none())}}function Jy(e,t,n){e instanceof nb?function(e,t,n){const r=e.value.clone(),i=ob(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rb?function(e,t,n){if(!$y(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ob(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ib(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Zy(e,t,n,r){return e instanceof nb?function(e,t,n,r){if(!$y(e.precondition,t))return n;const i=e.value.clone(),o=sb(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rb?function(e,t,n,r){if(!$y(e.precondition,t))return n;const i=sb(e.fieldTransforms,r,t),o=t.data;return o.setAll(ib(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return $y(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eb(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Fy(r.transform,e||null);null!=i&&(null===n&&(n=kv.empty()),n.set(r.field,i))}return n||null}function tb(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gg(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zy&&t instanceof zy||e instanceof By&&t instanceof By?gg(e.elements,t.elements,cv):e instanceof Wy&&t instanceof Wy?cv(e.gt,t.gt):e instanceof jy&&t instanceof jy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nb extends Yy{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rb extends Yy{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ib(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ob(e,t,n){const r=new Map;eg(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ly(s,a,n[i]))}return r}function sb(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,My(e,o,t))}return r}class ab extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lb extends Yy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cb{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Zy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Zy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=xy();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Xy(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(yg.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ty())}isEqual(e){return this.batchId===e.batchId&&gg(this.mutations,e.mutations,((e,t)=>tb(e,t)))&&gg(this.baseMutations,e.baseMutations,((e,t)=>tb(e,t)))}}class ub{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){eg(e.mutations.length===n.length);let r=Ay;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ub(e,t,n,r)}}class db{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hb{constructor(e,t){this.count=e,this.unchangedNames=t}}var pb,fb;function mb(e){switch(e){default:return Zm();case ng.CANCELLED:case ng.UNKNOWN:case ng.DEADLINE_EXCEEDED:case ng.RESOURCE_EXHAUSTED:case ng.INTERNAL:case ng.UNAVAILABLE:case ng.UNAUTHENTICATED:return!1;case ng.INVALID_ARGUMENT:case ng.NOT_FOUND:case ng.ALREADY_EXISTS:case ng.PERMISSION_DENIED:case ng.FAILED_PRECONDITION:case ng.ABORTED:case ng.OUT_OF_RANGE:case ng.UNIMPLEMENTED:case ng.DATA_LOSS:return!0}}function gb(e){if(void 0===e)return Ym("GRPC error has no .code"),ng.UNKNOWN;switch(e){case pb.OK:return ng.OK;case pb.CANCELLED:return ng.CANCELLED;case pb.UNKNOWN:return ng.UNKNOWN;case pb.DEADLINE_EXCEEDED:return ng.DEADLINE_EXCEEDED;case pb.RESOURCE_EXHAUSTED:return ng.RESOURCE_EXHAUSTED;case pb.INTERNAL:return ng.INTERNAL;case pb.UNAVAILABLE:return ng.UNAVAILABLE;case pb.UNAUTHENTICATED:return ng.UNAUTHENTICATED;case pb.INVALID_ARGUMENT:return ng.INVALID_ARGUMENT;case pb.NOT_FOUND:return ng.NOT_FOUND;case pb.ALREADY_EXISTS:return ng.ALREADY_EXISTS;case pb.PERMISSION_DENIED:return ng.PERMISSION_DENIED;case pb.FAILED_PRECONDITION:return ng.FAILED_PRECONDITION;case pb.ABORTED:return ng.ABORTED;case pb.OUT_OF_RANGE:return ng.OUT_OF_RANGE;case pb.UNIMPLEMENTED:return ng.UNIMPLEMENTED;case pb.DATA_LOSS:return ng.DATA_LOSS;default:return Zm()}}(fb=pb||(pb={}))[fb.OK=0]="OK",fb[fb.CANCELLED=1]="CANCELLED",fb[fb.UNKNOWN=2]="UNKNOWN",fb[fb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fb[fb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fb[fb.NOT_FOUND=5]="NOT_FOUND",fb[fb.ALREADY_EXISTS=6]="ALREADY_EXISTS",fb[fb.PERMISSION_DENIED=7]="PERMISSION_DENIED",fb[fb.UNAUTHENTICATED=16]="UNAUTHENTICATED",fb[fb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fb[fb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fb[fb.ABORTED=10]="ABORTED",fb[fb.OUT_OF_RANGE=11]="OUT_OF_RANGE",fb[fb.UNIMPLEMENTED=12]="UNIMPLEMENTED",fb[fb.INTERNAL=13]="INTERNAL",fb[fb.UNAVAILABLE=14]="UNAVAILABLE",fb[fb.DATA_LOSS=15]="DATA_LOSS";class vb{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yb}static getOrCreateInstance(){return null===yb&&(yb=new vb),yb}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let yb=null;function bb(){return new TextEncoder}const wb=new Wm([4294967295,4294967295],0);function _b(e){const t=bb().encode(e),n=new Vm;return n.update(t),new Uint8Array(n.digest())}function Sb(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Wm([n,r],0),new Wm([i,o],0)]}class kb{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new xb("Invalid padding: ".concat(t));if(n<0)throw new xb("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new xb("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new xb("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Wm.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Wm.fromNumber(n)));return 1===r.compare(wb)&&(r=new Wm([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=_b(e),[n,r]=Sb(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new kb(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.It)return;const t=_b(e),[n,r]=Sb(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class xb extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cb{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ab.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Cb(yg.min(),r,new qg(mg),by(),Ty())}}class Ab{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ab(n,t,Ty(),Ty(),Ty())}}class Eb{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class Tb{constructor(e,t){this.targetId=e,this.Vt=t}}class Ib{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xg.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Rb{constructor(){this.St=0,this.Dt=Ob(),this.Ct=Xg.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Ty(),t=Ty(),n=Ty();return this.Dt.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zm()}})),new Ab(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=Ob()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Nb{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=by(),this.zt=Pb(),this.Wt=new qg(mg)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,(t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Zm()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach(((e,n)=>{this.te(n)&&t(n)}))}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const o=i.target;if(Jv(o))if(0===r){const e=new kg(o.path);this.Yt(n,e,Cv.newNoDocument(e,yg.min()))}else eg(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=vb.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,o,s,a,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(s=null===(o=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===(a=null==u?void 0:u.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,l;try{a=tv(i).toUint8Array()}catch(e){if(e instanceof Yg)return Xm("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new kb(a,o,s)}catch(e){return Xm(e instanceof xb?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Gt.ue(),o="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(o)||(this.Yt(e,n,null),r++)})),r}ce(e){const t=new Map;this.Qt.forEach(((n,r)=>{const i=this.se(r);if(i){if(n.current&&Jv(i.target)){const t=new kg(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,Cv.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}}));let n=Ty();this.zt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.jt.forEach(((t,n)=>n.setReadTime(e)));const r=new Cb(e,t,this.Wt,this.jt,n);return this.jt=by(),this.zt=Pb(),this.Wt=new qg(mg),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Rb,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Gg(mg),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||$m("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Rb),this.Gt.getRemoteKeysForTarget(e).forEach((t=>{this.Yt(e,t,null)}))}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Pb(){return new qg(kg.comparator)}function Ob(){return new qg(kg.comparator)}const Db={asc:"ASCENDING",desc:"DESCENDING"},Mb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lb={and:"AND",or:"OR"};class Fb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jb(e,t){return e.useProto3Json||Mg(t)?t:{value:t}}function zb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ub(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Bb(e,t){return zb(e,t.toTimestamp())}function Vb(e){return eg(!!e),yg.fromTimestamp(function(e){const t=Zg(e);return new vg(t.seconds,t.nanos)}(e))}function Wb(e,t){return function(e){return new wg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function qb(e){const t=wg.fromString(e);return eg(uw(t)),t}function Hb(e,t){return Wb(e.databaseId,t.path)}function Kb(e,t){const n=qb(t);if(n.get(1)!==e.databaseId.projectId)throw new rg(ng.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rg(ng.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new kg(Yb(n))}function Gb(e,t){return Wb(e.databaseId,t)}function Qb(e){const t=qb(e);return 4===t.length?wg.emptyPath():Yb(t)}function $b(e){return new wg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yb(e){return eg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Xb(e,t,n){return{name:Hb(e,t),fields:n.value.mapValue.fields}}function Jb(e,t){let n;if(t instanceof nb)n={update:Xb(e,t.key,t.value)};else if(t instanceof ab)n={delete:Hb(e,t.key)};else if(t instanceof rb)n={update:Xb(e,t.key,t.data),updateMask:cw(t.fieldMask)};else{if(!(t instanceof lb))return Zm();n={verify:Hb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof jy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof By)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wy)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Zm()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Bb(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zm()}(e,t.precondition)),n}function Zb(e,t){return{documents:[Gb(e,t.path)]}}function ew(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Gb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return lw(Ov.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sw(e.field),direction:rw(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=jb(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function tw(e){let t=Qb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=nw(e);return t instanceof Ov&&Mv(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new Iv(aw(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Mg(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Av(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Av(n,t)}(n.endAt)),ey(t,i,s,o,a,"F",l,c)}function nw(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=aw(e.unaryFilter.field);return Pv.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=aw(e.unaryFilter.field);return Pv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=aw(e.unaryFilter.field);return Pv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=aw(e.unaryFilter.field);return Pv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zm()}}(e):void 0!==e.fieldFilter?function(e){return Pv.create(aw(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zm()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ov.create(e.compositeFilter.filters.map((e=>nw(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zm()}}(e.compositeFilter.op))}(e):Zm()}function rw(e){return Db[e]}function iw(e){return Mb[e]}function ow(e){return Lb[e]}function sw(e){return{fieldPath:e.canonicalString()}}function aw(e){return Sg.fromServerFormat(e.fieldPath)}function lw(e){return e instanceof Pv?function(e){if("=="===e.op){if(bv(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NAN"}};if(yv(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bv(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NOT_NAN"}};if(yv(e.value))return{unaryFilter:{field:sw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sw(e.field),op:iw(e.op),value:e.value}}}(e):e instanceof Ov?function(e){const t=e.getFilters().map((e=>lw(e)));return 1===t.length?t[0]:{compositeFilter:{op:ow(e.op),filters:t}}}(e):Zm()}function cw(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function uw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class dw{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yg.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yg.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xg.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new dw(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dw(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hw{constructor(e){this.fe=e}}function pw(e){const t=tw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cy(t,t.limit,"L"):t}class fw{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ev(e.integerValue));else if("doubleValue"in e){const n=ev(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),Lg(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(tv(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?Sv(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Zm()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),kg.fromName(e).path.forEach((e=>{this.ye(t,60),this.be(e,t)}))}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}fw.Ve=new fw;class mw{constructor(){this.rn=new gw}addToCollectionParentIndex(e,t){return this.rn.add(t),Pg.resolve()}getCollectionParents(e,t){return Pg.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Pg.resolve()}deleteFieldIndex(e,t){return Pg.resolve()}getDocumentsMatchingTarget(e,t){return Pg.resolve(null)}getIndexType(e,t){return Pg.resolve(0)}getFieldIndexes(e,t){return Pg.resolve([])}getNextCollectionGroupToUpdate(e){return Pg.resolve(null)}getMinOffset(e,t){return Pg.resolve(Eg.min())}getMinOffsetFromCollectionGroup(e,t){return Pg.resolve(Eg.min())}updateCollectionGroup(e,t,n){return Pg.resolve()}updateIndexEntries(e,t){return Pg.resolve()}}class gw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gg(wg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gg(wg.comparator)).toArray()}}new Uint8Array(0);class vw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new vw(e,vw.DEFAULT_COLLECTION_PERCENTILE,vw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vw.DEFAULT_COLLECTION_PERCENTILE=10,vw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vw.DEFAULT=new vw(41943040,vw.DEFAULT_COLLECTION_PERCENTILE,vw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vw.DISABLED=new vw(-1,0,0);class yw{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new yw(0)}static Mn(){return new yw(-1)}}class bw{constructor(){this.changes=new vy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cv.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pg.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ww{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _w{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Zy(n.mutation,e,$g.empty(),vg.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Ty()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ty();const r=ky();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=_y();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ky();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Ty())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=by();const o=Cy(),s=Cy();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof rb)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),Zy(s.mutation,t,s.mutation.getFieldMask(),vg.now())):o.set(t.key,$g.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new ww(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=Cy();let r=new qg(((e,t)=>e-t)),i=Ty();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||$g.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Ty()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,c=xy();l.forEach((e=>{if(!i.has(e)){const r=Xy(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Pg.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return kg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oy(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Pg.resolve(ky());let s=-1,a=i;return o.next((t=>Pg.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Pg.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Ty()))).next((e=>({batchId:s,changes:Sy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kg(t)).next((e=>{let t=_y();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=_y();return this.indexManager.getCollectionParents(e,r).next((o=>Pg.forEach(o,(o=>{const s=function(e,t){return new Zv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Cv.newInvalidDocument(r)))}));let n=_y();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&Zy(o.mutation,i,$g.empty(),vg.now()),py(t,i)&&(n=n.insert(e,i))})),n}))}}class Sw{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Pg.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Vb(n.createTime)}),Pg.resolve()}getNamedQuery(e,t){return Pg.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:pw(e.bundledQuery),readTime:Vb(e.readTime)}}(t)),Pg.resolve()}}class kw{constructor(){this.overlays=new qg(kg.comparator),this.ls=new Map}getOverlay(e,t){return Pg.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ky();return Pg.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.we(e,t,r)})),Pg.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.ls.delete(n)),Pg.resolve()}getOverlaysForCollection(e,t,n){const r=ky(),i=t.length+1,o=new kg(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Pg.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new qg(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ky(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ky(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Pg.resolve(s)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new db(t,n));let i=this.ls.get(t);void 0===i&&(i=Ty(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class xw{constructor(){this.fs=new Gg(Cw.ds),this.ws=new Gg(Cw._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new Cw(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.ys(new Cw(e,t))}ps(e,t){e.forEach((e=>this.removeReference(e,t)))}Is(e){const t=new kg(new wg([])),n=new Cw(t,e),r=new Cw(t,e+1),i=[];return this.ws.forEachInRange([n,r],(e=>{this.ys(e),i.push(e.key)})),i}Ts(){this.fs.forEach((e=>this.ys(e)))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new kg(new wg([])),n=new Cw(t,e),r=new Cw(t,e+1);let i=Ty();return this.ws.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Cw(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Cw{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return kg.comparator(e.key,t.key)||mg(e.As,t.As)}static _s(e,t){return mg(e.As,t.As)||kg.comparator(e.key,t.key)}}class Aw{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Gg(Cw.ds)}checkEmpty(e){return Pg.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cb(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.Rs=this.Rs.add(new Cw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Pg.resolve(o)}lookupMutationBatch(e,t){return Pg.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return Pg.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Pg.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Pg.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Cw(t,0),r=new Cw(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.Ps(e.As);i.push(t)})),Pg.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gg(mg);return t.forEach((e=>{const t=new Cw(e,0),r=new Cw(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.As)}))})),Pg.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;kg.isDocumentKey(i)||(i=i.child(""));const o=new Cw(new kg(i),0);let s=new Gg(mg);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.As)),!0)}),o),Pg.resolve(this.Vs(s))}Vs(e){const t=[];return e.forEach((e=>{const n=this.Ps(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){eg(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return Pg.forEach(t.mutations,(r=>{const i=new Cw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Cn(e){}containsKey(e,t){const n=new Cw(t,0),r=this.Rs.firstAfterOrEqual(n);return Pg.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pg.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ew{constructor(e){this.Ds=e,this.docs=new qg(kg.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pg.resolve(n?n.document.mutableCopy():Cv.newInvalidDocument(t))}getEntries(e,t){let n=by();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Cv.newInvalidDocument(e))})),Pg.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=by();const o=t.path,s=new kg(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Tg(Ag(s),n)<=0||(r.has(s.key)||py(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Pg.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zm()}Cs(e,t){return Pg.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tw(this)}getSize(e){return Pg.resolve(this.size)}}class Tw extends bw{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)})),Pg.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Iw{constructor(e){this.persistence=e,this.xs=new vy((e=>Yv(e)),Xv),this.lastRemoteSnapshotVersion=yg.min(),this.highestTargetId=0,this.Ns=0,this.ks=new xw,this.targetCount=0,this.Ms=yw.kn()}forEachTarget(e,t){return this.xs.forEach(((e,n)=>t(n))),Pg.resolve()}getLastRemoteSnapshotVersion(e){return Pg.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pg.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Pg.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),Pg.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new yw(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Pg.resolve()}updateTargetData(e,t){return this.Fn(t),Pg.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Pg.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Pg.waitFor(i).next((()=>r))}getTargetCount(e){return Pg.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return Pg.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),Pg.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Pg.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Pg.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return Pg.resolve(n)}containsKey(e,t){return Pg.resolve(this.ks.containsKey(t))}}class Rw{constructor(e,t){this.$s={},this.overlays={},this.Os=new Dg(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Iw(this),this.indexManager=new mw,this.remoteDocumentCache=function(e){return new Ew(e)}((e=>this.referenceDelegate.Ls(e))),this.serializer=new hw(t),this.qs=new Sw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new Aw(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){$m("MemoryPersistence","Starting transaction:",e);const r=new Nw(this.Os.next());return this.referenceDelegate.Us(),n(r).next((e=>this.referenceDelegate.Ks(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gs(e,t){return Pg.or(Object.values(this.$s).map((n=>()=>n.containsKey(e,t))))}}class Nw extends Rg{constructor(e){super(),this.currentSequenceNumber=e}}class Pw{constructor(e){this.persistence=e,this.Qs=new xw,this.js=null}static zs(e){return new Pw(e)}get Ws(){if(this.js)return this.js;throw Zm()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),Pg.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),Pg.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Pg.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach((e=>this.Ws.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Ws.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pg.forEach(this.Ws,(n=>{const r=kg.fromPath(n);return this.Hs(e,r).next((e=>{e||t.removeEntry(r,yg.min())}))})).next((()=>(this.js=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hs(e,t).next((e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())}))}Ls(e){return 0}Hs(e,t){return Pg.or([()=>Pg.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ow{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=Ty(),r=Ty();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ow(e,t.fromCache,n,r)}}class Dw{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next((i=>i||this.Gi(e,t,r,n))).next((n=>n||this.Qi(e,t)))}Ki(e,t){if(ny(t))return Pg.resolve(null);let n=ay(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=cy(t,null,"F"),n=ay(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Ty(...r);return this.Ui.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ji(t,r);return this.zi(t,o,i,n.readTime)?this.Ki(e,cy(t,null,"F")):this.Wi(e,o,t,n)}))))})))))}Gi(e,t,n,r){return ny(t)||r.isEqual(yg.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((i=>{const o=this.ji(t,i);return this.zi(t,o,n,r)?this.Qi(e,t):(Qm()<=xt.DEBUG&&$m("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hy(t)),this.Wi(e,o,t,Cg(r,-1)))}))}ji(e,t){let n=new Gg(my(e));return t.forEach(((t,r)=>{py(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Qm()<=xt.DEBUG&&$m("QueryEngine","Using full collection scan to execute query:",hy(t)),this.Ui.getDocumentsMatchingQuery(e,t,Eg.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Mw{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new qg(mg),this.Yi=new vy((e=>Yv(e)),Xv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function Lw(e,t,n,r){return new Mw(e,t,n,r)}async function Fw(e,t){const n=tg(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Ty();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({er:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function jw(e){const t=tg(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Bs.getLastRemoteSnapshotVersion(e)))}function zw(e,t,n){let r=Ty(),i=Ty();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=by();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(yg.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):$m("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{nr:r,sr:i}}))}function Uw(e,t){const n=tg(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bw(e,t){const n=tg(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Bs.getTargetData(e,t).next((i=>i?(r=i,Pg.resolve(r)):n.Bs.allocateTargetId(e).next((i=>(r=new dw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function Vw(e,t,n){const r=tg(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Og(e))throw e;$m("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Ww(e,t,n){const r=tg(e);let i=yg.min(),o=Ty();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=tg(e),i=r.Yi.get(n);return void 0!==i?Pg.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,ay(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:yg.min(),n?o:Ty()))).next((e=>(qw(r,fy(t),e),{documents:e,ir:o})))))}function qw(e,t,n){let r=e.Xi.get(t)||yg.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}class Hw{constructor(){this.activeTargetIds=Ry()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kw{constructor(){this.Hr=new Hw,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new Hw,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gw{Yr(e){}shutdown(){}}class Qw{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){$m("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){$m("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $w=null;function Yw(){return null===$w?$w=268435456+Math.round(2147483648*Math.random()):$w++,"0x"+$w.toString(16)}const Xw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jw{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Zw="WebChannelConnection";class e_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const o=Yw(),s=this.To(e,t);$m("RestConnection","Sending RPC '".concat(e,"' ").concat(o,":"),s,n);const a={};return this.Eo(a,r,i),this.Ao(e,s,a,n).then((t=>($m("RestConnection","Received RPC '".concat(e,"' ").concat(o,": "),t),t)),(t=>{throw Xm("RestConnection","RPC '".concat(e,"' ").concat(o," failed with error: "),t,"url: ",s,"request:",n),t}))}vo(e,t,n,r,i,o){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}To(e,t){const n=Xw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Yw();return new Promise(((o,s)=>{const a=new Bm;a.setWithCredentials(!0),a.listenOnce(Lm.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Mm.NO_ERROR:const t=a.getResponseJson();$m(Zw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),o(t);break;case Mm.TIMEOUT:$m(Zw,"RPC '".concat(e,"' ").concat(i," timed out")),s(new rg(ng.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const n=a.getStatus();if($m(Zw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ng).indexOf(t)>=0?t:ng.UNKNOWN}(t.status);s(new rg(e,t.message))}else s(new rg(ng.UNKNOWN,"Server responded with status "+a.getStatus()))}else s(new rg(ng.UNAVAILABLE,"Connection failed."));break;default:Zm()}}finally{$m(Zw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);$m(Zw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Yw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Om(),s=Dm(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new zm({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");$m(Zw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=o.createWebChannel(c,a);let d=!1,h=!1;const p=new Jw({ro:t=>{h?$m(Zw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||($m(Zw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),$m(Zw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Um.EventType.OPEN,(()=>{h||$m(Zw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),f(u,Um.EventType.CLOSE,(()=>{h||(h=!0,$m(Zw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.wo())})),f(u,Um.EventType.ERROR,(t=>{h||(h=!0,Xm(Zw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.wo(new rg(ng.UNAVAILABLE,"The operation could not be completed")))})),f(u,Um.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];eg(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){$m(Zw,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=pb[e];if(void 0!==t)return gb(t)}(t),i=s.message;void 0===n&&(n=ng.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),h=!0,p.wo(new rg(n,i)),u.close()}else $m(Zw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p._o(i)}})),f(s,Fm.STAT_EVENT,(t=>{t.stat===jm.PROXY?$m(Zw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===jm.NOPROXY&&$m(Zw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.fo()}),0),p}}function t_(){return"undefined"!=typeof document?document:null}function n_(e){return new Fb(e,!0)}class r_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&$m("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Co=Date.now(),e()))),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class i_{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new r_(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(()=>this.zo())))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===ng.RESOURCE_EXHAUSTED?(Ym(t.toString()),Ym("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===ng.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)}),(t=>{e((()=>{const e=new rg(ng.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)}))}))}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((()=>{n((()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Ko()&&(this.state=3),Promise.resolve()))),this.listener.uo())))})),this.stream.ao((e=>{n((()=>this.tu(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Go(){this.state=5,this.qo.No((async()=>{this.state=0,this.start()}))}tu(e){return $m("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.Fo===e?t():($m("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o_ extends i_{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(eg(void 0===t||"string"==typeof t),Xg.fromBase64String(t||"")):(eg(void 0===t||t instanceof Uint8Array),Xg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?ng.UNKNOWN:gb(e.code);return new rg(t,e.message||"")}(s);n=new Ib(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kb(e,r.document.name),o=Vb(r.document.updateTime),s=r.document.createTime?Vb(r.document.createTime):yg.min(),a=new kv({mapValue:{fields:r.document.fields}}),l=Cv.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Eb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Kb(e,r.document),o=r.readTime?Vb(r.readTime):yg.min(),s=Cv.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Eb([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Kb(e,r.document),o=r.removedTargetIds||[];n=new Eb([],o,i,null)}else{if(!("filter"in t))return Zm();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new hb(r,i),s=e.targetId;n=new Tb(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return yg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?yg.min():t.readTime?Vb(t.readTime):yg.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=$b(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Jv(r)?{documents:Zb(e,r)}:{query:ew(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ub(e,t.resumeToken);const r=jb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(yg.min())>0){n.readTime=zb(e,t.snapshotVersion.toTimestamp());const r=jb(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zm()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=$b(this.serializer),t.removeTarget=e,this.Wo(t)}}class s_ extends i_{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(eg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(eg(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Vb(e.updateTime):Vb(t);return n.isEqual(yg.min())&&(n=Vb(t)),new Gy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Vb(e.commitTime);return this.listener.cu(n,t)}return eg(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$b(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Jb(this.serializer,e)))};this.Wo(t)}}class a_ extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new rg(ng.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,o]=r;return this.connection.Io(e,t,n,i,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ng.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rg(ng.UNKNOWN,e.toString())}))}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[o,s]=i;return this.connection.vo(e,t,n,o,s,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===ng.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rg(ng.UNKNOWN,e.toString())}))}terminate(){this.lu=!0}}class l_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve()))))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ym(t),this.mu=!1):$m("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class c_{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr((e=>{n.enqueueAndForget((async()=>{y_(this)&&($m("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=tg(e);t.vu.add(4),await d_(t),t.bu.set("Unknown"),t.vu.delete(4),await u_(t)}(this))}))})),this.bu=new l_(n,r)}}async function u_(e){if(y_(e))for(const t of e.Ru)await t(!0)}async function d_(e){for(const t of e.Ru)await t(!1)}function h_(e,t){const n=tg(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),v_(n)?g_(n):L_(n).Ko()&&f_(n,t))}function p_(e,t){const n=tg(e),r=L_(n);n.Au.delete(t),r.Ko()&&m_(n,t),0===n.Au.size&&(r.Ko()?r.jo():y_(n)&&n.bu.set("Unknown"))}function f_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yg.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}L_(e).su(t)}function m_(e,t){e.Vu.qt(t),L_(e).iu(t)}function g_(e){e.Vu=new Nb({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),L_(e).start(),e.bu.gu()}function v_(e){return y_(e)&&!L_(e).Uo()&&e.Au.size>0}function y_(e){return 0===tg(e).vu.size}function b_(e){e.Vu=void 0}async function w_(e){e.Au.forEach(((t,n)=>{f_(e,t)}))}async function __(e,t){b_(e),v_(e)?(e.bu.Iu(t),g_(e)):e.bu.set("Unknown")}async function S_(e,t,n){if(e.bu.set("Online"),t instanceof Ib&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){$m("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await k_(e,n)}else if(t instanceof Eb?e.Vu.Ht(t):t instanceof Tb?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(yg.min()))try{const t=await jw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Xg.EMPTY_BYTE_STRING,r.snapshotVersion)),m_(e,t);const i=new dw(r.target,t,n,r.sequenceNumber);f_(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){$m("RemoteStore","Failed to raise snapshot:",t),await k_(e,t)}}async function k_(e,t,n){if(!Og(t))throw t;e.vu.add(1),await d_(e),e.bu.set("Offline"),n||(n=()=>jw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{$m("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await u_(e)}))}function x_(e,t){return t().catch((n=>k_(e,n,t)))}async function C_(e){const t=tg(e),n=F_(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;A_(t);)try{const e=await Uw(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,E_(t,e)}catch(e){await k_(t,e)}T_(t)&&I_(t)}function A_(e){return y_(e)&&e.Eu.length<10}function E_(e,t){e.Eu.push(t);const n=F_(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function T_(e){return y_(e)&&!F_(e).Uo()&&e.Eu.length>0}function I_(e){F_(e).start()}async function R_(e){F_(e).hu()}async function N_(e){const t=F_(e);for(const n of e.Eu)t.uu(n.mutations)}async function P_(e,t,n){const r=e.Eu.shift(),i=ub.from(r,t,n);await x_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await C_(e)}async function O_(e,t){t&&F_(e).ou&&await async function(e,t){if(mb(n=t.code)&&n!==ng.ABORTED){const n=e.Eu.shift();F_(e).Qo(),await x_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await C_(e)}var n}(e,t),T_(e)&&I_(e)}async function D_(e,t){const n=tg(e);n.asyncQueue.verifyOperationInProgress(),$m("RemoteStore","RemoteStore received new credentials");const r=y_(n);n.vu.add(3),await d_(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await u_(n)}async function M_(e,t){const n=tg(e);t?(n.vu.delete(2),await u_(n)):t||(n.vu.add(2),await d_(n),n.bu.set("Unknown"))}function L_(e){return e.Su||(e.Su=function(e,t,n){const r=tg(e);return r.fu(),new o_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:w_.bind(null,e),ao:__.bind(null,e),nu:S_.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Qo(),v_(e)?g_(e):e.bu.set("Unknown")):(await e.Su.stop(),b_(e))}))),e.Su}function F_(e){return e.Du||(e.Du=function(e,t,n){const r=tg(e);return r.fu(),new s_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:R_.bind(null,e),ao:O_.bind(null,e),au:N_.bind(null,e),cu:P_.bind(null,e)}),e.Ru.push((async t=>{t?(e.Du.Qo(),await C_(e)):(await e.Du.stop(),e.Eu.length>0&&($m("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))}))),e.Du}class j_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ig,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new j_(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rg(ng.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function z_(e,t){if(Ym("AsyncQueue","".concat(t,": ").concat(e)),Og(e))return new rg(ng.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class U_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||kg.comparator(t.key,n.key):(e,t)=>kg.comparator(e.key,t.key),this.keyedMap=_y(),this.sortedSet=new qg(this.comparator)}static emptySet(e){return new U_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof U_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new U_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class B_{constructor(){this.Cu=new qg(kg.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Zm():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class V_{constructor(e,t,n,r,i,o,s,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new V_(e,t,U_.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class W_{constructor(){this.Nu=void 0,this.listeners=[]}}class q_{constructor(){this.queries=new vy((e=>dy(e)),uy),this.onlineState="Unknown",this.ku=new Set}}async function H_(e,t){const n=tg(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new W_),i)try{o.Nu=await n.onListen(r)}catch(e){const n=z_(e,"Initialization of query '".concat(hy(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Mu(n.onlineState),o.Nu&&t.$u(o.Nu)&&$_(n)}async function K_(e,t){const n=tg(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function G_(e,t){const n=tg(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&$_(n)}function Q_(e,t,n){const r=tg(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function $_(e){e.ku.forEach((e=>{e.next()}))}class Y_{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new V_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=V_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class X_{constructor(e){this.key=e}}class J_{constructor(e){this.key=e}}class Z_{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ty(),this.mutatedKeys=Ty(),this.tc=my(e),this.ec=new U_(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new B_,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=py(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.rc(c,u)||(n.track({type:2,doc:u}),p=!0,(a&&this.tc(u,a)>0||l&&this.tc(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(a||l)&&(s=!0)),p&&(u?(o=o.add(u),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:o,ic:n,zi:s,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zm()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc))),this.oc(n);const o=t?this.uc():[],s=0===this.Zu.size&&this.current?1:0,a=s!==this.Xu;return this.Xu=s,0!==i.length||a?{snapshot:new V_(this.query,e.ec,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new B_,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach((e=>this.Yu=this.Yu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Yu=this.Yu.delete(e))),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Ty(),this.ec.forEach((e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))}));const t=[];return e.forEach((e=>{this.Zu.has(e)||t.push(new J_(e))})),this.Zu.forEach((n=>{e.has(n)||t.push(new X_(n))})),t}hc(e){this.Yu=e.ir,this.Zu=Ty();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return V_.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class eS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tS{constructor(e){this.key=e,this.fc=!1}}class nS{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new vy((e=>dy(e)),uy),this._c=new Map,this.mc=new Set,this.gc=new qg(kg.comparator),this.yc=new Map,this.Ic=new xw,this.Tc={},this.Ec=new Map,this.Ac=yw.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function rS(e,t){const n=_S(e);let r,i;const o=n.wc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.lc();else{const e=await Bw(n.localStore,ay(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await iS(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&h_(n.remoteStore,e)}return i}async function iS(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Ww(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.sc(n,i)})));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return mS(e,t.targetId,s.cc),s.snapshot}(e,t,n,r);const o=await Ww(e.localStore,t,!0),s=new Z_(t,o.ir),a=s.sc(o.documents),l=Ab.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(a,e.isPrimaryClient,l);mS(e,n,c.cc);const u=new eS(t,n,s);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function oS(e,t){const n=tg(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!uy(e,t)))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Vw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),p_(n.remoteStore,r.targetId),pS(n,r.targetId)})).catch(Ng)):(pS(n,r.targetId),await Vw(n.localStore,r.targetId,!0))}async function sS(e,t){const n=tg(e);try{const e=await function(e,t){const n=tg(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Bs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Bs.addMatchingKeys(e,o.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Xg.EMPTY_BYTE_STRING,yg.min()).withLastLimboFreeSnapshotVersion(yg.min()):o.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(o.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,o)&&s.push(n.Bs.updateTargetData(e,c))}));let a=by(),l=Ty();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(zw(e,o,t.documentUpdates).next((e=>{a=e.nr,l=e.sr}))),!r.isEqual(yg.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next((t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Pg.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.yc.get(t);r&&(eg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?eg(r.fc):e.removedDocuments.size>0&&(eg(r.fc),r.fc=!1))})),await yS(n,e,t)}catch(e){await Ng(e)}}function aS(e,t,n){const r=tg(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach(((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=tg(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)})),r&&$_(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lS(e,t,n){const r=tg(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),o=i&&i.key;if(o){let e=new qg(kg.comparator);e=e.insert(o,Cv.newNoDocument(o,yg.min()));const n=Ty().add(o),i=new Cb(yg.min(),new Map,new qg(mg),e,n);await sS(r,i),r.gc=r.gc.remove(o),r.yc.delete(t),vS(r)}else await Vw(r.localStore,t,!1).then((()=>pS(r,t,n))).catch(Ng)}async function cS(e,t){const n=tg(e),r=t.batch.batchId;try{const e=await function(e,t){const n=tg(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Pg.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);eg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ty();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);hS(n,r,null),dS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await yS(n,e)}catch(e){await Ng(e)}}async function uS(e,t,n){const r=tg(e);try{const e=await function(e,t){const n=tg(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(eg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);hS(r,t,n),dS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await yS(r,e)}catch(n){await Ng(n)}}function dS(e,t){(e.Ec.get(t)||[]).forEach((e=>{e.resolve()})),e.Ec.delete(t)}function hS(e,t,n){const r=tg(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function pS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((t=>{e.Ic.containsKey(t)||fS(e,t)}))}function fS(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(p_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),vS(e))}function mS(e,t,n){for(const r of n)r instanceof X_?(e.Ic.addReference(r.key,t),gS(e,r)):r instanceof J_?($m("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||fS(e,r.key)):Zm()}function gS(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||($m("SyncEngine","New document in limbo: "+n),e.mc.add(r),vS(e))}function vS(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new kg(wg.fromString(t)),r=e.Ac.next();e.yc.set(r,new tS(n)),e.gc=e.gc.insert(n,r),h_(e.remoteStore,new dw(ay(ty(n.path)),r,"TargetPurposeLimboResolution",Dg.ct))}}async function yS(e,t,n){const r=tg(e),i=[],o=[],s=[];r.wc.isEmpty()||(r.wc.forEach(((e,a)=>{s.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ow.Li(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.dc.nu(i),await async function(e,t){const n=tg(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Pg.forEach(t,(t=>Pg.forEach(t.Fi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Pg.forEach(t.Bi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Og(e))throw e;$m("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,o))}async function bS(e,t){const n=tg(e);if(!n.currentUser.isEqual(t)){$m("SyncEngine","User change. New user:",t.toKey());const e=await Fw(n.localStore,t);n.currentUser=t,function(e,t){e.Ec.forEach((e=>{e.forEach((e=>{e.reject(new rg(ng.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await yS(n,e.er)}}function wS(e,t){const n=tg(e),r=n.yc.get(t);if(r&&r.fc)return Ty().add(r.key);{let e=Ty();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function _S(e){const t=tg(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lS.bind(null,t),t.dc.nu=G_.bind(null,t.eventManager),t.dc.Pc=Q_.bind(null,t.eventManager),t}function SS(e){const t=tg(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=cS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=uS.bind(null,t),t}class kS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=n_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Lw(this.persistence,new Dw,e.initialUser,this.serializer)}createPersistence(e){return new Rw(Pw.zs,this.serializer)}createSharedClientState(e){return new Kw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class xS{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=bS.bind(null,this.syncEngine),await M_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new q_}createDatastore(e){const t=n_(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new e_(r));var r;return function(e,t,n,r){return new a_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>aS(this.syncEngine,e,0),o=Qw.D()?new Qw:new Gw,new c_(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new nS(e,t,n,r,i,o);return s&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=tg(e);$m("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await d_(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class CS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ym("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class AS{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Hm.UNAUTHENTICATED,this.clientId=fg.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{$m("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>($m("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rg(ng.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ig;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(QE){const n=z_(QE,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function ES(e,t){e.asyncQueue.verifyOperationInProgress(),$m("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Fw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function TS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RS(e);$m("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>D_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>D_(t.remoteStore,n))),e._onlineComponents=t}function IS(e){return"FirebaseError"===e.name?e.code===ng.FAILED_PRECONDITION||e.code===ng.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function RS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){$m("FirestoreClient","Using user provided OfflineComponentProvider");try{await ES(e,e._uninitializedComponentsProvider._offline)}catch(QE){const n=QE;if(!IS(n))throw n;Xm("Error using user provided cache. Falling back to memory cache: "+n),await ES(e,new kS)}}else $m("FirestoreClient","Using default OfflineComponentProvider"),await ES(e,new kS);return e._offlineComponents}async function NS(e){return e._onlineComponents||(e._uninitializedComponentsProvider?($m("FirestoreClient","Using user provided OnlineComponentProvider"),await TS(e,e._uninitializedComponentsProvider._online)):($m("FirestoreClient","Using default OnlineComponentProvider"),await TS(e,new xS))),e._onlineComponents}function PS(e){return NS(e).then((e=>e.syncEngine))}async function OS(e){const t=await NS(e),n=t.eventManager;return n.onListen=rS.bind(null,t.syncEngine),n.onUnlisten=oS.bind(null,t.syncEngine),n}function DS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ig;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new CS({next:o=>{t.enqueueAndForget((()=>K_(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new rg(ng.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new rg(ng.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Y_(ty(n.path),o,{includeMetadataChanges:!0,Ku:!0});return H_(e,s)}(await OS(e),e.asyncQueue,t,n,r))),r.promise}function MS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new ig;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new CS({next:n=>{t.enqueueAndForget((()=>K_(e,s))),n.fromCache&&"server"===r.source?i.reject(new rg(ng.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Y_(n,o,{includeMetadataChanges:!0,Ku:!0});return H_(e,s)}(await OS(e),e.asyncQueue,t,n,r))),r.promise}function LS(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const FS=new Map;function jS(e,t,n){if(!n)throw new rg(ng.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function zS(e){if(!kg.isDocumentKey(e))throw new rg(ng.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function US(e){if(kg.isDocumentKey(e))throw new rg(ng.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function BS(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zm()}function VS(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rg(ng.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=BS(e);throw new rg(ng.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class WS{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rg(ng.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rg(ng.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new rg(ng.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rg(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rg(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rg(ng.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class qS{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rg(ng.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rg(ng.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sg;switch(e.type){case"firstParty":return new ug(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rg(ng.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=FS.get(e);t&&($m("ComponentProvider","Removing Datastore"),FS.delete(e),t.terminate())}(this),Promise.resolve()}}class HS{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new GS(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new HS(this.firestore,e,this._key)}}class KS{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new KS(this.firestore,e,this._query)}}class GS extends KS{constructor(e,t,n){super(e,t,ty(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new HS(this.firestore,null,new kg(e))}withConverter(e){return new GS(this.firestore,e,this._path)}}function QS(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),jS("collection","path",t),e instanceof qS){const n=wg.fromString(t,...r);return US(n),new GS(e,null,n)}{if(!(e instanceof HS||e instanceof GS))throw new rg(ng.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wg.fromString(t,...r));return US(n),new GS(e.firestore,null,n)}}function $S(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=vt(e),1===arguments.length&&(t=fg.A()),jS("doc","path",t),e instanceof qS){const n=wg.fromString(t,...r);return zS(n),new HS(e,null,new kg(n))}{if(!(e instanceof HS||e instanceof GS))throw new rg(ng.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(wg.fromString(t,...r));return zS(n),new HS(e.firestore,e instanceof GS?e.converter:null,new kg(n))}}class YS{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new r_(this,"async_queue_retry"),this.Xc=()=>{const e=t_();e&&$m("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=t_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=t_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise((()=>{}));const t=new ig;return this.ta((()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Qc.push(e),this.ea())))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Og(e))throw e;$m("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No((()=>this.ea()))}}ta(e){const t=this.Gc.then((()=>(this.Hc=!0,e().catch((e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ym("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Hc=!1,e))))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=j_.createAndSchedule(this,e,t,n,(e=>this.na(e)));return this.zc.push(r),r}Zc(){this.Wc&&Zm()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then((()=>{this.zc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()}))}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class XS extends qS{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new YS,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ZS(this),this._firestoreClient.terminate()}}function JS(e){return e._firestoreClient||ZS(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZS(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new ov(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,LS(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new AS(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class ek{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ek(Xg.fromBase64String(e))}catch(e){throw new rg(ng.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ek(Xg.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tk{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rg(ng.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Sg(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nk{constructor(e){this._methodName=e}}class rk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rg(ng.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rg(ng.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mg(this._lat,e._lat)||mg(this._long,e._long)}}const ik=/^__.*__$/;class ok{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new rb(e,this.data,this.fieldMask,t,this.fieldTransforms):new nb(e,this.data,t,this.fieldTransforms)}}class sk{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ak(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zm()}}class lk{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new lk(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Ak(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(ak(this.ca)&&ik.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class ck{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||n_(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lk({ca:e,methodName:t,ga:n,path:Sg.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uk(e){const t=e._freezeSettings(),n=n_(e._databaseId);return new ck(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dk(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.ya(o.merge||o.mergeFields?2:0,t,n,i);Sk("Data must be an object, but it was:",s,r);const a=wk(r,s);let l,c;if(o.merge)l=new $g(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=kk(t,r,n);if(!s.contains(i))throw new rg(ng.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ek(e,i)||e.push(i)}l=new $g(e),c=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=s.fieldTransforms;return new ok(new kv(a),l,c)}class hk extends nk{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hk}}function pk(e,t,n){return new lk({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fk extends nk{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pk(this,e,!0),n=this.pa.map((e=>bk(e,t))),r=new zy(n);return new Ky(e.path,r)}isEqual(e){return this===e}}class mk extends nk{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=pk(this,e,!0),n=this.pa.map((e=>bk(e,t))),r=new By(n);return new Ky(e.path,r)}isEqual(e){return this===e}}function gk(e,t,n,r){const i=e.ya(1,t,n);Sk("Data must be an object, but it was:",i,r);const o=[],s=kv.empty();Vg(r,((e,r)=>{const a=Ck(t,e,n);r=vt(r);const l=i.da(a);if(r instanceof hk)o.push(a);else{const e=bk(r,l);null!=e&&(o.push(a),s.set(a,e))}}));const a=new $g(o);return new sk(s,a,i.fieldTransforms)}function vk(e,t,n,r,i,o){const s=e.ya(1,t,n),a=[kk(t,r,n)],l=[i];if(o.length%2!=0)throw new rg(ng.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<o.length;h+=2)a.push(kk(t,o[h])),l.push(o[h+1]);const c=[],u=kv.empty();for(let h=a.length-1;h>=0;--h)if(!Ek(c,a[h])){const e=a[h];let t=l[h];t=vt(t);const n=s.da(e);if(t instanceof hk)c.push(e);else{const r=bk(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new $g(c);return new sk(u,d,s.fieldTransforms)}function yk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bk(n,e.ya(r?4:3,t))}function bk(e,t){if(_k(e=vt(e)))return Sk("Unsupported field value:",t,e),wk(e,t);if(e instanceof nk)return function(e,t){if(!ak(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=bk(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=vt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Oy(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=vg.fromDate(e);return{timestampValue:zb(t.serializer,n)}}if(e instanceof vg){const n=new vg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:zb(t.serializer,n)}}if(e instanceof rk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ek)return{bytesValue:Ub(t.serializer,e._byteString)};if(e instanceof HS){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Wb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(BS(e)))}(e,t)}function wk(e,t){const n={};return Wg(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vg(e,((e,r)=>{const i=bk(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _k(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof vg||e instanceof rk||e instanceof ek||e instanceof HS||e instanceof nk)}function Sk(e,t,n){if(!_k(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=BS(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function kk(e,t,n){if((t=vt(t))instanceof tk)return t._internalPath;if("string"==typeof t)return Ck(e,t);throw Ak("Field path arguments must be of type string or ",e,!1,void 0,n)}const xk=new RegExp("[~\\*/\\[\\]]");function Ck(e,t,n){if(t.search(xk)>=0)throw Ak("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new tk(...t.split("."))._internalPath}catch(r){throw Ak("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ak(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new rg(ng.INVALID_ARGUMENT,a+e+l)}function Ek(e,t){return e.some((e=>e.isEqual(t)))}class Tk{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new HS(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ik(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ik extends Tk{data(){return super.data()}}function Rk(e,t){return"string"==typeof t?Ck(e,t):t instanceof tk?t._internalPath:t._delegate._internalPath}function Nk(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rg(ng.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pk{}class Ok extends Pk{}function Dk(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t instanceof Pk&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof Fk)).length,n=e.filter((e=>e instanceof Mk)).length;if(t>1||t>0&&n>0)throw new rg(ng.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class Mk extends Ok{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Mk(e,t,n)}_apply(e){const t=this._parse(e);return Uk(e._query,t),new KS(e.firestore,e.converter,ly(e._query,t))}_parse(e){const t=uk(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new rg(ng.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(o,"' queries on documentId()."));if("in"===o||"not-in"===o){zk(s,o);const t=[];for(const n of s)t.push(jk(r,e,n));a={arrayValue:{values:t}}}else a=jk(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zk(s,o),a=yk(n,"where",s,"in"===o||"not-in"===o);return Pv.create(i,o,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Lk(e,t,n){const r=t,i=Rk("where",e);return Mk._create(i,r,n)}class Fk extends Pk{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Fk(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ov.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Uk(n,i),n=ly(n,i)}(e._query,t),new KS(e.firestore,e.converter,ly(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function jk(e,t,n){if("string"==typeof(n=vt(n))){if(""===n)throw new rg(ng.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oy(t)&&-1!==n.indexOf("/"))throw new rg(ng.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(wg.fromString(n));if(!kg.isDocumentKey(r))throw new rg(ng.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mv(e,new kg(r))}if(n instanceof HS)return mv(e,n._key);throw new rg(ng.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(BS(n),"."))}function zk(e,t){if(!Array.isArray(e)||0===e.length)throw new rg(ng.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Uk(e,t){if(t.isInequality()){const n=iy(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new rg(ng.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=ry(e);null!==i&&Bk(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rg(ng.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rg(ng.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Bk(e,t,n){if(!n.isEqual(t))throw new rg(ng.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Vk{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(lv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ev(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(tv(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zm()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Vg(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new rk(ev(e.latitude),ev(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=rv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(iv(e));default:return null}}convertTimestamp(e){const t=Zg(e);return new vg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=wg.fromString(e);eg(uw(n));const r=new sv(n.get(1),n.get(3)),i=new kg(n.popFirst(5));return r.isEqual(t)||Ym("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Wk(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class qk{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hk extends Tk{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Kk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Rk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Kk extends Hk{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Gk{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new qk(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Kk(this._firestore,this._userDataWriter,n.key,n,new qk(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rg(ng.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Kk(e._firestore,e._userDataWriter,n.doc.key,n.doc,new qk(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Kk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Qk(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Qk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zm()}}function $k(e){e=VS(e,HS);const t=VS(e.firestore,XS);return DS(JS(t),e._key).then((n=>nx(t,e,n)))}class Yk extends Vk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ek(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new HS(this.firestore,null,t)}}function Xk(e){e=VS(e,KS);const t=VS(e.firestore,XS),n=JS(t),r=new Yk(t);return Nk(e._query),MS(n,e._query).then((n=>new Gk(t,r,e,n)))}function Jk(e,t,n){e=VS(e,HS);const r=VS(e.firestore,XS),i=Wk(e.converter,t,n);return tx(r,[dk(uk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Qy.none())])}function Zk(e,t,n){e=VS(e,HS);const r=VS(e.firestore,XS),i=uk(r);let o;for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return o="string"==typeof(t=vt(t))||t instanceof tk?vk(i,"updateDoc",e._key,t,n,a):gk(i,"updateDoc",e._key,t),tx(r,[o.toMutation(e._key,Qy.exists(!0))])}function ex(e){return tx(VS(e.firestore,XS),[new ab(e._key,Qy.none())])}function tx(e,t){return function(e,t){const n=new ig;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=SS(e);try{const e=await function(e,t){const n=tg(e),r=vg.now(),i=t.reduce(((e,t)=>e.add(t.key)),Ty());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=by(),l=Ty();return n.Zi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=eb(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new rb(e.key,t,xv(t.value.mapValue),Qy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Sy(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new qg(mg)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await yS(r,e.changes),await C_(r.remoteStore)}catch(e){const t=z_(e,"Failed to persist write");n.reject(t)}}(await PS(e),t,n))),n.promise}(JS(e),t)}function nx(e,t,n){const r=n.docs.get(t._key),i=new Yk(e);return new Hk(e,i,t._key,r,new qk(n.hasPendingWrites,n.fromCache),t.converter)}function rx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fk("arrayUnion",t)}function ix(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mk("arrayRemove",t)}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Km=e}(Nn),En(new yt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const o=e.getProvider("app").getImmediate(),s=new XS(new lg(e.getProvider("auth-internal")),new hg(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rg(ng.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sv(e.options.projectId,t)}(o,r),o);return i=Object.assign({useFetchStreams:t},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),Dn(qm,"3.13.0",e),Dn(qm,"3.13.0","esm2017")}();const ox="functions";class sx{constructor(e,t,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((e=>this.auth=e),(()=>{})),this.messaging||t.get().then((e=>this.messaging=e),(()=>{})),this.appCheck||n.get().then((e=>this.appCheck=e),(()=>{}))}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return null===e||void 0===e?void 0:e.accessToken}catch(QE){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(QE){return}}async getAppCheckToken(e){if(this.appCheck){const t=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return t.error?null:t.token}return null}async getContext(e){return{authToken:await this.getAuthToken(),messagingToken:await this.getMessagingToken(),appCheckToken:await this.getAppCheckToken(e)}}}const ax="us-central1";class lx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ax,o=arguments.length>5?arguments[5]:void 0;this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new sx(t,n,r),this.cancelAllRequests=new Promise((e=>{this.deleteService=()=>Promise.resolve(e())}));try{const e=new URL(i);this.customDomain=e.origin,this.region=ax}catch(QE){this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const t=this.app.options.projectId;if(null!==this.emulatorOrigin){const n=this.emulatorOrigin;return"".concat(n,"/").concat(t,"/").concat(this.region,"/").concat(e)}return null!==this.customDomain?"".concat(this.customDomain,"/").concat(e):"https://".concat(this.region,"-").concat(t,".cloudfunctions.net/").concat(e)}}const cx="@firebase/functions",ux="0.10.0";!function(e,t){En(new yt(ox,((t,n)=>{let{instanceIdentifier:r}=n;const i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),s=t.getProvider("messaging-internal"),a=t.getProvider("app-check-internal");return new lx(i,o,s,a,r,e)}),"PUBLIC").setMultipleInstances(!0)),Dn(cx,ux,t),Dn(cx,ux,"esm2017")}(fetch.bind(self));const dx="firebasestorage.googleapis.com",hx="storageBucket";class px extends Ye{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(gx(e),"Firebase Storage: ".concat(t," (").concat(gx(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,px.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gx(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var fx,mx;function gx(e){return"storage/"+e}function vx(){return new px(fx.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function yx(){return new px(fx.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bx(){return new px(fx.CANCELED,"User canceled the upload/download.")}function wx(){return new px(fx.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _x(e){return new px(fx.INVALID_ARGUMENT,e)}function Sx(){return new px(fx.APP_DELETED,"The Firebase app was deleted.")}function kx(e,t){return new px(fx.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function xx(e){throw new px(fx.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(fx||(fx={}));class Cx{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Cx.makeFromUrl(e,t)}catch(QE){return new Cx(e,"")}if(""===n.path)return n;throw r=e,new px(fx.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(t===dx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Cx(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new px(fx.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Ax{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ex(e){return"string"===typeof e||e instanceof String}function Tx(e){return Ix()&&e instanceof Blob}function Ix(){return"undefined"!==typeof Blob&&!Ke()}function Rx(e,t,n,r){if(r<t)throw _x("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw _x("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Nx(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function Px(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Ox(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(mx||(mx={}));class Dx{constructor(e,t,n,r,i,o,s,a,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Mx(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===mx.NO_ERROR,i=n.getStatus();if(!t||Ox(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===mx.ABORT;return void e(!1,new Mx(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new Mx(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(QE){r(QE)}else if(null!==i){const e=vx();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Sx():bx())}else{r(yx())}};this.canceled_?t(0,new Mx(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(p,l())}),t)}function h(){o&&clearTimeout(o)}function p(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||s)return h(),void u.call(null,e,...n);let o;r<64&&(r*=2),1===a?(a=2,o=0):o=1e3*(r+Math.random()),d(o)}let f=!1;function m(e){f||(f=!0,h(),c||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}return d(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Mx{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Lx(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Fx(){const e=Lx();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ix())return new Blob(n);throw new px(fx.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jx(e){if("undefined"===typeof atob)throw t="base-64",new px(fx.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const zx={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ux{constructor(e,t){this.data=e,this.contentType=t||null}}function Bx(e,t){switch(e){case zx.RAW:return new Ux(Vx(t));case zx.BASE64:case zx.BASE64URL:return new Ux(Wx(e,t));case zx.DATA_URL:return new Ux(function(e){const t=new qx(e);return t.base64?Wx(zx.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(QE){throw kx(zx.DATA_URL,"Malformed data URL.")}return Vx(t)}(t.rest)}(t),new qx(t).contentType)}throw vx()}function Vx(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Wx(e,t){switch(e){case zx.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw kx(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case zx.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw kx(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jx(t)}catch(QE){if(QE.message.includes("polyfill"))throw QE;throw kx(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw kx(zx.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Hx{constructor(e,t){let n=0,r="";Tx(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Tx(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Hx(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Hx(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ix()){const e=t.map((e=>e instanceof Hx?e.data_:e));return new Hx(Fx.apply(null,e))}{const e=t.map((e=>Ex(e)?Bx(zx.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Hx(r,!0)}}uploadData(){return this.data_}}function Kx(e){let t;try{t=JSON.parse(e)}catch(QE){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Gx(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Qx(e,t){return t}class $x{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Qx}}let Yx=null;function Xx(){if(Yx)return Yx;const e=[];e.push(new $x("bucket")),e.push(new $x("generation")),e.push(new $x("metageneration")),e.push(new $x("name","fullPath",!0));const t=new $x("name");t.xform=function(e,t){return function(e){return!Ex(e)||e.length<2?e:Gx(e)}(t)},e.push(t);const n=new $x("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new $x("timeCreated")),e.push(new $x("updated")),e.push(new $x("md5Hash",null,!0)),e.push(new $x("cacheControl",null,!0)),e.push(new $x("contentDisposition",null,!0)),e.push(new $x("contentEncoding",null,!0)),e.push(new $x("contentLanguage",null,!0)),e.push(new $x("contentType",null,!0)),e.push(new $x("metadata","customMetadata",!0)),Yx=e,Yx}function Jx(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new Cx(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Zx(e,t,n){const r=Kx(t);if(null===r)return null;return Jx(e,r,n)}function eC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class tC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nC(e){if(!e)throw vx()}function rC(e,t){return function(n,r){const i=Zx(e,r,t);return nC(null!==i),i}}function iC(e,t){return function(n,r){const i=Zx(e,r,t);return nC(null!==i),function(e,t,n,r){const i=Kx(t);if(null===i)return null;if(!Ex(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map((t=>{const i=e.bucket,o=e.fullPath;return Nx("/b/"+s(i)+"/o/"+s(o),n,r)+Px({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function oC(e){return function(t,n){let r;var i,o;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new px(fx.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new px(fx.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new px(fx.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new px(fx.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function sC(e){const t=oC(e);return function(n,r){let i=t(n,r);var o;return 404===n.getStatus()&&(o=e.path,i=new px(fx.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function aC(e,t,n){const r=Nx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new tC(r,"GET",rC(e,n),i);return o.errorHandler=sC(t),o}function lC(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function cC(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const l=lC(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+eC(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",d=Hx.getBlob(c,r,u);if(null===d)throw wx();const h={name:l.fullPath},p=Nx(o,e.host,e._protocol),f=e.maxUploadRetryTime,m=new tC(p,"POST",rC(e,n),f);return m.urlParams=h,m.headers=s,m.body=d.uploadData(),m.errorHandler=oC(t),m}let uC=null;class dC{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=mx.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=mx.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=mx.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw xx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xx("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(QE){return-1}}getResponse(){if(!this.sent_)throw xx("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xx("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class hC extends dC{initXhr(){this.xhr_.responseType="text"}}function pC(){return uC?uC():new hC}class fC{constructor(e,t){this._service=e,this._location=t instanceof Cx?t:Cx.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fC(e,t)}get root(){const e=new Cx(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gx(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Cx(this._location.bucket,e);return new fC(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new px(fx.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mC(e,t,n){e._throwIfRoot("uploadBytes");const r=cC(e.storage,e._location,Xx(),new Hx(t,!0),n);return e.storage.makeRequestWithTokens(r,pC).then((t=>({metadata:t,ref:e})))}function gC(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Nx(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new tC(r,"GET",iC(e,n),i);return o.errorHandler=sC(t),o}(e.storage,e._location,Xx());return e.storage.makeRequestWithTokens(t,pC).then((e=>{if(null===e)throw new px(fx.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function vC(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Nx(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new tC(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=sC(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,pC)}function yC(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Cx(e._location.bucket,n);return new fC(e.storage,r)}function bC(e,t){if(e instanceof SC){const n=e;if(null==n._bucket)throw new px(fx.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+hx+"' property when initializing the app?");const r=new fC(n,n._bucket);return null!=t?bC(r,t):r}return void 0!==t?yC(e,t):e}function wC(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof SC)return new fC(e,t);throw _x("To use ref(service, url), the first argument must be a Storage instance.")}return bC(e,t)}function _C(e,t){const n=null===t||void 0===t?void 0:t[hx];return null==n?null:Cx.makeFromBucketSpec(n,e)}class SC{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=dx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Cx.makeFromBucketSpec(r,this._host):_C(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Cx.makeFromBucketSpec(this._url,e):this._bucket=_C(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fC(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Ax(Sx());{const o=function(e,t,n,r,i,o){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=Px(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Dx(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then((()=>this._requests.delete(o)),(()=>this._requests.delete(o))),o}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const kC="@firebase/storage",xC="0.11.2",CC="storage";function AC(e){return function(e){e._throwIfRoot("getMetadata");const t=aC(e.storage,e._location,Xx());return e.storage.makeRequestWithTokens(t,pC)}(e=vt(e))}function EC(e){return gC(e=vt(e))}function TC(e){return vC(e=vt(e))}function IC(e,t){return wC(e=vt(e),t)}function RC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On(),t=arguments.length>1?arguments[1]:void 0;e=vt(e);const n=Tn(e,CC).getImmediate({identifier:t}),r=ze("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:We(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function NC(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new SC(r,i,o,n,Nn)}En(new yt(CC,NC,"PUBLIC").setMultipleInstances(!0)),Dn(kC,xC,""),Dn(kC,xC,"esm2017");const PC=(e,t)=>t.some((t=>e instanceof t));let OC,DC;const MC=new WeakMap,LC=new WeakMap,FC=new WeakMap,jC=new WeakMap,zC=new WeakMap;let UC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return LC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||FC.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return WC(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function BC(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(DC||(DC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qC(this),n),WC(MC.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return WC(e.apply(qC(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const o=e.call(qC(this),t,...r);return FC.set(o,t.sort?t.sort():[t]),WC(o)}}function VC(e){return"function"===typeof e?BC(e):(e instanceof IDBTransaction&&function(e){if(LC.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));LC.set(e,t)}(e),PC(e,OC||(OC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,UC):e)}function WC(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(WC(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&MC.set(t,e)})).catch((()=>{})),zC.set(t,e),t}(e);if(jC.has(e))return jC.get(e);const t=VC(e);return t!==e&&(jC.set(e,t),zC.set(t,e)),t}const qC=e=>zC.get(e);const HC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],GC=new Map;function QC(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(GC.get(t))return GC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=KC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!HC.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return GC.set(t,o),o}!function(e){UC=e(UC)}((e=>({...e,get:(t,n,r)=>QC(t,n)||e.get(t,n,r),has:(t,n)=>!!QC(t,n)||e.has(t,n)})));const $C="@firebase/installations",YC="0.6.4",XC=1e4,JC="w:".concat(YC),ZC="FIS_v2",eA="https://firebaseinstallations.googleapis.com/v1",tA=36e5,nA=new Xe("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rA(e){return e instanceof Ye&&e.code.includes("request-failed")}function iA(e){let{projectId:t}=e;return"".concat(eA,"/projects/").concat(t,"/installations")}function oA(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function sA(e,t){const n=(await t.json()).error;return nA.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function aA(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lA(e,t){let{refreshToken:n}=t;const r=aA(e);return r.append("Authorization",function(e){return"".concat(ZC," ").concat(e)}(n)),r}async function cA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function uA(e){return new Promise((t=>{setTimeout(t,e)}))}const dA=/^[cdef][\w-]{21}$/,hA="";function pA(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return dA.test(t)?t:hA}catch(e){return hA}}function fA(e){return"".concat(e.appName,"!").concat(e.appId)}const mA=new Map;function gA(e,t){const n=fA(e);vA(n,t),function(e,t){const n=bA();n&&n.postMessage({key:e,fid:t});wA()}(n,t)}function vA(e,t){const n=mA.get(e);if(n)for(const r of n)r(t)}let yA=null;function bA(){return!yA&&"BroadcastChannel"in self&&(yA=new BroadcastChannel("[Firebase] FID Change"),yA.onmessage=e=>{vA(e.data.key,e.data.fid)}),yA}function wA(){0===mA.size&&yA&&(yA.close(),yA=null)}const _A="firebase-installations-database",SA=1,kA="firebase-installations-store";let xA=null;function CA(){return xA||(xA=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=WC(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(WC(s.result),e.oldVersion,e.newVersion,WC(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}(_A,SA,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(kA)}})),xA}async function AA(e,t){const n=fA(e),r=(await CA()).transaction(kA,"readwrite"),i=r.objectStore(kA),o=await i.get(n);return await i.put(t,n),await r.done,o&&o.fid===t.fid||gA(e,t.fid),t}async function EA(e){const t=fA(e),n=(await CA()).transaction(kA,"readwrite");await n.objectStore(kA).delete(t),await n.done}async function TA(e,t){const n=fA(e),r=(await CA()).transaction(kA,"readwrite"),i=r.objectStore(kA),o=await i.get(n),s=t(o);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||o&&o.fid===s.fid||gA(e,s.fid),s}async function IA(e){let t;const n=await TA(e.appConfig,(n=>{const r=function(e){const t=e||{fid:pA(),registrationStatus:0};return PA(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(nA.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const o=iA(n),s=aA(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:ZC,appId:n.appId,sdkVersion:JC},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await cA((()=>fetch(o,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:oA(e.authToken)}}throw await sA("Create Installation",u)}(e,t);return AA(e.appConfig,n)}catch(QE){throw rA(QE)&&409===QE.customData.serverCode?await EA(e.appConfig):await AA(e.appConfig,{fid:t.fid,registrationStatus:0}),QE}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:RA(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return n.fid===hA?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function RA(e){let t=await NA(e.appConfig);for(;1===t.registrationStatus;)await uA(100),t=await NA(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await IA(e);return n||t}return t}function NA(e){return TA(e,(e=>{if(!e)throw nA.create("installation-not-found");return PA(e)}))}function PA(e){return 1===(t=e).registrationStatus&&t.registrationTime+XC<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function OA(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(iA(e),"/").concat(n,"/authTokens:generate")}(n,t),o=lA(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const a={installation:{sdkVersion:JC,appId:n.appId}},l={method:"POST",headers:o,body:JSON.stringify(a)},c=await cA((()=>fetch(i,l)));if(c.ok){return oA(await c.json())}throw await sA("Generate Auth Token",c)}async function DA(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await TA(e.appConfig,(r=>{if(!LA(r))throw nA.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+tA}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await MA(e.appConfig);for(;1===n.authToken.requestStatus;)await uA(100),n=await MA(e.appConfig);const r=n.authToken;return 0===r.requestStatus?DA(e,t):r}(e,n),r;{if(!navigator.onLine)throw nA.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await OA(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await AA(e.appConfig,r),n}catch(QE){if(!rA(QE)||401!==QE.customData.serverCode&&404!==QE.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await AA(e.appConfig,n)}else await EA(e.appConfig);throw QE}}(e,n),n}}));return t?await t:r.authToken}function MA(e){return TA(e,(e=>{if(!LA(e))throw nA.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+XC<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function LA(e){return void 0!==e&&2===e.registrationStatus}async function FA(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await IA(e);t&&await t}(n);return(await DA(n,t)).token}function jA(e){return nA.create("missing-app-config-values",{valueName:e})}const zA="installations",UA=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw jA("App Configuration");if(!e.name)throw jA("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw jA(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Tn(t,"heartbeat"),_delete:()=>Promise.resolve()}},BA=e=>{const t=Tn(e.getProvider("app").getImmediate(),zA).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await IA(t);return r?r.catch(console.error):DA(t).catch(console.error),n.fid}(t),getToken:e=>FA(t,e)}};En(new yt(zA,UA,"PUBLIC")),En(new yt("installations-internal",BA,"PRIVATE")),Dn($C,YC),Dn($C,YC,"esm2017");const VA="@firebase/remote-config",WA="0.4.4";const qA="remote-config",HA=new Xe("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class KA{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check."+" Cache age millis: ".concat(n,".")+" Cache max age millis (minimumFetchIntervalMillis setting): ".concat(e,".")+" Is cache hit: ".concat(r,".")),r}async fetch(e){const[t,n]=await Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t))return n;e.eTag=n&&n.eTag;const r=await this.client.fetch(e),i=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===r.status&&i.push(this.storage.setLastSuccessfulFetchResponse(r)),await Promise.all(i),r}}function GA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator;return e.languages&&e.languages[0]||e.language}class QA{constructor(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}async fetch(e){const[t,n]=await Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),r=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i="".concat(r,"/v1/projects/").concat(this.projectId,"/namespaces/").concat(this.namespace,":fetch?key=").concat(this.apiKey),o={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:n,app_id:this.appId,language_code:GA()},a={method:"POST",headers:o,body:JSON.stringify(s)},l=fetch(i,a),c=new Promise(((t,n)=>{e.signal.addEventListener((()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))}));let u;try{await Promise.race([l,c]),u=await l}catch(m){let e="fetch-client-network";throw"AbortError"===(null===m||void 0===m?void 0:m.name)&&(e="fetch-timeout"),HA.create(e,{originalErrorMessage:null===m||void 0===m?void 0:m.message})}let d=u.status;const h=u.headers.get("ETag")||void 0;let p,f;if(200===u.status){let e;try{e=await u.json()}catch(m){throw HA.create("fetch-client-parse",{originalErrorMessage:null===m||void 0===m?void 0:m.message})}p=e.entries,f=e.state}if("INSTANCE_STATE_UNSPECIFIED"===f?d=500:"NO_CHANGE"===f?d=304:"NO_TEMPLATE"!==f&&"EMPTY_CONFIG"!==f||(p={}),304!==d&&200!==d)throw HA.create("fetch-status",{httpStatus:d});return{status:d,eTag:h,config:p}}}class $A{constructor(e,t){this.client=e,this.storage=t}async fetch(e){const t=await this.storage.getThrottleMetadata()||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(e,t)}async attemptFetch(e,t){let{throttleEndTimeMillis:n,backoffCount:r}=t;await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(o),r(HA.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(e.signal,n);try{const t=await this.client.fetch(e);return await this.storage.deleteThrottleMetadata(),t}catch(QE){if(!function(e){if(!(e instanceof Ye)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(QE))throw QE;const n={throttleEndTimeMillis:Date.now()+gt(r),backoffCount:r+1};return await this.storage.setThrottleMetadata(n),this.attemptFetch(e,n)}}}class YA{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function XA(e,t){const n=e.target.error||void 0;return HA.create(t,{originalErrorMessage:n&&(null===n||void 0===n?void 0:n.message)})}const JA="app_namespace_store";class ZA{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Promise(((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(XA(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;0===e.oldVersion&&t.createObjectStore(JA,{keyPath:"compositeKey"})}}catch(bs){t(HA.create("storage-open",{originalErrorMessage:null===bs||void 0===bs?void 0:bs.message}))}}));this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}async get(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([JA],"readonly").objectStore(JA),o=this.createCompositeKey(e);try{const e=i.get(o);e.onerror=e=>{r(XA(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;n(t?t.value:void 0)}}catch(QE){r(HA.create("storage-get",{originalErrorMessage:null===QE||void 0===QE?void 0:QE.message}))}}))}async set(e,t){const n=await this.openDbPromise;return new Promise(((r,i)=>{const o=n.transaction([JA],"readwrite").objectStore(JA),s=this.createCompositeKey(e);try{const e=o.put({compositeKey:s,value:t});e.onerror=e=>{i(XA(e,"storage-set"))},e.onsuccess=()=>{r()}}catch(QE){i(HA.create("storage-set",{originalErrorMessage:null===QE||void 0===QE?void 0:QE.message}))}}))}async delete(e){const t=await this.openDbPromise;return new Promise(((n,r)=>{const i=t.transaction([JA],"readwrite").objectStore(JA),o=this.createCompositeKey(e);try{const e=i.delete(o);e.onerror=e=>{r(XA(e,"storage-delete"))},e.onsuccess=()=>{n()}}catch(QE){r(HA.create("storage-delete",{originalErrorMessage:null===QE||void 0===QE?void 0:QE.message}))}}))}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class eE{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}async loadFromStorage(){const e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=await e;r&&(this.lastFetchStatus=r);const i=await t;i&&(this.lastSuccessfulFetchTimestampMillis=i);const o=await n;o&&(this.activeConfig=o)}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}En(new yt(qA,(function(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"===typeof window)throw HA.create("registration-window");if(!$e())throw HA.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw HA.create("registration-project-id");if(!s)throw HA.create("registration-api-key");if(!a)throw HA.create("registration-app-id");n=n||"firebase";const l=new ZA(a,r.name,n),c=new eE(l),u=new It(VA);u.logLevel=xt.ERROR;const d=new QA(i,Nn,n,o,s,a),h=new $A(d,l),p=new KA(h,l,c,u),f=new YA(r,p,c,l,u);return function(e){const t=vt(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then((()=>{t._isInitializationComplete=!0}))),t._initializePromise}(f),f}),"PUBLIC").setMultipleInstances(!0)),Dn(VA,WA),Dn(VA,WA,"esm2017");var tE=function(e,t){return tE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},tE(e,t)};function nE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}tE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function rE(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function iE(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(vf){i={error:vf}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function oE(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function sE(e){return"function"==typeof e}function aE(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var lE=aE((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function cE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var uE=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=rE(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(p){e={error:p}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(sE(l))try{l()}catch(p){i=p instanceof lE?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=rE(c),d=u.next();!d.done;d=u.next()){var h=d.value;try{pE(h)}catch(p){i=null!=i?i:[],p instanceof lE?i=oE(oE([],iE(i)),iE(p.errors)):i.push(p)}}}catch(p){n={error:p}}finally{try{d&&!d.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(i)throw new lE(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)pE(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&cE(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&cE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),dE=uE.EMPTY;function hE(e){return e instanceof uE||e&&"closed"in e&&sE(e.remove)&&sE(e.add)&&sE(e.unsubscribe)}function pE(e){sE(e)?e():e.unsubscribe()}var fE=void 0,mE=!1,gE=!1,vE={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=vE.delegate;return null!=i&&i.setTimeout?i.setTimeout.apply(i,oE([e,t],iE(n))):setTimeout.apply(void 0,oE([e,t],iE(n)))},clearTimeout:function(e){var t=vE.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function yE(e){vE.setTimeout((function(){throw e}))}function bE(){}var wE=null;function _E(e){if(mE){var t=!wE;if(t&&(wE={errorThrown:!1,error:null}),e(),t){var n=wE,r=n.errorThrown,i=n.error;if(wE=null,r)throw i}}else e()}var SE=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,hE(t)&&t.add(n)):n.destination=TE,n}return nE(t,e),t.create=function(e,t,n){return new AE(e,t,n)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(uE),kE=Function.prototype.bind;function xE(e,t){return kE.call(e,t)}var CE=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(Ld){EE(Ld)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(Ld){EE(Ld)}else EE(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){EE(t)}},e}(),AE=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;sE(t)||!t?i={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&gE?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&xE(t.next,o),error:t.error&&xE(t.error,o),complete:t.complete&&xE(t.complete,o)}):i=t;return s.destination=new CE(i),s}return nE(t,e),t}(SE);function EE(e){yE(e)}var TE={closed:!0,next:bE,error:function(e){throw e},complete:bE},IE="function"==typeof Symbol&&Symbol.observable||"@@observable";function RE(e){return e}var NE=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this,i=function(e){return e&&e instanceof SE||function(e){return e&&sE(e.next)&&sE(e.error)&&sE(e.complete)}(e)&&hE(e)}(e)?e:new AE(e,t,n);return _E((function(){var e=r,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?r._subscribe(i):r._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=PE(t))((function(t,r){var i=new AE({next:function(t){try{e(t)}catch(n){r(n),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[IE]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(e){return 0===e.length?RE:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=PE(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function PE(e){var t;return null!==(t=null!=e?e:fE)&&void 0!==t?t:Promise}!function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(Ed){t.error(Ed)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(Ed){t.error(Ed)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}nE(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}(SE);var OE=aE((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),DE=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return nE(t,e),t.prototype.lift=function(e){var t=new ME(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new OE},t.prototype.next=function(e){var t=this;_E((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=rE(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;_E((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;_E((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?dE:(this.currentObservers=null,o.push(e),new uE((function(){t.currentObservers=null,cE(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new NE;return e.source=this,e},t.create=function(e,t){return new ME(e,t)},t}(NE),ME=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return nE(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:dE},t}(DE),LE={now:function(){return(LE.delegate||Date).now()},delegate:void 0},FE=(function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=LE);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}nE(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(i.push(t),!o&&i.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var s=n.now(),a=0,l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}}(DE),function(e){function t(t,n){return e.call(this)||this}return nE(t,e),t.prototype.schedule=function(e,t){return this},t}(uE)),jE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=jE.delegate;return null!=i&&i.setInterval?i.setInterval.apply(i,oE([e,t],iE(n))):setInterval.apply(void 0,oE([e,t],iE(n)))},clearInterval:function(e){var t=jE.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},zE=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return nE(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),jE.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;jE.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,cE(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(FE),UE=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=LE.now,e}(),BE=function(e){function t(t,n){void 0===n&&(n=UE.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return nE(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(UE);new BE(zE),new NE((function(e){return e.complete()}));"function"==typeof Symbol&&Symbol.iterator&&Symbol.iterator;aE((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));const VE=t.createContext(void 0),WE=t.createContext(!1);function qE(e){const{firebaseConfig:n,appName:r,suspense:i}=e,o=t.useMemo((()=>{if(e.firebaseApp)return e.firebaseApp;const i=Array.from(xn.values()).find((e=>e.name===(r||"[DEFAULT]")));if(i){if(n&&((e,t)=>e===t||[...Object.keys(e),...Object.keys(t)].every((n=>e[n]===t[n])))(i.options,n))return i;throw new Error("Does not match the options already provided to the ".concat(r||"default"," firebase app instance, give this new instance a different appName."))}if(!n)throw new Error("No firebaseConfig provided");return Dn("react",t.version||"unknown"),Dn("reactfire","4.2.3"),Pn(n,r)}),[e.firebaseApp,n,r]);return t.createElement(VE.Provider,{value:o},t.createElement(WE.Provider,Object.assign({value:null!=i&&i},e)))}function HE(){const e=t.useContext(VE);if(!e)throw new Error("Cannot call useFirebaseApp unless your component is within a FirebaseAppProvider");return e}var KE,GE,QE;(QE=GE||(GE={})).added="child_added",QE.removed="child_removed",QE.changed="child_changed",QE.moved="child_moved",QE.value="value";Object.freeze(((KE={})[GE.added]=function(e,t,n,r){return gd(e,"child_added",t,n,r)},KE[GE.removed]=function(e,t,n,r){return gd(e,"child_removed",t,n,r)},KE[GE.changed]=function(e,t,n,r){return gd(e,"child_changed",t,n,r)},KE[GE.moved]=function(e,t,n,r){return gd(e,"child_moved",t,n,r)},KE[GE.value]=vd,KE));const $E=globalThis._reactFireDatabaseCachedQueries||[];globalThis._reactFireDatabaseCachedQueries||(globalThis._reactFireDatabaseCachedQueries=$E);const YE=globalThis._reactFirePreloadedObservables||new Map;globalThis._reactFirePreloadedObservables||(globalThis._reactFirePreloadedObservables=YE);const XE=globalThis._reactFireFirestoreQueryCache||[];globalThis._reactFireFirestoreQueryCache||(globalThis._reactFireFirestoreQueryCache=XE);const JE=t.createContext(void 0),ZE=t.createContext(void 0),eT=t.createContext(void 0),tT=t.createContext(void 0),nT=t.createContext(void 0),rT=t.createContext(void 0),iT=t.createContext(void 0),oT=t.createContext(void 0),sT=t.createContext(void 0);function aT(e){return function(n){var r,i;if(!n.sdk)throw new Error("no sdk provided");const o=HE().name;if((null===(i=null===(r=null==n?void 0:n.sdk)||void 0===r?void 0:r.app)||void 0===i?void 0:i.name)!==o)throw new Error("sdk was initialized with a different firebase app");return t.createElement(e.Provider,Object.assign({value:n.sdk},n))}}aT(JE),aT(ZE),aT(eT),aT(tT);const lT=aT(nT);aT(rT),aT(oT),aT(iT),aT(sT);Error;var cT=n(8289);function uT(e){let{name:t,image:n,id:r}=e,i=ee();return(0,cT.jsxs)("div",{className:"recipeElement",onClick:()=>{i("/recipes?id=".concat(r))},children:[(0,cT.jsx)("div",{className:"recipeImageContainer",children:(0,cT.jsx)("img",{className:"recipeImage",src:n||"../public/undefined.jpg"})}),(0,cT.jsx)("div",{className:"recipeNameContainer",children:(0,cT.jsx)("div",{className:"recipeName",children:t})})]})}var dT=n(2853),hT=n(7410),pT=n(3421),fT=n(7177),mT=n(1872),gT=n(9564),vT=n(677),yT=n(5218),bT=n(6519),wT=n(6136),_T=n(7149);function ST(){const e=(0,bT.A)(wT.A);return e[_T.A]||e}const kT=t.createContext();var xT=n(9238),CT=n(6366);function AT(e){return(0,CT.Ay)("MuiGrid",e)}const ET=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],TT=(0,xT.A)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>"spacing-xs-".concat(e))),...["column-reverse","column","row-reverse","row"].map((e=>"direction-xs-".concat(e))),...["nowrap","wrap-reverse","wrap"].map((e=>"wrap-xs-".concat(e))),...ET.map((e=>"grid-xs-".concat(e))),...ET.map((e=>"grid-sm-".concat(e))),...ET.map((e=>"grid-md-".concat(e))),...ET.map((e=>"grid-lg-".concat(e))),...ET.map((e=>"grid-xl-".concat(e)))]),IT=TT,RT=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function NT(e){const t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function PT(e){let{breakpoints:t,values:n}=e,r="";Object.keys(n).forEach((e=>{""===r&&0!==n[e]&&(r=e)}));const i=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return i.slice(0,i.indexOf(r))}const OT=(0,vT.Ay)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:r,direction:i,item:o,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let u=[];r&&(u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];const r=[];return t.forEach((t=>{const i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(s,c,t));const d=[];return c.forEach((e=>{const r=n[e];r&&d.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,o&&t.item,l&&t.zeroMinWidth,...u,"row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==a&&t["wrap-xs-".concat(String(a))],...d]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const r=(0,fT.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,fT.NI)({theme:t},r,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(IT.item)]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,rowSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,fT.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=PT({breakpoints:t.breakpoints.values,values:e})),o=(0,fT.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{marginTop:"-".concat(NT(o)),["& > .".concat(IT.item)]:{paddingTop:NT(o)}}:null!=(i=n)&&i.includes(r)?{}:{marginTop:0,["& > .".concat(IT.item)]:{paddingTop:0}}}))}return o}),(function(e){let{theme:t,ownerState:n}=e;const{container:r,columnSpacing:i}=n;let o={};if(r&&0!==i){const e=(0,fT.kW)({values:i,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=PT({breakpoints:t.breakpoints.values,values:e})),o=(0,fT.NI)({theme:t},e,((e,r)=>{var i;const o=t.spacing(e);return"0px"!==o?{width:"calc(100% + ".concat(NT(o),")"),marginLeft:"-".concat(NT(o)),["& > .".concat(IT.item)]:{paddingLeft:NT(o)}}:null!=(i=n)&&i.includes(r)?{}:{width:"100%",marginLeft:0,["& > .".concat(IT.item)]:{paddingLeft:0}}}))}return o}),(function(e){let t,{theme:n,ownerState:r}=e;return n.breakpoints.keys.reduce(((e,i)=>{let o={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,fT.kW)({values:r.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[i]:s;if(void 0===a||null===a)return e;const l="".concat(Math.round(t/a*1e8)/1e6,"%");let c={};if(r.container&&r.item&&0!==r.columnSpacing){const e=n.spacing(r.columnSpacing);if("0px"!==e){const t="calc(".concat(l," + ").concat(NT(e),")");c={flexBasis:t,maxWidth:t}}}o=(0,hT.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[i]?Object.assign(e,o):e[n.breakpoints.up(i)]=o,e}),{})}));const DT=e=>{const{classes:t,container:n,direction:r,item:i,spacing:o,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];const n=[];return t.forEach((t=>{const r=e[t];if(Number(r)>0){const e="spacing-".concat(t,"-").concat(String(r));n.push(e)}})),n}(o,l));const u=[];l.forEach((t=>{const n=e[t];n&&u.push("grid-".concat(t,"-").concat(String(n)))}));const d={root:["root",n&&"container",i&&"item",a&&"zeroMinWidth",...c,"row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==s&&"wrap-xs-".concat(String(s)),...u]};return(0,gT.A)(d,AT,t)},MT=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiGrid"}),{breakpoints:i}=ST(),o=(0,mT.A)(r),{className:s,columns:a,columnSpacing:l,component:c="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:f=0,wrap:m="wrap",zeroMinWidth:g=!1}=o,v=(0,dT.A)(o,RT),y=p||f,b=l||f,w=t.useContext(kT),_=u?a||12:w,S={},k=(0,hT.A)({},v);i.keys.forEach((e=>{null!=v[e]&&(S[e]=v[e],delete k[e])}));const x=(0,hT.A)({},o,{columns:_,container:u,direction:d,item:h,rowSpacing:y,columnSpacing:b,wrap:m,zeroMinWidth:g,spacing:f},S,{breakpoints:i.keys}),C=DT(x);return(0,cT.jsx)(kT.Provider,{value:_,children:(0,cT.jsx)(OT,(0,hT.A)({ownerState:x,className:(0,pT.A)(C.root,s),as:c,ref:n},k))})}));const LT=MT;var FT=n(7008),jT=n(7404),zT=n(5441),UT=n(5447),BT=n(7629),VT=n(6409);function WT(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function qT(e,t){return qT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qT(e,t)}function HT(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,qT(e,t)}const KT=t.createContext(null);function GT(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function QT(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $T(e,n,r){var i=GT(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];a[i[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}(n,i);return Object.keys(o).forEach((function(s){var a=o[s];if((0,t.isValidElement)(a)){var l=s in n,c=s in i,u=n[s],d=(0,t.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,t.isValidElement)(u)&&(o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:u.props.in,exit:QT(a,"exit",e),enter:QT(a,"enter",e)})):o[s]=(0,t.cloneElement)(a,{in:!1}):o[s]=(0,t.cloneElement)(a,{onExited:r.bind(null,a),in:!0,exit:QT(a,"exit",e),enter:QT(a,"enter",e)})}})),o}var YT=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},XT=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}HT(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,o=n.children,s=n.handleExited;return{children:n.firstRender?(r=e,i=s,GT(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:QT(e,"appear",r),enter:QT(e,"enter",r),exit:QT(e,"exit",r)})}))):$T(e,o,s),firstRender:!1}},r.handleExited=function(e,t){var n=GT(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,hT.A)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,dT.A)(e,["component","childFactory"]),o=this.state.contextValue,s=YT(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(KT.Provider,{value:o},s):t.createElement(KT.Provider,{value:o},t.createElement(n,i,s))},n}(t.Component);XT.propTypes={},XT.defaultProps={component:"div",childFactory:function(e){return e}};const JT=XT;var ZT=n(232),eI=n(9802);const tI=function(e){const{className:n,classes:r,pulsate:i=!1,rippleX:o,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:u}=e,[d,h]=t.useState(!1),p=(0,pT.A)(n,r.ripple,r.rippleVisible,i&&r.ripplePulsate),f={width:a,height:a,top:-a/2+s,left:-a/2+o},m=(0,pT.A)(r.child,d&&r.childLeaving,i&&r.childPulsate);return l||d||h(!0),t.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,cT.jsx)("span",{className:p,style:f,children:(0,cT.jsx)("span",{className:m})})};const nI=(0,xT.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var rI,iI,oI,sI;const aI=["center","classes","className"];let lI,cI,uI,dI;const hI=(0,ZT.i7)(lI||(lI=rI||(rI=WT(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),pI=(0,ZT.i7)(cI||(cI=iI||(iI=WT(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fI=(0,ZT.i7)(uI||(uI=oI||(oI=WT(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),mI=(0,vT.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),gI=(0,vT.Ay)(tI,{name:"MuiTouchRipple",slot:"Ripple"})(dI||(dI=sI||(sI=WT(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),nI.rippleVisible,hI,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nI.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),nI.child,nI.childLeaving,pI,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nI.childPulsate,fI,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),vI=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=(0,dT.A)(r,aI),[l,c]=t.useState([]),u=t.useRef(0),d=t.useRef(null);t.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[l]);const h=t.useRef(!1),p=(0,eI.A)(),f=t.useRef(null),m=t.useRef(null),g=t.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;c((e=>[...e,(0,cT.jsx)(gI,{classes:{ripple:(0,pT.A)(o.ripple,nI.ripple),rippleVisible:(0,pT.A)(o.rippleVisible,nI.rippleVisible),ripplePulsate:(0,pT.A)(o.ripplePulsate,nI.ripplePulsate),child:(0,pT.A)(o.child,nI.child),childLeaving:(0,pT.A)(o.childLeaving,nI.childLeaving),childPulsate:(0,pT.A)(o.childPulsate,nI.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},u.current)])),u.current+=1,d.current=s}),[o]),v=t.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:o=i||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null==e?void 0:e.type)&&(h.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,d;if(o||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(o)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-u),u)+2;d=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===f.current&&(f.current=()=>{g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})},p.start(80,(()=>{f.current&&(f.current(),f.current=null)}))):g({pulsate:r,rippleX:c,rippleY:u,rippleSize:d,cb:n})}),[i,g,p]),y=t.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=t.useCallback(((e,t)=>{if(p.clear(),"touchend"===(null==e?void 0:e.type)&&f.current)return f.current(),f.current=null,void p.start(0,(()=>{b(e,t)}));f.current=null,c((e=>e.length>0?e.slice(1):e)),d.current=t}),[p]);return t.useImperativeHandle(n,(()=>({pulsate:y,start:v,stop:b})),[y,v,b]),(0,cT.jsx)(mI,(0,hT.A)({className:(0,pT.A)(nI.root,o.root,s),ref:m},a,{children:(0,cT.jsx)(JT,{component:null,exit:!0,children:l})}))})),yI=vI;function bI(e){return(0,CT.Ay)("MuiButtonBase",e)}const wI=(0,xT.A)("MuiButtonBase",["root","disabled","focusVisible"]),_I=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],SI=(0,vT.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(wI.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),kI=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:f,onClick:m,onContextMenu:g,onDragLeave:v,onFocus:y,onFocusVisible:b,onKeyDown:w,onKeyUp:_,onMouseDown:S,onMouseLeave:k,onMouseUp:x,onTouchEnd:C,onTouchMove:A,onTouchStart:E,tabIndex:T=0,TouchRippleProps:I,touchRippleRef:R,type:N}=r,P=(0,dT.A)(r,_I),O=t.useRef(null),D=t.useRef(null),M=(0,UT.A)(D,R),{isFocusVisibleRef:L,onFocus:F,onBlur:j,ref:z}=(0,VT.A)(),[U,B]=t.useState(!1);c&&U&&B(!1),t.useImperativeHandle(i,(()=>({focusVisible:()=>{B(!0),O.current.focus()}})),[]);const[V,W]=t.useState(!1);t.useEffect((()=>{W(!0)}),[]);const q=V&&!u&&!c;function H(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return(0,BT.A)((r=>{t&&t(r);return!n&&D.current&&D.current[e](r),!0}))}t.useEffect((()=>{U&&h&&!u&&V&&D.current.pulsate()}),[u,h,U,V]);const K=H("start",S),G=H("stop",g),Q=H("stop",v),$=H("stop",x),Y=H("stop",(e=>{U&&e.preventDefault(),k&&k(e)})),X=H("start",E),J=H("stop",C),Z=H("stop",A),ee=H("stop",(e=>{j(e),!1===L.current&&B(!1),f&&f(e)}),!1),te=(0,BT.A)((e=>{O.current||(O.current=e.currentTarget),F(e),!0===L.current&&(B(!0),b&&b(e)),y&&y(e)})),ne=()=>{const e=O.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},re=t.useRef(!1),ie=(0,BT.A)((e=>{h&&!re.current&&U&&D.current&&" "===e.key&&(re.current=!0,D.current.stop(e,(()=>{D.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),w&&w(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),oe=(0,BT.A)((e=>{h&&" "===e.key&&D.current&&U&&!e.defaultPrevented&&(re.current=!1,D.current.stop(e,(()=>{D.current.pulsate(e)}))),_&&_(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(P.href||P.to)&&(se=p);const ae={};"button"===se?(ae.type=void 0===N?"button":N,ae.disabled=c):(P.href||P.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=(0,UT.A)(n,z,O);const ce=(0,hT.A)({},r,{centerRipple:o,component:l,disabled:c,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:T,focusVisible:U}),ue=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},s=(0,gT.A)(o,bI,i);return n&&r&&(s.root+=" ".concat(r)),s})(ce);return(0,cT.jsxs)(SI,(0,hT.A)({as:se,className:(0,pT.A)(ue.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:ie,onKeyUp:oe,onMouseDown:K,onMouseLeave:Y,onMouseUp:$,onDragLeave:Q,onTouchEnd:J,onTouchMove:Z,onTouchStart:X,ref:le,tabIndex:c?-1:T,type:N},ae,P,{children:[s,q?(0,cT.jsx)(yI,(0,hT.A)({ref:M,center:o},I)):null]}))})),xI=kI;var CI=n(4349);function AI(e){return(0,CT.Ay)("MuiButton",e)}const EI=(0,xT.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const TI=t.createContext({});const II=t.createContext(void 0),RI=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],NI=e=>(0,hT.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),PI=(0,vT.Ay)(xI,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,CI.A)(n.color))],t["size".concat((0,CI.A)(n.size))],t["".concat(n.variant,"Size").concat((0,CI.A)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var r,i;const o="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,hT.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,hT.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:"1px solid ".concat((t.vars||t).palette[n.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,hT.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(EI.focusVisible)]:(0,hT.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(EI.disabled)]:(0,hT.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.5)"):"1px solid ".concat((0,jT.X4)(t.palette[n.color].main,.5))},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(r=(i=t.palette).getContrastText)?void 0:r.call(i,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:o,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(EI.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(EI.disabled)]:{boxShadow:"none"}}})),OI=(0,vT.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t["iconSize".concat((0,CI.A)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},NI(t))})),DI=(0,vT.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t["iconSize".concat((0,CI.A)(n.size))]]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},NI(t))})),MI=t.forwardRef((function(e,n){const r=t.useContext(TI),i=t.useContext(II),o=(0,FT.A)(r,e),s=(0,yT.A)({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:v="medium",startIcon:y,type:b,variant:w="text"}=s,_=(0,dT.A)(s,RI),S=(0,hT.A)({},s,{color:l,component:c,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:v,type:b,variant:w}),k=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=e,a={root:["root",o,"".concat(o).concat((0,CI.A)(t)),"size".concat((0,CI.A)(i)),"".concat(o,"Size").concat((0,CI.A)(i)),"color".concat((0,CI.A)(t)),n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,CI.A)(i))],endIcon:["icon","endIcon","iconSize".concat((0,CI.A)(i))]},l=(0,gT.A)(a,AI,s);return(0,hT.A)({},s,l)})(S),x=y&&(0,cT.jsx)(OI,{className:k.startIcon,ownerState:S,children:y}),C=f&&(0,cT.jsx)(DI,{className:k.endIcon,ownerState:S,children:f}),A=i||"";return(0,cT.jsxs)(PI,(0,hT.A)({ownerState:S,className:(0,pT.A)(r.className,k.root,u,A),component:c,disabled:d,focusRipple:!p,focusVisibleClassName:(0,pT.A)(k.focusVisible,m),ref:n,type:b},_,{classes:k,children:[x,a,C]}))})),LI=MI;var FI=n(9072);function jI(e){return"string"===typeof e}function zI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n}function UI(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t}const BI=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function VI(e){var t;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=e,s=(0,dT.A)(e,BI),a=o?{}:function(e,t,n){return"function"===typeof e?e(t,n):e}(r,i),{props:l,internalRef:c}=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=e;if(!t){const e=(0,pT.A)(null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),t=(0,hT.A)({},null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),s=(0,hT.A)({},n,i,r);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=zI((0,hT.A)({},i,r)),a=UI(r),l=UI(i),c=t(s),u=(0,pT.A)(null==c?void 0:c.className,null==n?void 0:n.className,o,null==i?void 0:i.className,null==r?void 0:r.className),d=(0,hT.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==i?void 0:i.style,null==r?void 0:r.style),h=(0,hT.A)({},c,n,l,a);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:c.ref}}((0,hT.A)({},s,{externalSlotProps:a})),u=(0,FI.A)(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref),d=function(e,t,n){return void 0===e||jI(e)?t:(0,hT.A)({},t,{ownerState:(0,hT.A)({},t.ownerState,n)})}(n,(0,hT.A)({},l,{ref:u}),i);return d}var WI=n(2136),qI=n(5141),HI=n(4740);const KI=!1;var GI="unmounted",QI="exited",$I="entering",YI="entered",XI="exiting",JI=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=QI,r.appearStatus=$I):i=YI:i=t.unmountOnExit||t.mountOnEnter?GI:QI,r.state={status:i},r.nextCallback=null,r}HT(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===GI?{status:QI}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==$I&&n!==YI&&(t=$I):n!==$I&&n!==YI||(t=XI)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===$I){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===QI&&this.setState({status:GI})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[s.findDOMNode(this),r],o=i[0],a=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||KI?this.safeSetState({status:YI},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:$I},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:YI},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t&&!KI?(this.props.onExit(r),this.safeSetState({status:XI},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:QI},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:QI},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===GI)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,dT.A)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(KT.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function ZI(){}JI.contextType=KT,JI.propTypes={},JI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ZI,onEntering:ZI,onEntered:ZI,onExit:ZI,onExiting:ZI,onExited:ZI},JI.UNMOUNTED=GI,JI.EXITED=QI,JI.ENTERING=$I,JI.ENTERED=YI,JI.EXITING=XI;const eR=JI,tR=e=>e.scrollTop;function nR(e,t){var n,r;const{timeout:i,easing:o,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=s.transitionTimingFunction)?r:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}const rR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function iR(e){return"scale(".concat(e,", ").concat(e**2,")")}const oR={entering:{opacity:1,transform:iR(1)},entered:{opacity:1,transform:"none"}},sR="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),aR=t.forwardRef((function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:c,onEntering:u,onExit:d,onExited:h,onExiting:p,style:f,timeout:m="auto",TransitionComponent:g=eR}=e,v=(0,dT.A)(e,rR),y=(0,eI.A)(),b=t.useRef(),w=ST(),_=t.useRef(null),S=(0,UT.A)(_,o.ref,n),k=e=>t=>{if(e){const n=_.current;void 0===t?e(n):e(n,t)}},x=k(u),C=k(((e,t)=>{tR(e);const{duration:n,delay:r,easing:i}=nR({style:f,timeout:m,easing:s},{mode:"enter"});let o;"auto"===m?(o=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[w.transitions.create("opacity",{duration:o,delay:r}),w.transitions.create("transform",{duration:sR?o:.666*o,delay:r,easing:i})].join(","),l&&l(e,t)})),A=k(c),E=k(p),T=k((e=>{const{duration:t,delay:n,easing:r}=nR({style:f,timeout:m,easing:s},{mode:"exit"});let i;"auto"===m?(i=w.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[w.transitions.create("opacity",{duration:i,delay:n}),w.transitions.create("transform",{duration:sR?i:.666*i,delay:sR?n:n||.333*i,easing:r})].join(","),e.style.opacity=0,e.style.transform=iR(.75),d&&d(e)})),I=k(h);return(0,cT.jsx)(g,(0,hT.A)({appear:i,in:a,nodeRef:_,onEnter:C,onEntered:A,onEntering:x,onExit:T,onExited:I,onExiting:E,addEndListener:e=>{"auto"===m&&y.start(b.current||0,e),r&&r(_.current,e)},timeout:"auto"===m?null:m},v,{children:(e,n)=>t.cloneElement(o,(0,hT.A)({style:(0,hT.A)({opacity:0,transform:iR(.75),visibility:"exited"!==e||a?void 0:"hidden"},oR[e],f,o.props.style),ref:S},n))}))}));aR.muiSupportAuto=!0;const lR=aR;var cR=n(1678),uR=n(6304),dR=n(3410),hR=n(1510);function pR(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function fR(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function mR(e){return parseInt((0,hR.A)(e).getComputedStyle(e).paddingRight,10)||0}function gR(e,t,n,r,i){const o=[t,n,...r];[].forEach.call(e.children,(e=>{const t=-1===o.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&fR(e,i)}))}function vR(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function yR(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,cR.A)(e);return t.body===e?(0,hR.A)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=pR((0,cR.A)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(mR(r)+e,"px");const t=(0,cR.A)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(mR(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=(0,cR.A)(r).body;else{const t=r.parentElement,n=(0,hR.A)(r);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const bR=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&fR(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);gR(t,e.mount,e.modalRef,r,!0);const i=vR(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=vR(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=yR(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=vR(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&fR(e.modalRef,t),gR(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&fR(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};function wR(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:o=bR,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:u,open:d,rootRef:h}=e,p=t.useRef({}),f=t.useRef(null),m=t.useRef(null),g=(0,FI.A)(m,h),[v,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),S=()=>{o.mount(_(),{disableScrollLock:i}),m.current&&(m.current.scrollTop=0)},k=(0,uR.A)((()=>{const e=function(e){return"function"===typeof e?e():e}(n)||(0,cR.A)(f.current).body;o.add(_(),e),m.current&&S()})),x=t.useCallback((()=>o.isTopModal(_())),[o]),C=(0,uR.A)((e=>{f.current=e,e&&(d&&x()?S():m.current&&fR(m.current,w))})),A=t.useCallback((()=>{o.remove(_(),w)}),[w,o]);t.useEffect((()=>()=>{A()}),[A]),t.useEffect((()=>{d?k():b&&s||A()}),[d,A,b,s,k]);const E=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&x()&&(r||(t.stopPropagation(),u&&u(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&u&&u(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=zI(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=(0,hT.A)({},n,t);return(0,hT.A)({role:"presentation"},r,{onKeyDown:E(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,hT.A)({"aria-hidden":!0},e,{onClick:T(e),open:d})},getTransitionProps:()=>({onEnter:(0,dR.A)((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:(0,dR.A)((()=>{y(!0),l&&l(),s&&A()}),null==c?void 0:c.props.onExited)}),rootRef:g,portalRef:C,isTopModal:x,exited:v,hasTransition:b}}const _R=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function SR(e){const t=[],n=[];return Array.from(e.querySelectorAll(_R)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function kR(){return!0}function xR(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:s=SR,isEnabled:a=kR,open:l}=e,c=t.useRef(!1),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),p=t.useRef(null),f=t.useRef(!1),m=t.useRef(null),g=(0,FI.A)(n.ref,m),v=t.useRef(null);t.useEffect((()=>{l&&m.current&&(f.current=!r)}),[r,l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,cR.A)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),t.useEffect((()=>{if(!l||!m.current)return;const e=(0,cR.A)(m.current),t=t=>{v.current=t,!i&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(i&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==d.current||(n=s(m.current)),n.length>0){var r,o;const e=Boolean((null==(r=v.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=v.current)?void 0:o.key)),t=n[0],i=n[n.length-1];"string"!==typeof t&&"string"!==typeof i&&(e?i.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[r,i,o,a,l,s]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,cT.jsxs)(t.Fragment,{children:[(0,cT.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,cT.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelEnd"})]})}var CR=n(6362),AR=n(542);const ER=t.forwardRef((function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[a,l]=t.useState(null),c=(0,FI.A)(t.isValidElement(r)?r.ref:null,n);if((0,CR.A)((()=>{o||l(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,CR.A)((()=>{if(a&&!o)return(0,AR.A)(n,a),()=>{(0,AR.A)(n,null)}}),[n,a,o]),o){if(t.isValidElement(r)){const e={ref:c};return t.cloneElement(r,e)}return(0,cT.jsx)(t.Fragment,{children:r})}return(0,cT.jsx)(t.Fragment,{children:a?s.createPortal(r,a):a})}));const TR=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],IR={entering:{opacity:1},entered:{opacity:1}},RR=t.forwardRef((function(e,n){const r=ST(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:c,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v=i,TransitionComponent:y=eR}=e,b=(0,dT.A)(e,TR),w=t.useRef(null),_=(0,UT.A)(w,a.ref,n),S=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},k=S(h),x=S(((e,t)=>{tR(e);const n=nR({style:g,timeout:v,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),u&&u(e,t)})),C=S(d),A=S(m),E=S((e=>{const t=nR({style:g,timeout:v,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),p&&p(e)})),T=S(f);return(0,cT.jsx)(y,(0,hT.A)({appear:s,in:c,nodeRef:w,onEnter:x,onEntered:C,onEntering:k,onExit:E,onExited:T,onExiting:A,addEndListener:e=>{o&&o(w.current,e)},timeout:v},b,{children:(e,n)=>t.cloneElement(a,(0,hT.A)({style:(0,hT.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},IR[e],g,a.props.style),ref:_},n))}))})),NR=RR;function PR(e){return(0,CT.Ay)("MuiBackdrop",e)}(0,xT.A)("MuiBackdrop",["root","invisible"]);const OR=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],DR=(0,vT.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),MR=t.forwardRef((function(e,t){var n,r,i;const o=(0,yT.A)({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:u={},invisible:d=!1,open:h,slotProps:p={},slots:f={},TransitionComponent:m=NR,transitionDuration:g}=o,v=(0,dT.A)(o,OR),y=(0,hT.A)({},o,{component:l,invisible:d}),b=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,gT.A)(r,PR,t)})(y),w=null!=(n=p.root)?n:u.root;return(0,cT.jsx)(m,(0,hT.A)({in:h,timeout:g},v,{children:(0,cT.jsx)(DR,(0,hT.A)({"aria-hidden":!0},w,{as:null!=(r=null!=(i=f.root)?i:c.Root)?r:l,className:(0,pT.A)(b.root,a,null==w?void 0:w.className),ownerState:(0,hT.A)({},y,null==w?void 0:w.ownerState),classes:b,ref:t,children:s}))}))})),LR=MR;function FR(e){return(0,CT.Ay)("MuiModal",e)}(0,xT.A)("MuiModal",["root","hidden","backdrop"]);const jR=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],zR=(0,vT.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),UR=(0,vT.Ay)(LR,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),BR=t.forwardRef((function(e,n){var r,i,o,s,a,l;const c=(0,yT.A)({name:"MuiModal",props:e}),{BackdropComponent:u=UR,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:f,container:m,component:g,components:v={},componentsProps:y={},disableAutoFocus:b=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:_=!1,disablePortal:S=!1,disableRestoreFocus:k=!1,disableScrollLock:x=!1,hideBackdrop:C=!1,keepMounted:A=!1,onBackdropClick:E,open:T,slotProps:I,slots:R}=c,N=(0,dT.A)(c,jR),P=(0,hT.A)({},c,{closeAfterTransition:p,disableAutoFocus:b,disableEnforceFocus:w,disableEscapeKeyDown:_,disablePortal:S,disableRestoreFocus:k,disableScrollLock:x,hideBackdrop:C,keepMounted:A}),{getRootProps:O,getBackdropProps:D,getTransitionProps:M,portalRef:L,isTopModal:F,exited:j,hasTransition:z}=wR((0,hT.A)({},P,{rootRef:n})),U=(0,hT.A)({},P,{exited:j}),B=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,gT.A)(i,FR,r)})(U),V={};if(void 0===f.props.tabIndex&&(V.tabIndex="-1"),z){const{onEnter:e,onExited:t}=M();V.onEnter=e,V.onExited=t}const W=null!=(r=null!=(i=null==R?void 0:R.root)?i:v.Root)?r:zR,q=null!=(o=null!=(s=null==R?void 0:R.backdrop)?s:v.Backdrop)?o:u,H=null!=(a=null==I?void 0:I.root)?a:y.root,K=null!=(l=null==I?void 0:I.backdrop)?l:y.backdrop,G=VI({elementType:W,externalSlotProps:H,externalForwardedProps:N,getSlotProps:O,additionalProps:{ref:n,as:g},ownerState:U,className:(0,pT.A)(h,null==H?void 0:H.className,null==B?void 0:B.root,!U.open&&U.exited&&(null==B?void 0:B.hidden))}),Q=VI({elementType:q,externalSlotProps:K,additionalProps:d,getSlotProps:e=>D((0,hT.A)({},e,{onClick:t=>{E&&E(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,pT.A)(null==K?void 0:K.className,null==d?void 0:d.className,null==B?void 0:B.backdrop),ownerState:U});return A||T||z&&!j?(0,cT.jsx)(ER,{ref:L,container:m,disablePortal:S,children:(0,cT.jsxs)(W,(0,hT.A)({},G,{children:[!C&&u?(0,cT.jsx)(q,(0,hT.A)({},Q)):null,(0,cT.jsx)(xR,{disableEnforceFocus:w,disableAutoFocus:b,disableRestoreFocus:k,isEnabled:F,open:T,children:t.cloneElement(f,V)})]}))}):null})),VR=BR,WR=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function qR(e){return(0,CT.Ay)("MuiPaper",e)}(0,xT.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const HR=["className","component","elevation","square","variant"],KR=(0,vT.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((e=>{let{theme:t,ownerState:n}=e;var r;return(0,hT.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat((t.vars||t).palette.divider)},"elevation"===n.variant&&(0,hT.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,jT.X4)("#fff",WR(n.elevation)),", ").concat((0,jT.X4)("#fff",WR(n.elevation)),")")},t.vars&&{backgroundImage:null==(r=t.vars.overlays)?void 0:r[n.elevation]}))})),GR=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiPaper"}),{className:r,component:i="div",elevation:o=1,square:s=!1,variant:a="elevation"}=n,l=(0,dT.A)(n,HR),c=(0,hT.A)({},n,{component:i,elevation:o,square:s,variant:a}),u=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,gT.A)(o,qR,i)})(c);return(0,cT.jsx)(KR,(0,hT.A)({as:i,ownerState:c,className:(0,pT.A)(u.root,r),ref:t},l))})),QR=GR;function $R(e){return(0,CT.Ay)("MuiPopover",e)}(0,xT.A)("MuiPopover",["root","paper"]);const YR=["onEntering"],XR=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],JR=["slotProps"];function ZR(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function eN(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function tN(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function nN(e){return"function"===typeof e?e():e}const rN=(0,vT.Ay)(VR,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iN=(0,vT.Ay)(QR,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),oN=t.forwardRef((function(e,n){var r,i,o;const s=(0,yT.A)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:f,elevation:m=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:b,slotProps:w,transformOrigin:_={vertical:"top",horizontal:"left"},TransitionComponent:S=lR,transitionDuration:k="auto",TransitionProps:{onEntering:x}={},disableScrollLock:C=!1}=s,A=(0,dT.A)(s.TransitionProps,YR),E=(0,dT.A)(s,XR),T=null!=(r=null==w?void 0:w.paper)?r:y,I=t.useRef(),R=(0,UT.A)(I,T.ref),N=(0,hT.A)({},s,{anchorOrigin:c,anchorReference:d,elevation:m,marginThreshold:g,externalPaperSlotProps:T,transformOrigin:_,TransitionComponent:S,transitionDuration:k,TransitionProps:A}),P=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"],paper:["paper"]},$R,t)})(N),O=t.useCallback((()=>{if("anchorPosition"===d)return u;const e=nN(l),t=(e&&1===e.nodeType?e:(0,qI.A)(I.current).body).getBoundingClientRect();return{top:t.top+ZR(t,c.vertical),left:t.left+eN(t,c.horizontal)}}),[l,c.horizontal,c.vertical,u,d]),D=t.useCallback((e=>({vertical:ZR(e,_.vertical),horizontal:eN(e,_.horizontal)})),[_.horizontal,_.vertical]),M=t.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=D(t);if("none"===d)return{top:null,left:null,transformOrigin:tN(n)};const r=O();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,a=o+t.width,c=(0,HI.A)(nN(l)),u=c.innerHeight-g,h=c.innerWidth-g;if(null!==g&&i<g){const e=i-g;i-=e,n.vertical+=e}else if(null!==g&&s>u){const e=s-u;i-=e,n.vertical+=e}if(null!==g&&o<g){const e=o-g;o-=e,n.horizontal+=e}else if(a>h){const e=a-h;o-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:tN(n)}}),[l,d,O,D,g]),[L,F]=t.useState(v),j=t.useCallback((()=>{const e=I.current;if(!e)return;const t=M(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,F(!0)}),[M]);t.useEffect((()=>(C&&window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j))),[l,C,j]);t.useEffect((()=>{v&&j()})),t.useImperativeHandle(a,(()=>v?{updatePosition:()=>{j()}}:null),[v,j]),t.useEffect((()=>{if(!v)return;const e=(0,WI.A)((()=>{j()})),t=(0,HI.A)(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,v,j]);let z=k;"auto"!==k||S.muiSupportAuto||(z=void 0);const U=f||(l?(0,qI.A)(nN(l)).body:void 0),B=null!=(i=null==b?void 0:b.root)?i:rN,V=null!=(o=null==b?void 0:b.paper)?o:iN,W=VI({elementType:V,externalSlotProps:(0,hT.A)({},T,{style:L?T.style:(0,hT.A)({},T.style,{opacity:0})}),additionalProps:{elevation:m,ref:R},ownerState:N,className:(0,pT.A)(P.paper,null==T?void 0:T.className)}),q=VI({elementType:B,externalSlotProps:(null==w?void 0:w.root)||{},externalForwardedProps:E,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:U,open:v},ownerState:N,className:(0,pT.A)(P.root,p)}),{slotProps:H}=q,K=(0,dT.A)(q,JR);return(0,cT.jsx)(B,(0,hT.A)({},K,!jI(B)&&{slotProps:H,disableScrollLock:C},{children:(0,cT.jsx)(S,(0,hT.A)({appear:!0,in:v,onEntering:(e,t)=>{x&&x(e,t),j()},onExited:()=>{F(!1)},timeout:z},A,{children:(0,cT.jsx)(V,(0,hT.A)({},W,{children:h}))}))}))})),sN=oN;function aN(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function lN(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(aN(e.value)&&""!==e.value||t&&aN(e.defaultValue)&&""!==e.defaultValue)}var cN=n(522);const uN=t.createContext(void 0);function dN(e){return(0,CT.Ay)("MuiFormControl",e)}(0,xT.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const hN=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],pN=(0,vT.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,hT.A)({},t.root,t["margin".concat((0,CI.A)(n.margin))],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,hT.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),fN=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:f=!1,size:m="medium",variant:g="outlined"}=r,v=(0,dT.A)(r,hN),y=(0,hT.A)({},r,{color:s,component:a,disabled:l,error:c,fullWidth:d,hiddenLabel:h,margin:p,required:f,size:m,variant:g}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&"margin".concat((0,CI.A)(n)),r&&"fullWidth"]};return(0,gT.A)(i,dN,t)})(y),[w,_]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{if(!(0,cN.A)(t,["Input","Select"]))return;const n=(0,cN.A)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[S,k]=t.useState((()=>{let e=!1;return i&&t.Children.forEach(i,(t=>{(0,cN.A)(t,["Input","Select"])&&(lN(t.props,!0)||lN(t.props.inputProps,!0))&&(e=!0)})),e})),[x,C]=t.useState(!1);l&&x&&C(!1);const A=void 0===u||l?x:u;let E;const T=t.useMemo((()=>({adornedStart:w,setAdornedStart:_,color:s,disabled:l,error:c,filled:S,focused:A,fullWidth:d,hiddenLabel:h,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{k(!1)},onFilled:()=>{k(!0)},onFocus:()=>{C(!0)},registerEffect:E,required:f,variant:g})),[w,s,l,c,S,A,d,h,E,f,m,g]);return(0,cT.jsx)(uN.Provider,{value:T,children:(0,cT.jsx)(pN,(0,hT.A)({as:a,ownerState:y,className:(0,pT.A)(b.root,o),ref:n},v,{children:i}))})})),mN=fN;function gN(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce(((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e)),{})}function vN(){return t.useContext(uN)}function yN(e){return(0,CT.Ay)("MuiFormLabel",e)}const bN=(0,xT.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),wN=["children","className","color","component","disabled","error","filled","focused","required"],_N=(0,vT.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,hT.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(bN.focused)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(bN.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(bN.error)]:{color:(t.vars||t).palette.error.main}})})),SN=(0,vT.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(bN.error)]:{color:(t.vars||t).palette.error.main}}})),kN=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiFormLabel"}),{children:r,className:i,component:o="label"}=n,s=(0,dT.A)(n,wN),a=gN({props:n,muiFormControl:vN(),states:["color","required","focused","disabled","error","filled"]}),l=(0,hT.A)({},n,{color:a.color||"primary",component:o,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=e,l={root:["root","color".concat((0,CI.A)(n)),i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return(0,gT.A)(l,yN,t)})(l);return(0,cT.jsxs)(_N,(0,hT.A)({as:o,ownerState:l,className:(0,pT.A)(c.root,i),ref:t},s,{children:[r,a.required&&(0,cT.jsxs)(SN,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),xN=kN;function CN(e){return(0,CT.Ay)("MuiInputLabel",e)}(0,xT.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const AN=["disableAnimation","margin","shrink","variant","className"],EN=(0,vT.Ay)(xN,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(bN.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,hT.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,hT.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,hT.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),TN=t.forwardRef((function(e,t){const n=(0,yT.A)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:i,className:o}=n,s=(0,dT.A)(n,AN),a=vN();let l=i;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=gN({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),u=(0,hT.A)({},n,{disableAnimation:r,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=(e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=e,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&"normal"!==r&&"size".concat((0,CI.A)(r)),s],asterisk:[a&&"asterisk"]},c=(0,gT.A)(l,CN,t);return(0,hT.A)({},t,c)})(u);return(0,cT.jsx)(EN,(0,hT.A)({"data-shrink":l,ownerState:u,ref:t,className:(0,pT.A)(d.root,o)},s,{classes:d}))})),IN=TN;var RN=n(9950),NN=n(3174),PN=(n(1527),n(6550));const ON=t.createContext();const DN=()=>{const e=t.useContext(ON);return null!=e&&e};const MN=t.createContext({});function LN(e){return(0,CT.Ay)("MuiList",e)}(0,xT.A)("MuiList",["root","padding","dense","subheader"]);const FN=["children","className","component","dense","disablePadding","subheader"],jN=(0,vT.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),zN=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,u=(0,dT.A)(r,FN),d=t.useMemo((()=>({dense:a})),[a]),h=(0,hT.A)({},r,{component:s,dense:a,disablePadding:l}),p=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,gT.A)(o,LN,t)})(h);return(0,cT.jsx)(MN.Provider,{value:d,children:(0,cT.jsxs)(jN,(0,hT.A)({as:s,className:(0,pT.A)(p.root,o),ref:n,ownerState:h},u,{children:[c,i]}))})})),UN=zN,BN=pR;var VN=n(6959);const WN=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function qN(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function HN(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function KN(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function GN(e,t,n,r,i,o){let s=!1,a=i(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&KN(a,o)&&!t)return a.focus(),!0;a=i(e,a,n)}return!1}const QN=t.forwardRef((function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:u,variant:d="selectedMenu"}=e,h=(0,dT.A)(e,WN),p=t.useRef(null),f=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,VN.A)((()=>{i&&p.current.focus()}),[i]),t.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!p.current.style.width;if(e.clientHeight<p.current.clientHeight&&r){const t="".concat(BN((0,qI.A)(e)),"px");p.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,p.current.style.width="calc(100% + ".concat(t,")")}return p.current}})),[]);const m=(0,UT.A)(p,n);let g=-1;t.Children.forEach(s,((e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===d&&e.props.selected||-1===g)&&(g=n),g===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(g+=1,g>=s.length&&(g=-1))):g===n&&(g+=1,g>=s.length&&(g=-1))}));const v=t.Children.map(s,((e,n)=>{if(n===g){const n={};return o&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===d&&(n.tabIndex=0),t.cloneElement(e,n)}return e}));return(0,cT.jsx)(UN,(0,hT.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=p.current,n=e.key,r=(0,qI.A)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),GN(t,r,c,l,qN);else if("ArrowUp"===n)e.preventDefault(),GN(t,r,c,l,HN);else if("Home"===n)e.preventDefault(),GN(t,null,c,l,qN);else if("End"===n)e.preventDefault(),GN(t,null,c,l,HN);else if(1===n.length){const i=f.current,o=n.toLowerCase(),s=performance.now();i.keys.length>0&&(s-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=s,i.keys.push(o);const a=r&&!i.repeating&&KN(r,i);i.previousKeyMatched&&(a||GN(t,r,!1,l,qN,i))?e.preventDefault():i.previousKeyMatched=!1}u&&u(e)},tabIndex:i?0:-1},h,{children:v}))})),$N=QN;function YN(e){return(0,CT.Ay)("MuiMenu",e)}(0,xT.A)("MuiMenu",["root","paper","list"]);const XN=["onEntering"],JN=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ZN={vertical:"top",horizontal:"right"},eP={vertical:"top",horizontal:"left"},tP=(0,vT.Ay)(sN,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),nP=(0,vT.Ay)(iN,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),rP=(0,vT.Ay)($N,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),iP=t.forwardRef((function(e,n){var r,i;const o=(0,yT.A)({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:b={}}=o,w=(0,dT.A)(o.TransitionProps,XN),_=(0,dT.A)(o,JN),S=DN(),k=(0,hT.A)({},o,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:w,variant:v}),x=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"],paper:["paper"],list:["list"]},YN,t)})(k),C=s&&!c&&h,A=t.useRef(null);let E=-1;t.Children.map(a,((e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===E)&&(E=n))}));const T=null!=(r=y.paper)?r:nP,I=null!=(i=b.paper)?i:p,R=VI({elementType:y.root,externalSlotProps:b.root,ownerState:k,className:[x.root,l]}),N=VI({elementType:T,externalSlotProps:I,ownerState:k,className:x.paper});return(0,cT.jsx)(tP,(0,hT.A)({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?ZN:eP,slots:{paper:T,root:y.root},slotProps:{root:R,paper:N},open:h,ref:n,transitionDuration:m,TransitionProps:(0,hT.A)({onEntering:(e,t)=>{A.current&&A.current.adjustStyleForScrollbar(e,{direction:S?"rtl":"ltr"}),g&&g(e,t)}},w),ownerState:k},_,{classes:f,children:(0,cT.jsx)(rP,(0,hT.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:A,autoFocus:s&&(-1===E||c),autoFocusItem:C,variant:v},u,{className:(0,pT.A)(x.list,u.className),children:a}))}))})),oP=iP;function sP(e){return(0,CT.Ay)("MuiNativeSelect",e)}const aP=(0,xT.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lP=["className","disabled","error","IconComponent","inputRef","variant"],cP=e=>{let{ownerState:t,theme:n}=e;return(0,hT.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,hT.A)({},n.vars?{backgroundColor:"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(aP.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},uP=(0,vT.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:zT.A,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(aP.multiple)]:t.multiple}]}})(cP),dP=e=>{let{ownerState:t,theme:n}=e;return(0,hT.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,["&.".concat(aP.disabled)]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},hP=(0,vT.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,CI.A)(n.variant))],n.open&&t.iconOpen]}})(dP),pP=t.forwardRef((function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,dT.A)(e,lP),u=(0,hT.A)({},e,{disabled:i,variant:l,error:o}),d=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,CI.A)(n)),o&&"iconOpen",r&&"disabled"]};return(0,gT.A)(a,sP,t)})(u);return(0,cT.jsxs)(t.Fragment,{children:[(0,cT.jsx)(uP,(0,hT.A)({ownerState:u,className:(0,pT.A)(d.select,r),disabled:i,ref:a||n},c)),e.multiple?null:(0,cT.jsx)(hP,{as:s,ownerState:u,className:d.icon})]})})),fP=pP;var mP=n(405),gP=n(8545);function vP(e){return(0,CT.Ay)("MuiSelect",e)}const yP=(0,xT.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var bP;const wP=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],_P=(0,vT.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(yP.select)]:t.select},{["&.".concat(yP.select)]:t[n.variant]},{["&.".concat(yP.error)]:t.error},{["&.".concat(yP.multiple)]:t.multiple}]}})(cP,{["&.".concat(yP.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SP=(0,vT.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat((0,CI.A)(n.variant))],n.open&&t.iconOpen]}})(dP),kP=(0,vT.Ay)("input",{shouldForwardProp:e=>(0,mP.A)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xP(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function CP(e){return null==e||"string"===typeof e&&!e.trim()}const AP=t.forwardRef((function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:f=!1,IconComponent:m,inputRef:g,labelId:v,MenuProps:y={},multiple:b,name:w,onBlur:_,onChange:S,onClose:k,onFocus:x,onOpen:C,open:A,readOnly:E,renderValue:T,SelectDisplayProps:I={},tabIndex:R,value:N,variant:P="standard"}=e,O=(0,dT.A)(e,wP),[D,M]=(0,gP.A)({controlled:N,default:d,name:"Select"}),[L,F]=(0,gP.A)({controlled:A,default:u,name:"Select"}),j=t.useRef(null),z=t.useRef(null),[U,B]=t.useState(null),{current:V}=t.useRef(null!=A),[W,q]=t.useState(),H=(0,UT.A)(n,g),K=t.useCallback((e=>{z.current=e,e&&B(e)}),[]),G=null==U?void 0:U.parentNode;t.useImperativeHandle(H,(()=>({focus:()=>{z.current.focus()},node:j.current,value:D})),[D]),t.useEffect((()=>{u&&L&&U&&!V&&(q(a?null:G.clientWidth),z.current.focus())}),[U,a]),t.useEffect((()=>{s&&z.current.focus()}),[s]),t.useEffect((()=>{if(!v)return;const e=(0,qI.A)(z.current).getElementById(v);if(e){const t=()=>{getSelection().isCollapsed&&z.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[v]);const Q=(e,t)=>{e?C&&C(t):k&&k(t),V||(q(a?null:G.clientWidth),F(e))},$=t.Children.toArray(l),Y=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(b){n=Array.isArray(D)?D.slice():[];const t=D.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),D!==n&&(M(n),S)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:w}}),S(i,e)}b||Q(!1,t)}},X=null!==U&&L;let J,Z;delete O["aria-invalid"];const ee=[];let te=!1,ne=!1;(lN({value:D})||p)&&(T?J=T(D):te=!0);const re=$.map((e=>{if(!t.isValidElement(e))return null;let n;if(b){if(!Array.isArray(D))throw new Error((0,NN.A)(2));n=D.some((t=>xP(t,e.props.value))),n&&te&&ee.push(e.props.children)}else n=xP(D,e.props.value),n&&te&&(Z=e.props.children);return n&&(ne=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:Y(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})}));te&&(J=b?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):Z);let ie,oe=W;!a&&V&&U&&(oe=G.clientWidth),ie="undefined"!==typeof R?R:h?null:0;const se=I.id||(w?"mui-component-select-".concat(w):void 0),ae=(0,hT.A)({},e,{variant:P,value:D,open:X,error:f}),le=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o,error:s}=e,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon","icon".concat((0,CI.A)(n)),o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,gT.A)(a,vP,t)})(ae),ce=(0,hT.A)({},y.PaperProps,null==(r=y.slotProps)?void 0:r.paper),ue=(0,PN.A)();return(0,cT.jsxs)(t.Fragment,{children:[(0,cT.jsx)(_P,(0,hT.A)({ref:K,tabIndex:ie,role:"combobox","aria-controls":ue,"aria-disabled":h?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,se].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:e=>{if(!E){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),Q(!0,e))}},onMouseDown:h||E?null:e=>{0===e.button&&(e.preventDefault(),z.current.focus(),Q(!0,e))},onBlur:e=>{!X&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:D,name:w}}),_(e))},onFocus:x},I,{ownerState:ae,className:(0,pT.A)(I.className,le.select,c),id:se,children:CP(J)?bP||(bP=(0,cT.jsx)("span",{className:"notranslate",children:"\u200b"})):J})),(0,cT.jsx)(kP,(0,hT.A)({"aria-invalid":f,value:Array.isArray(D)?D.join(","):D,name:w,ref:j,"aria-hidden":!0,onChange:e=>{const t=$.find((t=>t.props.value===e.target.value));void 0!==t&&(M(t.props.value),S&&S(e,t))},tabIndex:-1,disabled:h,className:le.nativeInput,autoFocus:s,ownerState:ae},O)),(0,cT.jsx)(SP,{as:m,className:le.icon,ownerState:ae}),(0,cT.jsx)(oP,(0,hT.A)({id:"menu-".concat(w||""),anchorEl:G,open:X,onClose:e=>{Q(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,hT.A)({"aria-labelledby":v,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ue},y.MenuListProps),slotProps:(0,hT.A)({},y.slotProps,{paper:(0,hT.A)({},ce,{style:(0,hT.A)({minWidth:oe},null!=ce?ce.style:null)})}),children:re}))]})})),EP=AP;var TP=n(8133);const IP=(0,TP.A)((0,cT.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var RP=n(1430);const NP=["onChange","maxRows","minRows","style","value"];function PP(e){return parseInt(e,10)||0}const OP={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const DP=t.forwardRef((function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=(0,dT.A)(e,NP),{current:c}=t.useRef(null!=a),u=t.useRef(null),d=(0,FI.A)(n,u),h=t.useRef(null),p=t.useCallback((()=>{const t=u.current,n=(0,hR.A)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};const r=h.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const s=n.boxSizing,a=PP(n.paddingBottom)+PP(n.paddingTop),l=PP(n.borderBottomWidth)+PP(n.borderTopWidth),c=r.scrollHeight;r.value="x";const d=r.scrollHeight;let p=c;o&&(p=Math.max(Number(o)*d,p)),i&&(p=Math.min(Number(i)*d,p)),p=Math.max(p,d);return{outerHeightStyle:p+("border-box"===s?a+l:0),overflowing:Math.abs(p-c)<=1}}),[i,o,e.placeholder]),f=t.useCallback((()=>{const e=p();if(void 0===(t=e)||null===t||0===Object.keys(t).length||0===t.outerHeightStyle&&!t.overflowing)return;var t;const n=u.current;n.style.height="".concat(e.outerHeightStyle,"px"),n.style.overflow=e.overflowing?"hidden":""}),[p]);(0,CR.A)((()=>{const e=()=>{f()};let t;const n=(0,RP.A)(e),r=u.current,i=(0,hR.A)(r);let o;return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(o=new ResizeObserver(e),o.observe(r)),()=>{n.clear(),cancelAnimationFrame(t),i.removeEventListener("resize",n),o&&o.disconnect()}}),[p,f]),(0,CR.A)((()=>{f()}));return(0,cT.jsxs)(t.Fragment,{children:[(0,cT.jsx)("textarea",(0,hT.A)({value:a,onChange:e=>{c||f(),r&&r(e)},ref:d,rows:o,style:s},l)),(0,cT.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,hT.A)({},OP,s,{paddingTop:0,paddingBottom:0})})]})}));var MP=n(2519);const LP=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=(0,bT.A)(r),o="function"===typeof t?t(n&&i[n]||i):t;return(0,cT.jsx)(MP.A,{styles:o})};const FP=function(e){return(0,cT.jsx)(LP,(0,hT.A)({},e,{defaultTheme:wT.A,themeId:_T.A}))};function jP(e){return(0,CT.Ay)("MuiInputBase",e)}const zP=(0,xT.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),UP=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],BP=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,CI.A)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},VP=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},WP=(0,vT.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:BP})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(zP.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,hT.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),qP=(0,vT.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:VP})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode,i=(0,hT.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,hT.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(zP.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},["&.".concat(zP.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),HP=(0,cT.jsx)(FP,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),KP=t.forwardRef((function(e,n){var r;const i=(0,yT.A)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:v="input",inputProps:y={},inputRef:b,maxRows:w,minRows:_,multiline:S=!1,name:k,onBlur:x,onChange:C,onClick:A,onFocus:E,onKeyDown:T,onKeyUp:I,placeholder:R,readOnly:N,renderSuffix:P,rows:O,slotProps:D={},slots:M={},startAdornment:L,type:F="text",value:j}=i,z=(0,dT.A)(i,UP),U=null!=y.value?y.value:j,{current:B}=t.useRef(null!=U),V=t.useRef(),W=t.useCallback((e=>{0}),[]),q=(0,UT.A)(V,b,y.ref,W),[H,K]=t.useState(!1),G=vN();const Q=gN({props:i,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=G?G.focused:H,t.useEffect((()=>{!G&&h&&H&&(K(!1),x&&x())}),[G,h,H,x]);const $=G&&G.onFilled,Y=G&&G.onEmpty,X=t.useCallback((e=>{lN(e)?$&&$():Y&&Y()}),[$,Y]);(0,VN.A)((()=>{B&&X({value:U})}),[U,X,B]);t.useEffect((()=>{X(V.current)}),[]);let J=v,Z=y;S&&"input"===J&&(Z=O?(0,hT.A)({type:void 0,minRows:O,maxRows:O},Z):(0,hT.A)({type:void 0,maxRows:w,minRows:_},Z),J=DP);t.useEffect((()=>{G&&G.setAdornedStart(Boolean(L))}),[G,L]);const ee=(0,hT.A)({},i,{color:Q.color||"primary",disabled:Q.disabled,endAdornment:f,error:Q.error,focused:Q.focused,formControl:G,fullWidth:m,hiddenLabel:Q.hiddenLabel,multiline:S,size:Q.size,startAdornment:L,type:F}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:d,size:h,startAdornment:p,type:f}=e,m={root:["root","color".concat((0,CI.A)(n)),r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&"medium"!==h&&"size".concat((0,CI.A)(h)),u&&"multiline",p&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===f&&"inputTypeSearch",u&&"inputMultiline","small"===h&&"inputSizeSmall",c&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return(0,gT.A)(m,jP,t)})(ee),ne=M.root||c.Root||WP,re=D.root||u.root||{},ie=M.input||c.Input||qP;return Z=(0,hT.A)({},Z,null!=(r=D.input)?r:u.input),(0,cT.jsxs)(t.Fragment,{children:[!p&&HP,(0,cT.jsxs)(ne,(0,hT.A)({},re,!jI(ne)&&{ownerState:(0,hT.A)({},ee,re.ownerState)},{ref:n,onClick:e=>{V.current&&e.currentTarget===e.target&&V.current.focus(),A&&A(e)}},z,{className:(0,pT.A)(te.root,re.className,l,N&&"MuiInputBase-readOnly"),children:[L,(0,cT.jsx)(uN.Provider,{value:null,children:(0,cT.jsx)(ie,(0,hT.A)({ownerState:ee,"aria-invalid":Q.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:Q.disabled,id:g,onAnimationStart:e=>{X("mui-auto-fill-cancel"===e.animationName?V.current:{value:"x"})},name:k,placeholder:R,readOnly:N,required:Q.required,rows:O,value:U,onKeyDown:T,onKeyUp:I,type:F},Z,!jI(ie)&&{as:J,ownerState:(0,hT.A)({},ee,Z.ownerState)},{ref:q,className:(0,pT.A)(te.input,Z.className,N&&"MuiInputBase-readOnly"),onBlur:e=>{x&&x(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):K(!1)},onChange:function(e){if(!B){const t=e.target||V.current;if(null==t)throw new Error((0,NN.A)(1));X({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{Q.disabled?e.stopPropagation():(E&&E(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):K(!0))}}))}),f,P?P((0,hT.A)({},Q,{startAdornment:L})):null]}))]})})),GP=KP;function QP(e){return(0,CT.Ay)("MuiInput",e)}const $P=(0,hT.A)({},zP,(0,xT.A)("MuiInput",["root","underline","input"])),YP=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],XP=(0,vT.Ay)(WP,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...BP(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let r="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r="rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")")),(0,hT.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat($P.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat($P.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat($P.disabled,", .").concat($P.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}},["&.".concat($P.disabled,":before")]:{borderBottomStyle:"dotted"}})})),JP=(0,vT.Ay)(qP,{name:"MuiInput",slot:"Input",overridesResolver:VP})({}),ZP=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,yT.A)({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:f={},type:m="text"}=s,g=(0,dT.A)(s,YP),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,gT.A)(r,QP,t);return(0,hT.A)({},t,i)})(s),y={root:{ownerState:{disableUnderline:a}}},b=(null!=p?p:c)?(0,RN.A)(null!=p?p:c,y):y,w=null!=(n=null!=(r=f.root)?r:l.Root)?n:XP,_=null!=(i=null!=(o=f.input)?o:l.Input)?i:JP;return(0,cT.jsx)(GP,(0,hT.A)({slots:{root:w,input:_},slotProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:t,type:m},g,{classes:v}))}));ZP.muiName="Input";const eO=ZP;function tO(e){return(0,CT.Ay)("MuiFilledInput",e)}const nO=(0,hT.A)({},zP,(0,xT.A)("MuiFilledInput",["root","underline","input"])),rO=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],iO=(0,vT.Ay)(WP,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...BP(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var r;const i="light"===t.palette.mode,o=i?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=i?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=i?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=i?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,hT.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},["&.".concat(nO.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},["&.".concat(nO.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(r=(t.vars||t).palette[n.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(nO.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(nO.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / ").concat(t.vars.opacity.inputUnderline,")"):o),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(nO.disabled,", .").concat(nO.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(nO.disabled,":before")]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,hT.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),oO=(0,vT.Ay)(qP,{name:"MuiFilledInput",slot:"Input",overridesResolver:VP})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),sO=t.forwardRef((function(e,t){var n,r,i,o;const s=(0,yT.A)({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:h,slots:p={},type:f="text"}=s,m=(0,dT.A)(s,rO),g=(0,hT.A)({},s,{fullWidth:c,inputComponent:u,multiline:d,type:f}),v=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},i=(0,gT.A)(r,tO,t);return(0,hT.A)({},t,i)})(s),y={root:{ownerState:g},input:{ownerState:g}},b=(null!=h?h:l)?(0,RN.A)(y,null!=h?h:l):y,w=null!=(n=null!=(r=p.root)?r:a.Root)?n:iO,_=null!=(i=null!=(o=p.input)?o:a.Input)?i:oO;return(0,cT.jsx)(GP,(0,hT.A)({slots:{root:w,input:_},componentsProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:t,type:f},m,{classes:v}))}));sO.muiName="Input";const aO=sO;var lO;const cO=["children","classes","className","label","notched"],uO=(0,vT.Ay)("fieldset",{shouldForwardProp:zT.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),dO=(0,vT.Ay)("legend",{shouldForwardProp:zT.A})((e=>{let{ownerState:t,theme:n}=e;return(0,hT.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,hT.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function hO(e){return(0,CT.Ay)("MuiOutlinedInput",e)}const pO=(0,hT.A)({},zP,(0,xT.A)("MuiOutlinedInput",["root","notchedOutline","input"])),fO=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],mO=(0,vT.Ay)(WP,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:BP})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,hT.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(pO.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(pO.notchedOutline)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):r}},["&.".concat(pO.focused," .").concat(pO.notchedOutline)]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},["&.".concat(pO.error," .").concat(pO.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(pO.disabled," .").concat(pO.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,hT.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),gO=(0,vT.Ay)((function(e){const{className:t,label:n,notched:r}=e,i=(0,dT.A)(e,cO),o=null!=n&&""!==n,s=(0,hT.A)({},e,{notched:r,withLabel:o});return(0,cT.jsx)(uO,(0,hT.A)({"aria-hidden":!0,className:t,ownerState:s},i,{children:(0,cT.jsx)(dO,{ownerState:s,children:o?(0,cT.jsx)("span",{children:n}):lO||(lO=(0,cT.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),vO=(0,vT.Ay)(qP,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:VP})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),yO=t.forwardRef((function(e,n){var r,i,o,s,a;const l=(0,yT.A)({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:f,slots:m={},type:g="text"}=l,v=(0,dT.A)(l,fO),y=(e=>{const{classes:t}=e,n=(0,gT.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},hO,t);return(0,hT.A)({},t,n)})(l),b=vN(),w=gN({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),_=(0,hT.A)({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:b,fullWidth:u,hiddenLabel:w.hiddenLabel,multiline:p,size:w.size,type:g}),S=null!=(r=null!=(i=m.root)?i:c.Root)?r:mO,k=null!=(o=null!=(s=m.input)?s:c.Input)?o:vO;return(0,cT.jsx)(GP,(0,hT.A)({slots:{root:S,input:k},renderSuffix:e=>(0,cT.jsx)(gO,{ownerState:_,className:y.notchedOutline,label:null!=h&&""!==h&&w.required?a||(a=(0,cT.jsxs)(t.Fragment,{children:[h,"\u2009","*"]})):h,notched:"undefined"!==typeof f?f:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:n,type:g},v,{classes:(0,hT.A)({},y,{notchedOutline:null})}))}));yO.muiName="Input";const bO=yO,wO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_O=["root"],SO={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,zT.A)(e)&&"variant"!==e,slot:"Root"},kO=(0,vT.Ay)(eO,SO)(""),xO=(0,vT.Ay)(bO,SO)(""),CO=(0,vT.Ay)(aO,SO)(""),AO=t.forwardRef((function(e,n){const r=(0,yT.A)({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:u=IP,id:d,input:h,inputProps:p,label:f,labelId:m,MenuProps:g,multiple:v=!1,native:y=!1,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:k,variant:x="outlined"}=r,C=(0,dT.A)(r,wO),A=y?fP:EP,E=gN({props:r,muiFormControl:vN(),states:["variant","error"]}),T=E.variant||x,I=(0,hT.A)({},r,{variant:T,classes:s}),R=(e=>{const{classes:t}=e;return t})(I),N=(0,dT.A)(R,_O),P=h||{standard:(0,cT.jsx)(kO,{ownerState:I}),outlined:(0,cT.jsx)(xO,{label:f,ownerState:I}),filled:(0,cT.jsx)(CO,{ownerState:I})}[T],O=(0,UT.A)(n,P.ref);return(0,cT.jsx)(t.Fragment,{children:t.cloneElement(P,(0,hT.A)({inputComponent:A,inputProps:(0,hT.A)({children:o,error:E.error,IconComponent:u,variant:T,type:void 0,multiple:v},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:g,onClose:b,onOpen:w,open:_,renderValue:S,SelectDisplayProps:(0,hT.A)({id:d},k)},p,{classes:p?(0,RN.A)(N,p.classes):N},h?h.props.inputProps:{})},(v&&y||c)&&"outlined"===T?{notched:!0}:{},{ref:O,className:(0,pT.A)(P.props.className,a,R.root)},!h&&{variant:T},C))})}));AO.muiName="Select";const EO=AO,TO=(0,TP.A)((0,cT.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function IO(e){return(0,CT.Ay)("MuiChip",e)}const RO=(0,xT.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),NO=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],PO=(0,vT.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:i,clickable:o,onDelete:s,size:a,variant:l}=n;return[{["& .".concat(RO.avatar)]:t.avatar},{["& .".concat(RO.avatar)]:t["avatar".concat((0,CI.A)(a))]},{["& .".concat(RO.avatar)]:t["avatarColor".concat((0,CI.A)(r))]},{["& .".concat(RO.icon)]:t.icon},{["& .".concat(RO.icon)]:t["icon".concat((0,CI.A)(a))]},{["& .".concat(RO.icon)]:t["iconColor".concat((0,CI.A)(i))]},{["& .".concat(RO.deleteIcon)]:t.deleteIcon},{["& .".concat(RO.deleteIcon)]:t["deleteIcon".concat((0,CI.A)(a))]},{["& .".concat(RO.deleteIcon)]:t["deleteIconColor".concat((0,CI.A)(r))]},{["& .".concat(RO.deleteIcon)]:t["deleteIcon".concat((0,CI.A)(l),"Color").concat((0,CI.A)(r))]},t.root,t["size".concat((0,CI.A)(a))],t["color".concat((0,CI.A)(r))],o&&t.clickable,o&&"default"!==r&&t["clickableColor".concat((0,CI.A)(r),")")],s&&t.deletable,s&&"default"!==r&&t["deletableColor".concat((0,CI.A)(r))],t[l],t["".concat(l).concat((0,CI.A)(r))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,hT.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(RO.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(RO.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:r,fontSize:t.typography.pxToRem(12)},["& .".concat(RO.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(RO.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(RO.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(RO.icon)]:(0,hT.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,hT.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:r},"default"!==n.color&&{color:"inherit"})),["& .".concat(RO.deleteIcon)]:(0,hT.A)({WebkitTapHighlightColor:"transparent",color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.26)"):(0,jT.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / 0.4)"):(0,jT.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?"rgba(".concat(t.vars.palette[n.color].contrastTextChannel," / 0.7)"):(0,jT.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{["&.".concat(RO.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,jT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{["&.".concat(RO.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,jT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},["&.".concat(RO.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.selectedChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,jT.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{["&:hover, &.".concat(RO.focusVisible)]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(RO.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(RO.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(RO.avatar)]:{marginLeft:4},["& .".concat(RO.avatarSmall)]:{marginLeft:2},["& .".concat(RO.icon)]:{marginLeft:4},["& .".concat(RO.iconSmall)]:{marginLeft:2},["& .".concat(RO.deleteIcon)]:{marginRight:5},["& .".concat(RO.deleteIconSmall)]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:"1px solid ".concat(t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,jT.X4)(t.palette[n.color].main,.7)),["&.".concat(RO.clickable,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},["&.".concat(RO.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.focusOpacity,")"):(0,jT.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},["& .".concat(RO.deleteIcon)]:{color:t.vars?"rgba(".concat(t.vars.palette[n.color].mainChannel," / 0.7)"):(0,jT.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),OO=(0,vT.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat((0,CI.A)(r))]]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function DO(e){return"Backspace"===e.key||"Delete"===e.key}const MO=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiChip"}),{avatar:i,className:o,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:u=!1,icon:d,label:h,onClick:p,onDelete:f,onKeyDown:m,onKeyUp:g,size:v="medium",variant:y="filled",tabIndex:b,skipFocusWhenDisabled:w=!1}=r,_=(0,dT.A)(r,NO),S=t.useRef(null),k=(0,UT.A)(S,n),x=e=>{e.stopPropagation(),f&&f(e)},C=!(!1===s||!p)||s,A=C||f?xI:l||"div",E=(0,hT.A)({},r,{component:A,disabled:u,size:v,color:a,iconColor:t.isValidElement(d)&&d.props.color||a,onDelete:!!f,clickable:C,variant:y}),T=(e=>{const{classes:t,disabled:n,size:r,color:i,iconColor:o,onDelete:s,clickable:a,variant:l}=e,c={root:["root",l,n&&"disabled","size".concat((0,CI.A)(r)),"color".concat((0,CI.A)(i)),a&&"clickable",a&&"clickableColor".concat((0,CI.A)(i)),s&&"deletable",s&&"deletableColor".concat((0,CI.A)(i)),"".concat(l).concat((0,CI.A)(i))],label:["label","label".concat((0,CI.A)(r))],avatar:["avatar","avatar".concat((0,CI.A)(r)),"avatarColor".concat((0,CI.A)(i))],icon:["icon","icon".concat((0,CI.A)(r)),"iconColor".concat((0,CI.A)(o))],deleteIcon:["deleteIcon","deleteIcon".concat((0,CI.A)(r)),"deleteIconColor".concat((0,CI.A)(i)),"deleteIcon".concat((0,CI.A)(l),"Color").concat((0,CI.A)(i))]};return(0,gT.A)(c,IO,t)})(E),I=A===xI?(0,hT.A)({component:l||"div",focusVisibleClassName:T.focusVisible},f&&{disableRipple:!0}):{};let R=null;f&&(R=c&&t.isValidElement(c)?t.cloneElement(c,{className:(0,pT.A)(c.props.className,T.deleteIcon),onClick:x}):(0,cT.jsx)(TO,{className:(0,pT.A)(T.deleteIcon),onClick:x}));let N=null;i&&t.isValidElement(i)&&(N=t.cloneElement(i,{className:(0,pT.A)(T.avatar,i.props.className)}));let P=null;return d&&t.isValidElement(d)&&(P=t.cloneElement(d,{className:(0,pT.A)(T.icon,d.props.className)})),(0,cT.jsxs)(PO,(0,hT.A)({as:A,className:(0,pT.A)(T.root,o),disabled:!(!C||!u)||void 0,onClick:p,onKeyDown:e=>{e.currentTarget===e.target&&DO(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(f&&DO(e)?f(e):"Escape"===e.key&&S.current&&S.current.blur()),g&&g(e)},ref:k,tabIndex:w&&u?-1:b,ownerState:E},I,_,{children:[N||P,(0,cT.jsx)(OO,{className:(0,pT.A)(T.label),ownerState:E,children:h}),R]}))})),LO=MO;const FO=(0,xT.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const jO=(0,xT.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);function zO(e){return(0,CT.Ay)("MuiListItemText",e)}const UO=(0,xT.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function BO(e){return(0,CT.Ay)("MuiMenuItem",e)}const VO=(0,xT.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),WO=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],qO=(0,vT.Ay)(xI,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(VO.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(VO.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(VO.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(VO.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(VO.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(FO.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(FO.inset)]:{marginLeft:52},["& .".concat(UO.root)]:{marginTop:0,marginBottom:0},["& .".concat(UO.inset)]:{paddingLeft:36},["& .".concat(jO.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,hT.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(jO.root," svg")]:{fontSize:"1.25rem"}}))})),HO=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:u="menuitem",tabIndex:d,className:h}=r,p=(0,dT.A)(r,WO),f=t.useContext(MN),m=t.useMemo((()=>({dense:s||f.dense||!1,disableGutters:l})),[f.dense,s,l]),g=t.useRef(null);(0,VN.A)((()=>{i&&g.current&&g.current.focus()}),[i]);const v=(0,hT.A)({},r,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=e,a={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},l=(0,gT.A)(a,BO,s);return(0,hT.A)({},s,l)})(r),b=(0,UT.A)(g,n);let w;return r.disabled||(w=void 0!==d?d:-1),(0,cT.jsx)(MN.Provider,{value:m,children:(0,cT.jsx)(qO,(0,hT.A)({ref:b,role:u,tabIndex:w,component:o,focusVisibleClassName:(0,pT.A)(y.focusVisible,c),className:(0,pT.A)(y.root,h)},p,{ownerState:v,classes:y}))})})),KO=HO;function GO(e){return(0,CT.Ay)("MuiTypography",e)}(0,xT.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const QO=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],$O=(0,vT.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,CI.A)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),YO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},XO={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},JO=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiTypography"}),r=(e=>XO[e]||e)(n.color),i=(0,mT.A)((0,hT.A)({},n,{color:r})),{align:o="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:u=!1,variant:d="body1",variantMapping:h=YO}=i,p=(0,dT.A)(i,QO),f=(0,hT.A)({},i,{align:o,color:r,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:u,variant:d,variantMapping:h}),m=a||(u?"p":h[d]||YO[d])||"span",g=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=e,a={root:["root",o,"inherit"!==e.align&&"align".concat((0,CI.A)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,gT.A)(a,GO,s)})(f);return(0,cT.jsx)($O,(0,hT.A)({as:m,ref:t,ownerState:f,className:(0,pT.A)(g.root,s)},p))})),ZO=JO;var eD=n(4117),tD=n(1506);const nD=["className","component"];var rD=n(6796),iD=n(670);const oD=(0,xT.A)("MuiBox",["root"]),sD=(0,iD.A)(),aD=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:i="MuiBox-root",generateClassName:o}=e,s=(0,eD.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(tD.A),a=t.forwardRef((function(e,t){const a=(0,bT.A)(r),l=(0,mT.A)(e),{className:c,component:u="div"}=l,d=(0,dT.A)(l,nD);return(0,cT.jsx)(s,(0,hT.A)({as:u,ref:t,className:(0,pT.A)(c,o?o(i):i),theme:n&&a[n]||a},d))}));return a}({themeId:_T.A,defaultTheme:sD,defaultClassName:oD.root,generateClassName:rD.A.generate}),lD=aD;function cD(e){return(0,CT.Ay)("MuiFormHelperText",e)}const uD=(0,xT.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var dD;const hD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],pD=(0,vT.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat((0,CI.A)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(uD.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(uD.error)]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),fD=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiFormHelperText"}),{children:r,className:i,component:o="p"}=n,s=(0,dT.A)(n,hD),a=gN({props:n,muiFormControl:vN(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,hT.A)({},n,{component:o,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=e,c={root:["root",i&&"disabled",o&&"error",r&&"size".concat((0,CI.A)(r)),n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return(0,gT.A)(c,cD,t)})(l);return(0,cT.jsx)(pD,(0,hT.A)({as:o,ownerState:l,className:(0,pT.A)(c.root,i),ref:t},s,{children:" "===r?dD||(dD=(0,cT.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),mD=fD;function gD(e){return(0,CT.Ay)("MuiTextField",e)}(0,xT.A)("MuiTextField",["root"]);const vD=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],yD={standard:eO,filled:aO,outlined:bO},bD=(0,vT.Ay)(mN,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),wD=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:i=!1,children:o,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:u=!1,FormHelperTextProps:d,fullWidth:h=!1,helperText:p,id:f,InputLabelProps:m,inputProps:g,InputProps:v,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:k,onBlur:x,onChange:C,onFocus:A,placeholder:E,required:T=!1,rows:I,select:R=!1,SelectProps:N,type:P,value:O,variant:D="outlined"}=n,M=(0,dT.A)(n,vD),L=(0,hT.A)({},n,{autoFocus:i,color:a,disabled:c,error:u,fullWidth:h,multiline:S,required:T,select:R,variant:D}),F=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"]},gD,t)})(L);const j={};"outlined"===D&&(m&&"undefined"!==typeof m.shrink&&(j.notched=m.shrink),j.label=b),R&&(N&&N.native||(j.id=void 0),j["aria-describedby"]=void 0);const z=(0,PN.A)(f),U=p&&z?"".concat(z,"-helper-text"):void 0,B=b&&z?"".concat(z,"-label"):void 0,V=yD[D],W=(0,cT.jsx)(V,(0,hT.A)({"aria-describedby":U,autoComplete:r,autoFocus:i,defaultValue:l,fullWidth:h,multiline:S,name:k,rows:I,maxRows:w,minRows:_,type:P,value:O,id:z,inputRef:y,onBlur:x,onChange:C,onFocus:A,placeholder:E,inputProps:g},j,v));return(0,cT.jsxs)(bD,(0,hT.A)({className:(0,pT.A)(F.root,s),disabled:c,error:u,fullWidth:h,ref:t,required:T,color:a,variant:D,ownerState:L},M,{children:[null!=b&&""!==b&&(0,cT.jsx)(IN,(0,hT.A)({htmlFor:z,id:B},m,{children:b})),R?(0,cT.jsx)(EO,(0,hT.A)({"aria-describedby":U,id:z,labelId:B,value:O,input:W},N,{children:o})):W,p&&(0,cT.jsx)(mD,(0,hT.A)({id:U},d,{children:p}))]}))})),_D=wD;let SD=function(e){return e[e.Vorspeise=0]="Vorspeise",e[e["Fr\xfchst\xfcck"]=1]="Fr\xfchst\xfcck",e[e.Mittagessen=2]="Mittagessen",e[e.Abendessen=3]="Abendessen",e[e.Snack=4]="Snack",e[e.Vegan=5]="Vegan",e[e.Vegetarisch=6]="Vegetarisch",e[e.Fleisch=7]="Fleisch",e[e.Fisch=8]="Fisch",e[e.Suppe=9]="Suppe",e[e.Auflauf=10]="Auflauf",e[e["Getr\xe4nk"]=11]="Getr\xe4nk",e}({}),kD=function(e){return e[e.Einfach=0]="Einfach",e[e.Mittelschwer=1]="Mittelschwer",e[e.Schwer=2]="Schwer",e}({});const xD=e=>{let{onApplyFilters:n}=e;const[r,i]=(0,t.useState)([]),[o,s]=(0,t.useState)(""),[a,l]=(0,t.useState)(),[c,u]=(0,t.useState)(),d=Object.keys(SD).slice(Object.keys(SD).length/2),h=Object.keys(kD).slice(Object.keys(kD).length/2),[p,f]=t.useState(null),m=()=>{f(null)},g=Boolean(p),v=g?"simple-popover":void 0;return(0,cT.jsxs)("div",{style:{paddingBottom:"15px"},children:[(0,cT.jsx)(LI,{variant:"contained",color:"primary",onClick:e=>{f(e.currentTarget)},style:{width:"100%"},children:"Rezepte filtern"}),(0,cT.jsxs)(sN,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:g,id:v,anchorEl:p,onClose:m,PaperProps:{style:{padding:"10px",marginTop:"5px"}},children:[(0,cT.jsxs)(mN,{fullWidth:!0,variant:"standard",margin:"normal",children:[(0,cT.jsx)(IN,{children:"Schlagw\xf6rter"}),(0,cT.jsx)(EO,{multiple:!0,value:r,onChange:e=>{i(e.target.value)},input:(0,cT.jsx)(eO,{id:"select-multiple-chip"}),renderValue:e=>(0,cT.jsx)("div",{className:"filterChips",children:e.map((e=>(0,cT.jsx)(LO,{label:e},e)))}),children:d.map((e=>(0,cT.jsx)(KO,{value:e,children:e},e)))})]}),(0,cT.jsxs)(mN,{fullWidth:!0,variant:"standard",margin:"normal",children:[(0,cT.jsx)(IN,{children:"Schwierigkeit"}),(0,cT.jsx)(EO,{value:o,onChange:e=>{s(e.target.value)},children:h.map((e=>(0,cT.jsx)(KO,{value:e,children:e},e)))})]}),(0,cT.jsxs)(mN,{fullWidth:!0,margin:"normal",children:[(0,cT.jsx)(ZO,{gutterBottom:!0,children:"Dauer in Minuten"}),(0,cT.jsxs)(lD,{children:[(0,cT.jsx)(_D,{label:"Min",type:"number",value:a,onChange:e=>{l(e.target.value)}}),(0,cT.jsx)(_D,{label:"Max",type:"number",value:c,onChange:e=>{u(e.target.value)}})]})]}),(0,cT.jsx)(LI,{variant:"contained",color:"primary",onClick:()=>{n({tags:r,difficulty:o,timeMin:a,timeMax:c,user:void 0,favorite:void 0}),m()},children:"Anwenden"}),(0,cT.jsx)(LI,{variant:"contained",color:"error",onClick:()=>{i([]),s(""),l(void 0),u(void 0),n({tags:[],difficulty:"",timeMin:void 0,timeMax:void 0,user:void 0,favorite:void 0}),m()},style:{marginLeft:"5px"},children:"Zur\xfccksetzen"})]})]})};let CD=function(e){return e[e.NAMEASC=0]="NAMEASC",e[e.FAVSASC=1]="FAVSASC",e[e.DATEASC=2]="DATEASC",e[e.NAMEDSC=3]="NAMEDSC",e[e.FAVSDSC=4]="FAVSDSC",e[e.DATEDSC=5]="DATEDSC",e}({});const AD=e=>{let{sortBy:n,onSortOrderChange:r}=e;const[i,o]=t.useState(null),s=()=>{o(null)},a=Boolean(i),l=a?"simple-popover":void 0;return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(LI,{variant:"contained",color:"primary",onClick:e=>{o(e.currentTarget)},style:{width:"100%"},children:"Rezepte sortieren"}),(0,cT.jsx)(sN,{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:a,id:l,anchorEl:i,onClose:s,PaperProps:{style:{padding:"10px",marginTop:"5px"}},children:(0,cT.jsxs)(mN,{fullWidth:!0,variant:"outlined",margin:"normal",children:[(0,cT.jsx)(IN,{id:"sort-label",children:"Sortieren nach"}),(0,cT.jsxs)(EO,{labelId:"sort-label",value:n,onChange:e=>{r(e.target.value),s()},label:"Sortieren nach",children:[(0,cT.jsx)(KO,{value:CD.NAMEASC,children:"Name (aufsteigend)"},CD.NAMEASC),(0,cT.jsx)(KO,{value:CD.NAMEDSC,children:"Name (absteigend)"},CD.NAMEDSC),(0,cT.jsx)(KO,{value:CD.FAVSASC,children:"Favoriten (aufsteigend)"},CD.FAVSASC),(0,cT.jsx)(KO,{value:CD.FAVSDSC,children:"Favoriten (absteigend)"},CD.FAVSDSC),(0,cT.jsx)(KO,{value:CD.DATEASC,children:"Datum (aufsteigend)"},CD.DATEASC),(0,cT.jsx)(KO,{value:CD.DATEDSC,children:"Datum (absteigend)"},CD.DATEDSC)]})]})})]})},ED=(e,t)=>t.some((t=>e instanceof t));let TD,ID;const RD=new WeakMap,ND=new WeakMap,PD=new WeakMap;let OD={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return RD.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return FD(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function DD(e){OD=e(OD)}function MD(e){return(ID||(ID=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(jD(this),n),FD(this.request)}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return FD(e.apply(jD(this),n))}}function LD(e){return"function"===typeof e?MD(e):(e instanceof IDBTransaction&&function(e){if(RD.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));RD.set(e,t)}(e),ED(e,TD||(TD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,OD):e)}function FD(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(FD(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return PD.set(t,e),t}(e);if(ND.has(e))return ND.get(e);const t=LD(e);return t!==e&&(ND.set(e,t),PD.set(t,e)),t}const jD=e=>PD.get(e);const zD=["get","getKey","getAll","getAllKeys","count"],UD=["put","add","delete","clear"],BD=new Map;function VD(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(BD.get(t))return BD.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=UD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!zD.includes(n))return;const o=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let o=t.store;for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];return r&&(o=o.index(a.shift())),(await Promise.all([o[n](...a),i&&t.done]))[0]};return BD.set(t,o),o}DD((e=>({...e,get:(t,n,r)=>VD(t,n)||e.get(t,n,r),has:(t,n)=>!!VD(t,n)||e.has(t,n)})));const WD=["continue","continuePrimaryKey","advance"],qD={},HD=new WeakMap,KD=new WeakMap,GD={get(e,t){if(!WD.includes(t))return e[t];let n=qD[t];return n||(n=qD[t]=function(){HD.set(this,KD.get(this)[t](...arguments))}),n}};async function*QD(){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...arguments)),!e)return;const t=new Proxy(e,GD);for(KD.set(t,e),PD.set(t,jD(e));e;)yield t,e=await(HD.get(t)||e.continue()),HD.delete(t)}function $D(e,t){return t===Symbol.asyncIterator&&ED(e,[IDBIndex,IDBObjectStore,IDBCursor])||"iterate"===t&&ED(e,[IDBIndex,IDBObjectStore])}async function YD(e){try{return(await Xk(e)).docs.map((e=>({...e.data()})))}catch(bs){return console.error(bs),[]}}async function XD(e,t,n){try{const r=await nM(e),i=$S(Cz,"users",r);n?await Zk(i,{favorites:rx(t),date_edit:vg.now()}):await Zk(i,{favorites:ix(t),date_edit:vg.now()}),console.log("Benutzerfavoriten erfolgreich in Firestore aktualisiert.")}catch(bs){console.error("Fehler beim Aktualisieren der Benutzerfavoriten in Firestore:",bs)}}async function JD(e,t,n){try{const r=$S(Cz,"recipes",e);if(n){let e=await rM(t.id,n);t.image=e}await Jk(r,sM(t),{merge:!0}),console.log("Rezept erfolgreich in Firestore aktualisiert.")}catch(QE){console.error(QE)}}async function ZD(e){try{const t=$S(Cz,"recipes",e),n=await $k(t);if(n.exists()){return{...n.data()}}return console.log("Rezept nicht in Firestore gefunden. Versuche, es aus IndexedDB abzurufen."),null}catch(bs){return console.error("Fehler beim Abrufen von Firestore-Daten:",bs),console.log("Versuche, das Rezept aus IndexedDB abzurufen."),null}}async function eM(e){try{const t=$S(Cz,"recipes",e);iM(e),await ex(t).then((()=>console.log("Rezept erfolgreich aus Firestore gel\xf6scht.")));TC(IC(RC(),"recipes/".concat(e,".jpg"))).then((()=>{console.log("Rezeptbild erfolgreich aus Firebase Storage gel\xf6scht.")})).catch((e=>{console.error(e)}))}catch(t){console.error(t)}}async function tM(e,t,n,r){try{if(e)if(t){const i=await dM(e),o=await pM(e),s=RC();let a=await EC(IC(s,"recipes/undefined.jpg"));if(o){const t=function(e,t){var n;const r=e.split(","),i=(null===(n=r[0].match(/:(.*?);/))||void 0===n?void 0:n[1])||"",o=atob(r[1]);let s=o.length;const a=new Uint8Array(s);for(;s--;)a[s]=o.charCodeAt(s);return new File([a],t,{type:i})}(o,e);a=await rM(e,t)}const l={...i,image:a,public:t,date_edit:vg.now()};r&&XD(n,e,!0),i&&await JD(e,l)}else if(null!==n&&void 0!==n&&n.email){const t=$S(Cz,"recipes",e);iM(e,null===n||void 0===n?void 0:n.email),await ex(t);TC(IC(RC(),"recipes/".concat(e,".jpg"))).then((()=>{console.log("Rezeptbild erfolgreich aus Firebase Storage gel\xf6scht.")})).catch((e=>{console.error(e)}))}else eM(e)}catch(bs){return void console.error("Fehler beim Zugriff auf Rezept:",bs)}}async function nM(e){let t=vz;if(e&&e.displayName){t=(await $k($S(Cz,"users",e.displayName))).id}else if(e&&e.email){let n=e.email;const r=Dk(QS(Cz,"users"),Lk("email","==",n)),i=await Xk(r);i.empty||(t=i.docs[0].id)}return t}async function rM(e,t){try{const n=IC(RC(),"recipes/".concat(e,".jpg")),r=await function(e,t,n){return mC(e=vt(e),t,n)}(n,t);return EC(r.ref)}catch(bs){return"Error - "+bs}}async function iM(e,t){try{const n=QS(Cz,"users"),r=await Xk(n);for(const i of r.docs){const n=i.data();if(n.favorites&&Array.isArray(n.favorites)&&n.email!=t){const t=n.favorites.filter((t=>t!==e));t.length!==n.favorites.length&&await Zk($S(Cz,"users",i.id),{favorites:t,date_edit:vg.now()})}}}catch(bs){console.error("Fehler beim Entfernen des Rezepts aus den Favoritenlisten:",bs)}}function oM(e){return e?e instanceof vg?e:e instanceof Date?vg.fromDate(e):e||vg.fromDate(new Date):vg.fromDate(new Date)}function sM(e){let t=oM(e.date_create),n=oM(e.date_edit);return{...e,date_create:t,date_edit:n}}function aM(e){if(!e)return"?";if(e instanceof Date)return e.toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});if(e instanceof vg)return e.toDate().toDateString();if(e){let t=e,n=new Date(1e3*t.seconds+t.nanoseconds/1e6).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"});return n||(n=e),n}return"?"}DD((e=>({...e,get:(t,n,r)=>$D(t,n)?QD:e.get(t,n,r),has:(t,n)=>$D(t,n)||e.has(t,n)}))),navigator.serviceWorker.addEventListener("message",(async e=>{if(e.data&&"FETCH_DOWNLOAD_URL"===e.data.type){const t=e.data.id;(async function(e){const t=RC(),n=IC(t,"recipes/".concat(e,".jpg")),r=IC(t,"recipes/undefined.jpg");let i,o="";try{o=await EC(n),i=await AC(n)}catch(bs){o=await EC(r),i=void 0}return{id:e,url:o,metadata:i}})(t).then((n=>{var r;null===(r=e.source)||void 0===r||r.postMessage({type:"DOWNLOAD_URL_RESULT",id:t,url:n.url,metadata:n.metadata})})).catch((n=>{var r;console.error("Download URL konnte nicht gefetched werden: ",n),null===(r=e.source)||void 0===r||r.postMessage({type:"DOWNLOAD_URL_ERROR",id:t,error:n.message})}))}}));const lM=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),a=FD(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(FD(s.result),e.oldVersion,e.newVersion,FD(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("recipes-db",3,{upgrade(e,t,n){console.log("Upgrading from version ".concat(t," to ").concat(n)),t<1&&e.createObjectStore("recipes",{keyPath:"id"}),t<2&&e.createObjectStore("user",{keyPath:"id"}),t<3&&e.createObjectStore("images",{keyPath:"id"})}});async function cM(){return lM}async function uM(){const e=await cM();return await e.getAll("recipes")}async function dM(e){const t=await cM();return await t.get("recipes",e)}async function hM(e,t){const n=await lM,r=await async function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))}(t),i=n.transaction("images","readwrite"),o=i.objectStore("images");await o.put({id:e,image:r,date_edit:vg.now()}),await i.done}async function pM(e){const t=(await lM).transaction("images","readonly"),n=t.objectStore("images"),r=await n.get(e);return await t.done,r?r.image:(console.error("Image with id ".concat(e," not found.")),null)}async function fM(e,t,n){try{const r=await cM();if(n){await hM(e,n);const r=await pM(e);t.image=r}await r.put("recipes",{id:e,...sM(t)}),console.log("Rezept erfolgreich in IndexedDB aktualisiert.")}catch(bs){console.error("Fehler beim Aktualisieren des Rezepts in der Indexed DB:",bs)}}async function mM(e){try{const t=await cM();await vM(e)&&gM(e,!1),await t.delete("recipes",e),console.log("Rezept erfolgreich aus IndexedDB gel\xf6scht.")}catch(bs){console.error("Fehler beim L\xf6schen des Rezepts in der Indexed DB:",bs)}}async function gM(e,t){const n=(await cM()).transaction(["user"],"readwrite").objectStore("user");let r=await n.get("userFavorites")||[],i=[],o=vg.now();r&&"object"===typeof r&&!Array.isArray(r)?r.favorites&&(i=r.favorites):Array.isArray(r)||(r=[]),t?i.includes(e)||i.push(e):i=i.filter((t=>t!==e));const s={id:"userFavorites",favorites:i,date_edit:o};await n.put(s),console.log("Benutzerdaten erfolgreich in IndexedDB aktualisiert.")}async function vM(e){const t=(await cM()).transaction(["user"],"readwrite").objectStore("user");let n=await t.get("userFavorites")||[],r=[];n&&"object"===typeof n&&!Array.isArray(n)?n.favorites&&(r=n.favorites):Array.isArray(n)||(r=[]);const i=await dM(e),o=i&&i.favorites?i.favorites:0,s=!(!i||!i.public)&&i.public;return{likes:r.includes(e),numberOfLikes:o,isPublic:s}}async function yM(){const e=(await cM()).transaction(["user"],"readwrite").objectStore("user");let t=await e.get("userFavorites")||[],n=[];return t&&"object"===typeof t&&!Array.isArray(t)?t.favorites&&(n=t.favorites):Array.isArray(t)||(n=[]),n}async function bM(e,t,n,r,i){i&&t.public&&await async function(e,t,n,r){try{const e=$S(Cz,"recipes",t);await Zk(e,{favorites:n,date_edit:vg.now()}),console.log("Favoriten erfolgreich in Firestore aktualisiert.")}catch(i){console.error(i)}XD(e,t,r)}(e,t.id,n,r),await async function(e,t,n){try{const r=e.id,i=(await cM()).transaction(["recipes"],"readwrite"),o=i.objectStore("recipes"),s=await o.get(r);s?(s.favorites=t,s.date_edit=vg.now(),await o.put(s),console.log("Favoriten erfolgreich in IndexedDB aktualisiert.")):e?fM(r,e):console.error("Rezept nicht gefunden:"),gM(r,n),await i.done}catch(bs){console.error("Fehler beim Aktualisieren der Favoriten:",bs)}}(t,n,r)}async function wM(e,t){let n=[];return t?(n=await async function(e){let t=[];try{let n=QS(Cz,"recipes");if(e.timeMin&&(n=Dk(n,Lk("time",">=",Number(e.timeMin)))),e.timeMax&&(n=Dk(n,Lk("time","<=",Number(e.timeMax)))),e.tags&&e.tags.length>0){let t=[];e.tags.map((e=>t.push(SD[e].toString()))),n=Dk(n,Lk("tags","array-contains-any",t))}e.difficulty&&(n=Dk(n,Lk("difficulty","==",kD[e.difficulty]))),t=await YD(n)}catch(bs){return console.error("Fehler beim Abrufen von Firestore:",bs),[]}return t}(e),n&&0!==n.length||(n=await YD(e))):n=await uM(),n}async function _M(e,t,n){t&&e&&e.public&&await async function(e,t){try{const n=$S(Cz,"recipes",e.id);if(t){let n=await rM(e.id,t);e.image=n}else{const t=RC();e.image=await EC(IC(t,"recipes/undefined.jpg"))}await Jk(n,sM(e)),console.log("Rezept erfolgreich in Firestore erstellt.")}catch(n){console.error(n)}}(e,n),async function(e,t){try{const n=await cM();if(t){await hM(e.id,t);const n=await pM(e.id);e.image=n}await n.put("recipes",sM(e)),console.log("Rezept erfolgreich in IndexedDB gespeichert.")}catch(bs){console.error("Fehler beim Erstellen des Rezepts in der Indexed DB:",bs)}}(e,n)}async function SM(e,t,n,r){let i;return n&&t?(i=await async function(e,t){try{const n=await nM(t),r=$S(Cz,"users",n),i=await $k(r);if(i.exists()){const t=i.data().favorites,n=await ZD(e),r=null===n||void 0===n?void 0:n.favorites;if(r)return{likes:t.includes(e),numberOfLikes:r}}return null}catch(bs){return console.error("Fehler beim Abrufen von Firestore-Daten:",bs),null}}(e,r),i||(i=await vM(e))):i=await vM(e),i}async function kM(e,t,n,r){if(n){let n=!1;t&&(n=await yM().then((t=>t.includes(e)))),await tM(e,t,r,n)}await async function(e,t){if(e){const n=await yM(),r=e&&n.includes(e)?1:0;fM(e,{...await dM(e),favorites:r,public:t,date_edit:vg.now()})}}(e,t)}async function xM(e,t){let n=await async function(){const e=(await cM()).transaction(["user"],"readwrite").objectStore("user");let t=await e.get("email")||{email:vz},n=[];return n=await uM(),n.filter((e=>e.author==t.email||e.author==vz))}();return t&&(!n||n.length<1)&&(n=await async function(e){let t=[],n=e?e.displayName?e.displayName:e.email:vz;try{let r,i=QS(Cz,"recipes"),o=Dk(i,Lk("author","==",n));e&&(r=n==e.displayName?Dk(i,Lk("author","==",e.email)):Dk(i,Lk("author","==",e.displayName))),t=await YD(o),r&&t.concat(await YD(r))}catch(bs){return console.error("Fehler beim Abrufen von Firestore:",bs),[]}return t}(e)),n}async function CM(e,t){return t&&e?async function(e){let t=[],n=e?e.displayName?e.displayName:e.email:vz;try{let r=QS(Cz,"users"),i=[];if(n&&n==(null===e||void 0===e?void 0:e.displayName)){let e=(await $k($S(Cz,"users",n))).data();i=e.favorites}else r=Dk(r,Lk("email","==",n)),(await Xk(r)).docs.map((e=>i=e.get("favorites")));let o=QS(Cz,"recipes");o=Dk(o,Lk("id","in",i)),t=await YD(o)}catch(bs){console.error("Fehler beim Abrufen von Firestore:",bs)}return t}(e):async function(){let e=await yM(),t=[];return t=await uM(),t.filter((t=>e.includes(t.id)))}()}async function AM(e){e&&e.email&&e.displayName&&async function(e,t){const n=(await cM()).transaction(["user"],"readwrite").objectStore("user");let r=await n.get("email")||"";if(e&&r!==e){const r={id:"email",email:e,displayName:t};await n.put(r)}}(e.email,e.displayName)}function EM(){!async function(){const e=(await cM()).transaction(["user"],"readwrite").objectStore("user");await e.delete("email")}()}lM.then((()=>{console.log("IndexedDB initialized")})).catch((e=>{console.error("Error initializing IndexedDB:",e)}));const TM=(0,t.createContext)(void 0),IM=()=>{const e=(0,t.useContext)(TM);if(!e)throw new Error("useAuth must be used within AuthProvider!");return e},RM=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{const e=function(e,t,n,r){return vt(e).onAuthStateChanged(t,n,r)}(Az,(e=>{i(e),s(!1)}));return()=>{e()}}),[]),o?(0,cT.jsx)("div",{children:"Lade Nutzer..."}):(AM(r),(0,cT.jsx)(TM.Provider,{value:{currentUser:r},children:n}))},NM=(0,t.createContext)({isOnline:navigator.onLine}),PM=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(navigator.onLine);return(0,t.useEffect)((()=>{const e=e=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"NETWORK_STATUS_CHANGE",isOnline:e})},t=()=>{i(!0),e(!0)},n=()=>{i(!1),e(!1)};return window.addEventListener("online",t),window.addEventListener("offline",n),e(navigator.onLine),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}),[]),(0,cT.jsx)(NM.Provider,{value:{isOnline:r},children:n})},OM=()=>(0,t.useContext)(NM);function DM(){const{isOnline:e}=OM(),{currentUser:t}=IM();return{handleUpdateRecipeFavorites:async(n,r,i)=>{const o=Boolean(t)&&e;e&&!t&&alert("Die Rezeptfavoriten werden nur lokal auf diesem Ger\xe4t gespeichert!"),await bM(t,n,r,i,o)},handleUpdateRecipe:async(n,r,i)=>{const o=Boolean(t)&&e;e&&!t&&alert("Das Rezeptupdate wird nur lokal auf diesem Ger\xe4t gespeichert!"),await async function(e,t,n,r){n&&t.public&&await JD(e,t,r),fM(e,t,r)}(n,r,o,i)},handleGetAllRecipes:async t=>await wM(t,e),handleGetRecipeById:async t=>await async function(e,t){let n=null;return t?(n=await ZD(e),n||(n=await dM(e))):n=await dM(e),n}(t,e),handleCreateRecipe:async(n,r)=>{const i=Boolean(t)&&e;e&&!t&&alert("Das Rezept wird nur lokal auf diesem Ger\xe4t gespeichert!"),await _M(n,i,r)},handleDeleteRecipe:async(n,r)=>{const i=Boolean(t)&&e;e&&t||alert("Das Rezept wird nur lokal von diesem Ger\xe4t gel\xf6scht! Wurde es ver\xf6ffentlicht, so brauchst du eine Internetverbindung zum l\xf6schen und damit depublizieren"),await async function(e,t,n){t&&n?(await mM(e),await eM(e)):n||await mM(e)}(n,i,r)},handleCheckRecipeLikes:async(n,r)=>await SM(n,r,e,t),handleChangeRecipeVisibility:async(n,r)=>{const i=Boolean(t)&&e;return await kM(n,r,i,t)},handleGetUsersRecipes:async()=>await xM(t,e),handleGetUsersFavoriteRecipes:async()=>await CM(t,e)}}let MM=function(e){return e[e.PUBLIC=0]="PUBLIC",e[e.OWNED=1]="OWNED",e[e.FAVORED=2]="FAVORED",e}({});function LM(e){let{constraint:n}=e;const[r,i]=(0,t.useState)({timeMin:void 0,timeMax:void 0,tags:void 0,difficulty:void 0,user:void 0,favorite:void 0}),[o,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(CD.NAMEASC),{handleGetAllRecipes:c,handleGetUsersRecipes:u,handleGetUsersFavoriteRecipes:d}=DM();return(0,t.useEffect)((()=>{(async()=>{let e=[];switch(n){case MM.PUBLIC:e=await c(r);break;case MM.OWNED:e=await u();break;case MM.FAVORED:e=await d()}!function(e,t){let n=e;switch(t){case CD.NAMEASC:n=n.sort(((e,t)=>e.name.localeCompare(t.name)));break;case CD.NAMEDSC:n=n.sort(((e,t)=>t.name.localeCompare(e.name)));break;case CD.FAVSASC:n=n.sort(((e,t)=>e.favorites-t.favorites));break;case CD.FAVSDSC:n=n.sort(((e,t)=>t.favorites-e.favorites));break;case CD.DATEASC:n=n.sort(((e,t)=>{let n=JSON.parse(JSON.stringify(e.date_create)),r=JSON.parse(JSON.stringify(t.date_create)),i=new vg(n.seconds,n.nanoseconds),o=new vg(r.seconds,r.nanoseconds);return new Date(i.toDate()).getTime()-new Date(o.toDate()).getTime()}));break;case CD.DATEDSC:n=n.sort(((e,t)=>{let n=JSON.parse(JSON.stringify(e.date_create)),r=JSON.parse(JSON.stringify(t.date_create)),i=new vg(n.seconds,n.nanoseconds),o=new vg(r.seconds,r.nanoseconds),s=new Date(i.toDate()).getTime();return new Date(o.toDate()).getTime()-s}))}}(e,a),s(e)})()}),[r,a]),(0,cT.jsxs)("div",{children:[(0,cT.jsxs)(LT,{container:!0,id:"btnDiv",children:[(0,cT.jsx)(LT,{item:!0,xs:6,children:(0,cT.jsx)(xD,{onApplyFilters:e=>{i(e)}})}),(0,cT.jsx)(LT,{item:!0,xs:6,children:(0,cT.jsx)(AD,{sortBy:a,onSortOrderChange:l})})]}),(0,cT.jsx)(LT,{container:!0,spacing:1,children:o.map((e=>(0,cT.jsx)(LT,{id:e.id,item:!0,xs:12,sm:6,md:4,lg:3,children:(0,cT.jsx)(uT,{name:e.name,image:e.image,id:e.id})},e.id)))})]})}function FM(e){return(0,CT.Ay)("MuiAppBar",e)}(0,xT.A)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const jM=["className","color","enableColorOnDark","position"],zM=(e,t)=>e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t,UM=(0,vT.Ay)(QR,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat((0,CI.A)(n.position))],t["color".concat((0,CI.A)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;const r="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,hT.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,hT.A)({},"default"===n.color&&{backgroundColor:r,color:t.palette.getContrastText(r)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,hT.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,hT.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:zM(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:zM(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:zM(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:zM(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),BM=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:o=!1,position:s="fixed"}=n,a=(0,dT.A)(n,jM),l=(0,hT.A)({},n,{color:i,position:s,enableColorOnDark:o}),c=(e=>{const{color:t,position:n,classes:r}=e,i={root:["root","color".concat((0,CI.A)(t)),"position".concat((0,CI.A)(n))]};return(0,gT.A)(i,FM,r)})(l);return(0,cT.jsx)(UM,(0,hT.A)({square:!0,component:"header",ownerState:l,elevation:4,className:(0,pT.A)(c.root,r,"fixed"===s&&"mui-fixed"),ref:t},a))})),VM=BM;function WM(e){return(0,CT.Ay)("MuiToolbar",e)}(0,xT.A)("MuiToolbar",["root","gutters","regular","dense"]);const qM=["className","component","disableGutters","variant"],HM=(0,vT.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),KM=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:o=!1,variant:s="regular"}=n,a=(0,dT.A)(n,qM),l=(0,hT.A)({},n,{component:i,disableGutters:o,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e,i={root:["root",!n&&"gutters",r]};return(0,gT.A)(i,WM,t)})(l);return(0,cT.jsx)(HM,(0,hT.A)({as:i,className:(0,pT.A)(c.root,r),ref:t,ownerState:l},a))})),GM=KM;function QM(e){return(0,CT.Ay)("MuiIconButton",e)}const $M=(0,xT.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),YM=["edge","children","className","color","disabled","disableFocusRipple","size"],XM=(0,vT.Ay)(xI,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,CI.A)(n.color))],n.edge&&t["edge".concat((0,CI.A)(n.edge))],t["size".concat((0,CI.A)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var r;const i=null==(r=(t.vars||t).palette)?void 0:r[n.color];return(0,hT.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,hT.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,hT.A)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat($M.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),JM=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:o,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,u=(0,dT.A)(n,YM),d=(0,hT.A)({},n,{edge:r,color:s,disabled:a,disableFocusRipple:l,size:c}),h=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,s={root:["root",n&&"disabled","default"!==r&&"color".concat((0,CI.A)(r)),i&&"edge".concat((0,CI.A)(i)),"size".concat((0,CI.A)(o))]};return(0,gT.A)(s,QM,t)})(d);return(0,cT.jsx)(XM,(0,hT.A)({className:(0,pT.A)(h.root,o),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},u,{ownerState:d,children:i}))})),ZM=JM,eL=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tL(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),o=(0,HI.A)(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=o.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+a-r.left:o.innerWidth+a-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-a:r.left+r.width-a,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:o.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const nL=t.forwardRef((function(e,n){const r=ST(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:u="down",easing:d=i,in:h,onEnter:p,onEntered:f,onEntering:m,onExit:g,onExited:v,onExiting:y,style:b,timeout:w=o,TransitionComponent:_=eR}=e,S=(0,dT.A)(e,eL),k=t.useRef(null),x=(0,UT.A)(l.ref,k,n),C=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},A=C(((e,t)=>{tL(u,e,c),tR(e),p&&p(e,t)})),E=C(((e,t)=>{const n=nR({timeout:w,style:b,easing:d},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",(0,hT.A)({},n)),e.style.transition=r.transitions.create("transform",(0,hT.A)({},n)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),T=C(f),I=C(y),R=C((e=>{const t=nR({timeout:w,style:b,easing:d},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),tL(u,e,c),g&&g(e)})),N=C((e=>{e.style.webkitTransition="",e.style.transition="",v&&v(e)})),P=t.useCallback((()=>{k.current&&tL(u,k.current,c)}),[u,c]);return t.useEffect((()=>{if(h||"down"===u||"right"===u)return;const e=(0,WI.A)((()=>{k.current&&tL(u,k.current,c)})),t=(0,HI.A)(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[u,h,c]),t.useEffect((()=>{h||P()}),[h,P]),(0,cT.jsx)(_,(0,hT.A)({nodeRef:k,onEnter:A,onEntered:T,onEntering:E,onExit:R,onExited:N,onExiting:I,addEndListener:e=>{s&&s(k.current,e)},appear:a,in:h,timeout:w},S,{children:(e,n)=>t.cloneElement(l,(0,hT.A)({ref:x,style:(0,hT.A)({visibility:"exited"!==e||h?void 0:"hidden"},b,l.props.style)},n))}))})),rL=nL;function iL(e){return(0,CT.Ay)("MuiDrawer",e)}(0,xT.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const oL=["BackdropProps"],sL=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],aL=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},lL=(0,vT.Ay)(VR,{name:"MuiDrawer",slot:"Root",overridesResolver:aL})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),cL=(0,vT.Ay)("div",{shouldForwardProp:zT.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:aL})({flex:"0 0 auto"}),uL=(0,vT.Ay)(QR,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat((0,CI.A)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,CI.A)(n.anchor))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),dL={left:"right",right:"left",top:"down",bottom:"up"};const hL=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiDrawer"}),i=ST(),o=DN(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:u,elevation:d=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:p}={},onClose:f,open:m=!1,PaperProps:g={},SlideProps:v,TransitionComponent:y=rL,transitionDuration:b=s,variant:w="temporary"}=r,_=(0,dT.A)(r.ModalProps,oL),S=(0,dT.A)(r,sL),k=t.useRef(!1);t.useEffect((()=>{k.current=!0}),[]);const x=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?dL[t]:t}({direction:o?"rtl":"ltr"},a),C=a,A=(0,hT.A)({},r,{anchor:C,elevation:d,open:m,variant:w},S),E=(e=>{const{classes:t,anchor:n,variant:r}=e,i={root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,CI.A)(n)),"temporary"!==r&&"paperAnchorDocked".concat((0,CI.A)(n))]};return(0,gT.A)(i,iL,t)})(A),T=(0,cT.jsx)(uL,(0,hT.A)({elevation:"temporary"===w?d:0,square:!0},g,{className:(0,pT.A)(E.paper,g.className),ownerState:A,children:c}));if("permanent"===w)return(0,cT.jsx)(cL,(0,hT.A)({className:(0,pT.A)(E.root,E.docked,u),ownerState:A,ref:n},S,{children:T}));const I=(0,cT.jsx)(y,(0,hT.A)({in:m,direction:dL[x],timeout:b,appear:k.current},v,{children:T}));return"persistent"===w?(0,cT.jsx)(cL,(0,hT.A)({className:(0,pT.A)(E.root,E.docked,u),ownerState:A,ref:n},S,{children:I})):(0,cT.jsx)(lL,(0,hT.A)({BackdropProps:(0,hT.A)({},l,p,{transitionDuration:b}),className:(0,pT.A)(E.root,E.modal,u),open:m,ownerState:A,onClose:f,hideBackdrop:h,ref:n},S,_,{children:I}))})),pL=hL;function fL(e){return(0,CT.Ay)("MuiListItemButton",e)}const mL=(0,xT.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),gL=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],vL=(0,vT.Ay)(xI,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(mL.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(mL.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(mL.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(mL.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(mL.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},"flex-start"===n.alignItems&&{alignItems:"flex-start"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.dense&&{paddingTop:4,paddingBottom:4})})),yL=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:c=!1,divider:u=!1,focusVisibleClassName:d,selected:h=!1,className:p}=r,f=(0,dT.A)(r,gL),m=t.useContext(MN),g=t.useMemo((()=>({dense:l||m.dense||!1,alignItems:i,disableGutters:c})),[i,m.dense,l,c]),v=t.useRef(null);(0,VN.A)((()=>{o&&v.current&&v.current.focus()}),[o]);const y=(0,hT.A)({},r,{alignItems:i,dense:g.dense,disableGutters:c,divider:u,selected:h}),b=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=e,l={root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",a&&"selected"]},c=(0,gT.A)(l,fL,n);return(0,hT.A)({},n,c)})(y),w=(0,UT.A)(v,n);return(0,cT.jsx)(MN.Provider,{value:g,children:(0,cT.jsx)(vL,(0,hT.A)({ref:w,href:f.href||f.to,component:(f.href||f.to)&&"div"===s?"button":s,focusVisibleClassName:(0,pT.A)(b.focusVisible,d),ownerState:y,className:(0,pT.A)(b.root,p)},f,{classes:b,children:a}))})})),bL=yL,wL=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],_L=(0,vT.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(UO.primary)]:t.primary},{["& .".concat(UO.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),SL=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:u,secondaryTypographyProps:d}=r,h=(0,dT.A)(r,wL),{dense:p}=t.useContext(MN);let f=null!=l?l:i,m=u;const g=(0,hT.A)({},r,{disableTypography:s,inset:a,primary:!!f,secondary:!!m,dense:p}),v=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:o}=e,s={root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,gT.A)(s,zO,t)})(g);return null==f||f.type===ZO||s||(f=(0,cT.jsx)(ZO,(0,hT.A)({variant:p?"body2":"body1",className:v.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:f}))),null==m||m.type===ZO||s||(m=(0,cT.jsx)(ZO,(0,hT.A)({variant:"body2",className:v.secondary,color:"text.secondary",display:"block"},d,{children:m}))),(0,cT.jsxs)(_L,(0,hT.A)({className:(0,pT.A)(v.root,o),ownerState:g,ref:n},h,{children:[f,m]}))})),kL=SL;var xL=n(6801);const CL=["getTrigger","target"];function AL(e,t){const{disableHysteresis:n=!1,threshold:r=100,target:i}=t,o=e.current;return i&&(e.current=void 0!==i.pageYOffset?i.pageYOffset:i.scrollTop),!(!n&&void 0!==o&&e.current<o)&&e.current>r}const EL="undefined"!==typeof window?window:null;const TL=e=>{const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{getTrigger:n=AL,target:r=EL}=e,i=(0,dT.A)(e,CL),o=t.useRef(),[s,a]=t.useState((()=>n(o,i)));return t.useEffect((()=>{const e=()=>{a(n(o,(0,hT.A)({target:r},i)))};return e(),r.addEventListener("scroll",e,{passive:!0}),()=>{r.removeEventListener("scroll",e,{passive:!0})}}),[r,n,JSON.stringify(i)]),s}({disableHysteresis:!0,threshold:e.threshold,target:e.window});return(0,cT.jsx)(rL,{appear:!0,direction:"down",in:!n,children:e.children})};function IL(e){let{title:n}=e;const[r,i]=(0,t.useState)(!1),{currentUser:o}=IM(),s=()=>{i(!r)},a=es(),l=ee();return(0,cT.jsxs)(lD,{sx:{flexGrow:1},children:[(0,cT.jsx)(TL,{threshold:0,children:(0,cT.jsx)(VM,{position:"fixed",children:(0,cT.jsxs)(GM,{children:[(0,cT.jsx)(ZM,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:s,children:(0,cT.jsx)(xL.A,{})}),(0,cT.jsx)(ZO,{variant:"h6",component:"div",sx:{flexGrow:1},children:n}),(0,cT.jsx)(pL,{open:r,onClose:s,children:(0,cT.jsxs)(UN,{children:[(0,cT.jsx)(bL,{component:"a",href:"#/",children:(0,cT.jsx)(kL,{className:"navigationBarElement",primary:"Rezepte durchsuchen"})}),(0,cT.jsx)(bL,{component:"a",href:"#/my_recipes",children:(0,cT.jsx)(kL,{className:"navigationBarElement",primary:"Meine Rezepte"})}),(0,cT.jsx)(bL,{component:"a",href:"#/favorite_recipes",children:(0,cT.jsx)(kL,{className:"navigationBarElement",primary:"Favorisierte Rezepte"})}),Boolean(o)?(0,cT.jsx)(bL,{component:"button",onClick:()=>{(function(e){return vt(e).signOut()})(a).then((()=>{EM(),l("/")})).catch((e=>{alert("Etwas ist schiefgegangen, bitte lade die Seite neu.")}))},children:(0,cT.jsx)(kL,{className:"navigationBarElement",primary:"Abmelden"})}):(0,cT.jsx)(bL,{component:"a",href:"#/login",children:(0,cT.jsx)(kL,{className:"navigationBarElement",primary:"Anmelden"})})]})}),o?"Angemeldet als ".concat(o.displayName?o.displayName:o.email):"Abgemeldet"]})})}),(0,cT.jsx)(GM,{})]})}const RL=e=>{let{children:t,title:n}=e;return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(IL,{title:n}),(0,cT.jsx)("div",{style:{display:"flex",marginLeft:"auto",marginRight:"auto"},children:(0,cT.jsx)("div",{style:{width:"100%",maxWidth:"1200px",marginLeft:"auto",marginRight:"auto",justifyContent:"center",justifySelf:"center",display:"flex",padding:"20px"},children:(0,cT.jsx)("div",{style:{width:"100%"},children:t})})})]})};const NL=function(){return(0,cT.jsx)(RL,{title:"Rezepte durchsuchen",children:(0,cT.jsx)(LM,{constraint:MM.PUBLIC})})};function PL(e){return(0,CT.Ay)("MuiFormGroup",e)}(0,xT.A)("MuiFormGroup",["root","row","error"]);const OL=["className","row"],DL=(0,vT.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,hT.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),ML=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiFormGroup"}),{className:r,row:i=!1}=n,o=(0,dT.A)(n,OL),s=gN({props:n,muiFormControl:vN(),states:["error"]}),a=(0,hT.A)({},n,{row:i,error:s.error}),l=(e=>{const{classes:t,row:n,error:r}=e,i={root:["root",n&&"row",r&&"error"]};return(0,gT.A)(i,PL,t)})(a);return(0,cT.jsx)(DL,(0,hT.A)({className:(0,pT.A)(l.root,r),ownerState:a,ref:t},o))})),LL=ML;var FL=n(6315);const jL=["ownerState"],zL=["variants"],UL=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function BL(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const VL=(0,FL.A)(),WL=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function qL(e){let{defaultTheme:t,theme:n,themeId:r}=e;return i=n,0===Object.keys(i).length?t:n[r]||n;var i}function HL(e){return e?(t,n)=>n[e]:null}function KL(e,t){let{ownerState:n}=t,r=(0,dT.A)(t,jL);const i="function"===typeof e?e((0,hT.A)({ownerState:n},r)):e;if(Array.isArray(i))return i.flatMap((e=>KL(e,(0,hT.A)({ownerState:n},r))));if(i&&"object"===typeof i&&Array.isArray(i.variants)){const{variants:e=[]}=i;let t=(0,dT.A)(i,zL);return e.forEach((e=>{let i=!0;"function"===typeof e.props?i=e.props((0,hT.A)({ownerState:n},r,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&r[t]!==e.props[t]&&(i=!1)})),i&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,hT.A)({ownerState:n},r,n)):e.style))})),t}return i}const GL=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=VL,rootShouldForwardProp:r=BL,slotShouldForwardProp:i=BL}=e,o=e=>(0,tD.A)((0,hT.A)({},e,{theme:qL((0,hT.A)({},e,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,eD.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:u,overridesResolver:d=HL(WL(l))}=s,h=(0,dT.A)(s,UL),p=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,f=u||!1;let m=BL;"Root"===l||"root"===l?m=r:l?m=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=(0,eD.default)(e,(0,hT.A)({shouldForwardProp:m,label:undefined},h)),v=e=>"function"===typeof e&&e.__emotion_real!==e||(0,RN.Q)(e)?r=>KL(e,(0,hT.A)({},r,{theme:qL({theme:r.theme,defaultTheme:n,themeId:t})})):e,y=function(r){let i=v(r);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const u=l?l.map(v):[];a&&d&&u.push((e=>{const r=qL((0,hT.A)({},e,{defaultTheme:n,themeId:t}));if(!r.components||!r.components[a]||!r.components[a].styleOverrides)return null;const i=r.components[a].styleOverrides,o={};return Object.entries(i).forEach((t=>{let[n,i]=t;o[n]=KL(i,(0,hT.A)({},e,{theme:r}))})),d(e,o)})),a&&!p&&u.push((e=>{var r;const i=qL((0,hT.A)({},e,{defaultTheme:n,themeId:t}));return KL({variants:null==i||null==(r=i.components)||null==(r=r[a])?void 0:r.variants},(0,hT.A)({},e,{theme:i}))})),f||u.push(o);const h=u.length-l.length;if(Array.isArray(r)&&h>0){const e=new Array(h).fill("");i=[...r,...e],i.raw=[...r.raw,...e]}const m=g(i,...u);return e.muiName&&(m.muiName=e.muiName),m};return g.withConfig&&(y.withConfig=g.withConfig),y}}(),QL=GL;var $L=n(6923),YL=n(181);const XL=["component","direction","spacing","divider","children","className","useFlexGap"],JL=(0,FL.A)(),ZL=QL("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function eF(e){return(0,$L.A)({props:e,name:"MuiStack",defaultTheme:JL})}function tF(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce(((e,i,o)=>(e.push(i),o<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(o)})),e)),[])}const nF=e=>{let{ownerState:t,theme:n}=e,r=(0,hT.A)({display:"flex",flexDirection:"column"},(0,fT.NI)({theme:n},(0,fT.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,YL.LX)(n),i=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),o=(0,fT.kW)({values:t.direction,base:i}),s=(0,fT.kW)({values:t.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((e,t,n)=>{if(!o[e]){const r=t>0?o[n[t-1]]:"column";o[e]=r}}));const a=(n,r)=>{return t.useFlexGap?{gap:(0,YL._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((i=r?o[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]))]:(0,YL._W)(e,n)}};var i};r=(0,RN.A)(r,(0,fT.NI)({theme:n},s,a))}return r=(0,fT.iZ)(n.breakpoints,r),r};const rF=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=ZL,useThemeProps:r=eF,componentName:i="MuiStack"}=e,o=n(nF),s=t.forwardRef((function(e,t){const n=r(e),s=(0,mT.A)(n),{component:a="div",direction:l="column",spacing:c=0,divider:u,children:d,className:h,useFlexGap:p=!1}=s,f=(0,dT.A)(s,XL),m={direction:l,spacing:c,useFlexGap:p},g=(0,gT.A)({root:["root"]},(e=>(0,CT.Ay)(i,e)),{});return(0,cT.jsx)(o,(0,hT.A)({as:a,ownerState:m,ref:t,className:(0,pT.A)(g.root,h)},f,{children:u?tF(d,u):d}))}));return s}({createStyledComponent:(0,vT.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>(0,yT.A)({props:e,name:"MuiStack"})}),iF=rF;function oF(e){return(0,CT.Ay)("PrivateSwitchBase",e)}(0,xT.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const sF=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],aF=(0,vT.Ay)(xI)((e=>{let{ownerState:t}=e;return(0,hT.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),lF=(0,vT.Ay)("input",{shouldForwardProp:zT.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),cF=t.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:i,className:o,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:u,id:d,inputProps:h,inputRef:p,name:f,onBlur:m,onChange:g,onFocus:v,readOnly:y,required:b=!1,tabIndex:w,type:_,value:S}=e,k=(0,dT.A)(e,sF),[x,C]=(0,gP.A)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),A=vN();let E=a;A&&"undefined"===typeof E&&(E=A.disabled);const T="checkbox"===_||"radio"===_,I=(0,hT.A)({},e,{checked:x,disabled:E,disableFocusRipple:l,edge:c}),R=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&"edge".concat((0,CI.A)(i))],input:["input"]};return(0,gT.A)(o,oF,t)})(I);return(0,cT.jsxs)(aF,(0,hT.A)({component:"span",className:(0,pT.A)(R.root,o),centerRipple:!0,focusRipple:!l,disabled:E,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),A&&A.onFocus&&A.onFocus(e)},onBlur:e=>{m&&m(e),A&&A.onBlur&&A.onBlur(e)},ownerState:I,ref:t},k,{children:[(0,cT.jsx)(lF,(0,hT.A)({autoFocus:n,checked:r,defaultChecked:s,className:R.input,disabled:E,id:T?d:void 0,name:f,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),g&&g(e,t)},readOnly:y,ref:p,required:b,ownerState:I,tabIndex:w,type:_},"checkbox"===_&&void 0===S?{}:{value:S},h)),x?i:u]}))})),uF=cF;function dF(e){return(0,CT.Ay)("MuiSwitch",e)}const hF=(0,xT.A)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),pF=["className","color","edge","size","sx"],fF=yT.A,mF=(0,vT.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat((0,CI.A)(n.edge))],t["size".concat((0,CI.A)(n.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(hF.thumb)]:{width:16,height:16},["& .".concat(hF.switchBase)]:{padding:4,["&.".concat(hF.checked)]:{transform:"translateX(16px)"}}}}]}),gF=(0,vT.Ay)(uF,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.switchBase,{["& .".concat(hF.input)]:t.input},"default"!==n.color&&t["color".concat((0,CI.A)(n.color))]]}})((e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(hF.checked)]:{transform:"translateX(20px)"},["&.".concat(hF.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(hF.checked," + .").concat(hF.track)]:{opacity:.5},["&.".concat(hF.disabled," + .").concat(hF.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(hF.input)]:{left:"-100%",width:"300%"}}}),(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(hF.checked)]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(hF.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,jT.a)(t.palette[n].main,.62):(0,jT.e$)(t.palette[n].main,.55))}},["&.".concat(hF.checked," + .").concat(hF.track)]:{backgroundColor:(t.vars||t).palette[n].main}}}}))]}})),vF=(0,vT.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),yF=(0,vT.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),bF=t.forwardRef((function(e,t){const n=fF({props:e,name:"MuiSwitch"}),{className:r,color:i="primary",edge:o=!1,size:s="medium",sx:a}=n,l=(0,dT.A)(n,pF),c=(0,hT.A)({},n,{color:i,edge:o,size:s}),u=(e=>{const{classes:t,edge:n,size:r,color:i,checked:o,disabled:s}=e,a={root:["root",n&&"edge".concat((0,CI.A)(n)),"size".concat((0,CI.A)(r))],switchBase:["switchBase","color".concat((0,CI.A)(i)),o&&"checked",s&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,gT.A)(a,dF,t);return(0,hT.A)({},t,l)})(c),d=(0,cT.jsx)(yF,{className:u.thumb,ownerState:c});return(0,cT.jsxs)(mF,{className:(0,pT.A)(u.root,r),sx:a,ownerState:c,children:[(0,cT.jsx)(gF,(0,hT.A)({type:"checkbox",icon:d,checkedIcon:d,ref:t,ownerState:c},l,{classes:(0,hT.A)({},u,{root:u.switchBase})})),(0,cT.jsx)(vF,{className:u.track,ownerState:c})]})})),wF=bF;var _F=n(1202);function SF(e){let{favorites:n,recipe:r}=e;const{handleUpdateRecipeFavorites:i,handleCheckRecipeLikes:o}=DM(),[s,a]=(0,t.useState)(n),[l,c]=(0,t.useState)(!1);return async function(){await o(r.id,r.public).then((e=>{c(e.likes),a(e.numberOfLikes)}))}(),(0,cT.jsx)("div",{children:(0,cT.jsx)(LI,{color:"secondary",variant:l?"contained":"text",startIcon:(0,cT.jsx)(_F.A,{}),onClick:function(){l?s>0?(a(s-1),i(r,s-1,!1)):i(r,s,!1):(a(s+1),i(r,s+1,!0)),c(!l)},children:s})})}function kF(e){return(0,CT.Ay)("MuiFormControlLabel",e)}const xF=(0,xT.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),CF=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],AF=(0,vT.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(xF.label)]:t.label},t.root,t["labelPlacement".concat((0,CI.A)(n.labelPlacement))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(xF.disabled)]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(xF.label)]:{["&.".concat(xF.disabled)]:{color:(t.vars||t).palette.text.disabled}}})})),EF=(0,vT.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{["&.".concat(xF.error)]:{color:(t.vars||t).palette.error.main}}})),TF=t.forwardRef((function(e,n){var r,i;const o=(0,yT.A)({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:u,label:d,labelPlacement:h="end",required:p,slotProps:f={}}=o,m=(0,dT.A)(o,CF),g=vN(),v=null!=(r=null!=c?c:l.props.disabled)?r:null==g?void 0:g.disabled,y=null!=p?p:l.props.required,b={disabled:v,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(b[e]=o[e])}));const w=gN({props:o,muiFormControl:g,states:["error"]}),_=(0,hT.A)({},o,{disabled:v,labelPlacement:h,required:y,error:w.error}),S=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:i,required:o}=e,s={root:["root",n&&"disabled","labelPlacement".concat((0,CI.A)(r)),i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return(0,gT.A)(s,kF,t)})(_),k=null!=(i=f.typography)?i:a.typography;let x=d;return null==x||x.type===ZO||u||(x=(0,cT.jsx)(ZO,(0,hT.A)({component:"span"},k,{className:(0,pT.A)(S.label,null==k?void 0:k.className),children:x}))),(0,cT.jsxs)(AF,(0,hT.A)({className:(0,pT.A)(S.root,s),ownerState:_,ref:n},m,{children:[t.cloneElement(l,b),y?(0,cT.jsxs)(iF,{display:"block",children:[x,(0,cT.jsxs)(EF,{ownerState:_,"aria-hidden":!0,className:S.asterisk,children:["\u2009","*"]})]}):x]}))})),IF=TF,RF=(0,TP.A)((0,cT.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),NF=(0,TP.A)((0,cT.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),PF=(0,TP.A)((0,cT.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function OF(e){return(0,CT.Ay)("MuiCheckbox",e)}const DF=(0,xT.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),MF=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],LF=(0,vT.Ay)(uF,{shouldForwardProp:e=>(0,zT.A)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,CI.A)(n.size))],"default"!==n.color&&t["color".concat((0,CI.A)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,jT.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(DF.checked,", &.").concat(DF.indeterminate)]:{color:(t.vars||t).palette[n.color].main},["&.".concat(DF.disabled)]:{color:(t.vars||t).palette.action.disabled}})})),FF=(0,cT.jsx)(NF,{}),jF=(0,cT.jsx)(RF,{}),zF=(0,cT.jsx)(PF,{}),UF=t.forwardRef((function(e,n){var r,i;const o=(0,yT.A)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=FF,color:a="primary",icon:l=jF,indeterminate:c=!1,indeterminateIcon:u=zF,inputProps:d,size:h="medium",className:p}=o,f=(0,dT.A)(o,MF),m=c?u:l,g=c?u:s,v=(0,hT.A)({},o,{color:a,indeterminate:c,size:h}),y=(e=>{const{classes:t,indeterminate:n,color:r,size:i}=e,o={root:["root",n&&"indeterminate","color".concat((0,CI.A)(r)),"size".concat((0,CI.A)(i))]},s=(0,gT.A)(o,OF,t);return(0,hT.A)({},t,s)})(v);return(0,cT.jsx)(LF,(0,hT.A)({type:"checkbox",inputProps:(0,hT.A)({"data-indeterminate":c},d),icon:t.cloneElement(m,{fontSize:null!=(r=m.props.fontSize)?r:h}),checkedIcon:t.cloneElement(g,{fontSize:null!=(i=g.props.fontSize)?i:h}),ownerState:v,ref:n,className:(0,pT.A)(y.root,p)},f,{classes:y}))})),BF=UF;function VF(e){return(0,CT.Ay)("MuiTableContainer",e)}(0,xT.A)("MuiTableContainer",["root"]);const WF=["className","component"],qF=(0,vT.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),HF=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiTableContainer"}),{className:r,component:i="div"}=n,o=(0,dT.A)(n,WF),s=(0,hT.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"]},VF,t)})(s);return(0,cT.jsx)(qF,(0,hT.A)({ref:t,as:i,className:(0,pT.A)(a.root,r),ownerState:s},o))})),KF=HF;const GF=t.createContext();function QF(e){return(0,CT.Ay)("MuiTable",e)}(0,xT.A)("MuiTable",["root","stickyHeader"]);const $F=["className","component","padding","size","stickyHeader"],YF=(0,vT.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,hT.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),XF="table",JF=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiTable"}),{className:i,component:o=XF,padding:s="normal",size:a="medium",stickyHeader:l=!1}=r,c=(0,dT.A)(r,$F),u=(0,hT.A)({},r,{component:o,padding:s,size:a,stickyHeader:l}),d=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,gT.A)(r,QF,t)})(u),h=t.useMemo((()=>({padding:s,size:a,stickyHeader:l})),[s,a,l]);return(0,cT.jsx)(GF.Provider,{value:h,children:(0,cT.jsx)(YF,(0,hT.A)({as:o,role:o===XF?null:"table",ref:n,className:(0,pT.A)(d.root,i),ownerState:u},c))})})),ZF=JF;const ej=t.createContext();function tj(e){return(0,CT.Ay)("MuiTableHead",e)}(0,xT.A)("MuiTableHead",["root"]);const nj=["className","component"],rj=(0,vT.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),ij={variant:"head"},oj="thead",sj=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiTableHead"}),{className:r,component:i=oj}=n,o=(0,dT.A)(n,nj),s=(0,hT.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"]},tj,t)})(s);return(0,cT.jsx)(ej.Provider,{value:ij,children:(0,cT.jsx)(rj,(0,hT.A)({as:i,className:(0,pT.A)(a.root,r),ref:t,role:i===oj?null:"rowgroup",ownerState:s},o))})})),aj=sj;function lj(e){return(0,CT.Ay)("MuiTableRow",e)}const cj=(0,xT.A)("MuiTableRow",["root","selected","hover","head","footer"]),uj=["className","component","hover","selected"],dj=(0,vT.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(cj.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(cj.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,jT.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),hj="tr",pj=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiTableRow"}),{className:i,component:o=hj,hover:s=!1,selected:a=!1}=r,l=(0,dT.A)(r,uj),c=t.useContext(ej),u=(0,hT.A)({},r,{component:o,hover:s,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),d=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e,s={root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]};return(0,gT.A)(s,lj,t)})(u);return(0,cT.jsx)(dj,(0,hT.A)({as:o,ref:n,className:(0,pT.A)(d.root,i),role:o===hj?null:"row",ownerState:u},l))})),fj=pj;function mj(e){return(0,CT.Ay)("MuiTableCell",e)}const gj=(0,xT.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),vj=["align","className","component","padding","scope","size","sortDirection","variant"],yj=(0,vT.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat((0,CI.A)(n.size))],"normal"!==n.padding&&t["padding".concat((0,CI.A)(n.padding))],"inherit"!==n.align&&t["align".concat((0,CI.A)(n.align))],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,jT.a)((0,jT.X4)(t.palette.divider,1),.88):(0,jT.e$)((0,jT.X4)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",["&.".concat(gj.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),bj=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiTableCell"}),{align:i="inherit",className:o,component:s,padding:a,scope:l,size:c,sortDirection:u,variant:d}=r,h=(0,dT.A)(r,vj),p=t.useContext(GF),f=t.useContext(ej),m=f&&"head"===f.variant;let g;g=s||(m?"th":"td");let v=l;"td"===g?v=void 0:!v&&m&&(v="col");const y=d||f&&f.variant,b=(0,hT.A)({},r,{align:i,component:g,padding:a||(p&&p.padding?p.padding:"normal"),size:c||(p&&p.size?p.size:"medium"),sortDirection:u,stickyHeader:"head"===y&&p&&p.stickyHeader,variant:y}),w=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:s}=e,a={root:["root",n,s&&"stickyHeader","inherit"!==r&&"align".concat((0,CI.A)(r)),"normal"!==i&&"padding".concat((0,CI.A)(i)),"size".concat((0,CI.A)(o))]};return(0,gT.A)(a,mj,t)})(b);let _=null;return u&&(_="asc"===u?"ascending":"descending"),(0,cT.jsx)(yj,(0,hT.A)({as:g,ref:n,className:(0,pT.A)(w.root,o),"aria-sort":_,scope:v,ownerState:b},h))})),wj=bj;function _j(e){return(0,CT.Ay)("MuiTableBody",e)}(0,xT.A)("MuiTableBody",["root"]);const Sj=["className","component"],kj=(0,vT.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),xj={variant:"body"},Cj="tbody",Aj=t.forwardRef((function(e,t){const n=(0,yT.A)({props:e,name:"MuiTableBody"}),{className:r,component:i=Cj}=n,o=(0,dT.A)(n,Sj),s=(0,hT.A)({},n,{component:i}),a=(e=>{const{classes:t}=e;return(0,gT.A)({root:["root"]},_j,t)})(s);return(0,cT.jsx)(ej.Provider,{value:xj,children:(0,cT.jsx)(kj,(0,hT.A)({className:(0,pT.A)(a.root,r),as:i,ref:t,role:i===Cj?null:"rowgroup",ownerState:s},o))})})),Ej=Aj;var Tj=n(4321),Ij=n(588);const Rj=(0,TP.A)((0,cT.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3M8 13h2.55v3h2.9v-3H16l-4-4z"}),"CloudUploadOutlined"),Nj=e=>{let{onImageSelect:n}=e;const[r,i]=(0,t.useState)(null);return(0,cT.jsxs)(lD,{sx:{mb:2,p:2,border:"1px solid",borderRadius:"8px"},children:[(0,cT.jsx)(ZO,{paddingBottom:2,id:"modal-modal-title",variant:"h6",component:"h2",children:"Bild hochladen"}),(0,cT.jsxs)(lD,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,cT.jsxs)(LI,{variant:"contained",component:"label",startIcon:(0,cT.jsx)(Rj,{}),sx:{width:"100%"},children:["Datei ausw\xe4hlen",(0,cT.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:e=>{e.target.files&&e.target.files[0]&&(i(e.target.files[0]),n(e.target.files[0]))}})]}),r&&(0,cT.jsxs)(ZO,{variant:"body2",color:"textSecondary",children:["Ausgew\xe4hlte Datei: ",r.name]})]})]})},Pj={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",height:"80vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,overflowY:"auto"},Oj={mb:2,p:2,border:"1px solid",borderRadius:"8px"},Dj={position:"relative",float:"right","@media (max-width: 600px)":{float:"none",marginTop:"16px"}},Mj={display:"none","@media (max-width: 600px)":{display:"block","& .table-container":{display:"none"},"& .mobile-view":{display:"block"}}},Lj={display:"block","@media (max-width: 600px)":{display:"none"}},Fj=(0,vT.Ay)(EO)((()=>({"& .MuiSelect-select":{height:"auto"},"& .MuiMenuItem-root":{"&.Mui-selected":{backgroundColor:"#d3d3d3"},"&.Mui-selected:hover":{backgroundColor:"#d3d300"}}})));function jj(e){let{recipe:n,isNew:r}=e;const[i,o]=t.useState(!1),s=(0,t.useRef)(null),a=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),u=(0,t.useRef)(null),[d,h]=(0,t.useState)(n.steps),p=(0,t.useRef)(null),[f,m]=(0,t.useState)(n.tags),[g,v]=(0,t.useState)(n.ingredients),[y,b]=(0,t.useState)(n.difficulty),[w,_]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[x,C]=(0,t.useState)(n.public),[A,E]=(0,t.useState)(!1),[T,I]=(0,t.useState)(null),{currentUser:R}=IM(),N=Object.keys(SD),P=Object.keys(kD),O=ee();(0,t.useEffect)((()=>{E(n.author==vz&&Boolean(R))}),[R]);const{handleUpdateRecipe:D,handleCreateRecipe:M,handleDeleteRecipe:L,handleGetRecipeById:F}=DM(),j=()=>{o(!1)},z=async(e,t)=>{e&&await M(e,t)},U=async(e,t,n,r)=>{let i=await async function(e,t){if(!e)return!0;const n=await ZD(e);return!n||!t||t>=n.date_edit}(e,n);i?e&&t&&await D(e,t,r):alert("In der Online Datenbank wurde eine aktuellere Version des Rezeptes gefunden. Bitte lade die Seite neu, bevor du das Rezept editierst")},B=(e,t,n)=>{const r=[...g];r[e]={...r[e],[t]:n},v(r)},V=e=>{v(g.filter(((t,n)=>n!==e)))},W=()=>{setTimeout((()=>{window.location.reload()}),0)};return(0,cT.jsxs)("div",{children:[(0,cT.jsx)("h1",{children:(0,cT.jsx)(LI,{onClick:()=>{o(!0)},variant:"outlined",children:r?"Rezept erstellen":"Rezept bearbeiten"})}),(0,cT.jsx)(VR,{open:i,onClose:j,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,cT.jsxs)(lD,{sx:Pj,children:[(0,cT.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"16px"},children:(0,cT.jsx)(LI,{onClick:j,variant:"outlined",startIcon:(0,cT.jsx)(Ij.A,{}),children:"Abbrechen"})}),(0,cT.jsxs)(lD,{sx:Oj,children:[(0,cT.jsx)(ZO,{paddingBottom:2,id:"modal-modal-title",variant:"h6",component:"h2",children:"Allgemeine Informationen"}),(0,cT.jsxs)(iF,{spacing:{xs:2,sm:2,md:4},paddingBottom:2,children:[(0,cT.jsx)(_D,{size:"small",inputRef:s,disabled:!r,required:!0,id:"id",label:"Id des Rezeptes",defaultValue:n.id,error:w,helperText:w?"ID bereits vergeben":""}),(0,cT.jsx)(_D,{size:"small",inputRef:a,required:!0,id:"name",label:"Name des Rezeptes",defaultValue:n.name}),A?(0,cT.jsx)(LL,{children:(0,cT.jsx)(IF,{control:(0,cT.jsx)(BF,{checked:S,onChange:e=>{k(e.target.checked)}}),label:"Rezept aneignen"})}):null,(0,cT.jsx)(_D,{size:"small",multiline:!0,required:!0,inputRef:p,id:"description",label:"Beschreibung des Rezeptes",defaultValue:n.description}),(0,cT.jsx)(LL,{children:(0,cT.jsx)(IF,{control:(0,cT.jsx)(BF,{checked:x,onChange:e=>{C(e.target.checked)}}),label:"Rezept ver\xf6ffentlichen?"})}),(0,cT.jsx)(_D,{size:"small",inputRef:l,required:!0,type:"number",id:"numberOfPeople",label:"Anzahl an Personen",defaultValue:n.number_of_people}),(0,cT.jsx)(_D,{size:"small",type:"number",inputRef:c,id:"time",label:"Dauer in Minuten",defaultValue:n.time}),(0,cT.jsx)(Fj,{size:"small",name:"Schwierigkeit",value:kD[y],onChange:e=>b(e.target.value),displayEmpty:!0,fullWidth:!0,variant:"outlined",renderValue:e=>{const t=e;return(0,cT.jsx)("div",{children:(0,cT.jsx)("span",{style:{margin:"2px",padding:"2px 6px",borderRadius:"4px",backgroundColor:"#d3d3d3"},children:t})})},children:P.map((e=>(0,cT.jsx)(KO,{value:e,children:kD[parseInt(e)]},e)))}),(0,cT.jsx)(Fj,{size:"small",multiple:!0,value:f,onChange:e=>m(e.target.value),renderValue:e=>{const t=e;return(0,cT.jsx)("div",{children:t.map((e=>(0,cT.jsx)("span",{style:{margin:"2px",padding:"2px 6px",borderRadius:"4px",backgroundColor:"#d3d3d3"},children:SD[e]},e)))})},displayEmpty:!0,fullWidth:!0,variant:"outlined",children:N.map((e=>(0,cT.jsx)(KO,{value:e,children:SD[parseInt(e)]},e+"recipe-edit")))}),(0,cT.jsx)(_D,{size:"small",inputRef:u,id:"image-link",label:"Link auf Bild des Rezeptes",defaultValue:n.image})]})]}),(0,cT.jsx)(Nj,{onImageSelect:e=>{I(e)}}),(0,cT.jsxs)(lD,{sx:Oj,children:[(0,cT.jsx)(ZO,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Zutaten bearbeiten"}),(0,cT.jsx)(lD,{sx:Lj,children:(0,cT.jsx)(KF,{component:QR,children:(0,cT.jsxs)(ZF,{children:[(0,cT.jsx)(aj,{children:(0,cT.jsxs)(fj,{children:[(0,cT.jsx)(wj,{children:"Name"}),(0,cT.jsx)(wj,{children:"Menge"}),(0,cT.jsx)(wj,{children:"Einheit"}),(0,cT.jsx)(wj,{children:"Aktionen"})]})}),(0,cT.jsx)(Ej,{children:g.map(((e,t)=>(0,cT.jsxs)(fj,{children:[(0,cT.jsx)(wj,{children:(0,cT.jsx)(_D,{value:e.name,onChange:e=>B(t,"name",e.target.value),fullWidth:!0})}),(0,cT.jsx)(wj,{children:(0,cT.jsx)(_D,{type:"number",value:e.amount,onChange:e=>B(t,"amount",parseFloat(e.target.value)),fullWidth:!0})}),(0,cT.jsx)(wj,{children:(0,cT.jsx)(_D,{value:e.unit,onChange:e=>B(t,"unit",e.target.value),fullWidth:!0})}),(0,cT.jsx)(wj,{children:(0,cT.jsx)(LI,{onClick:()=>V(t),children:"Entfernen"})})]},t)))})]})})}),(0,cT.jsx)(lD,{sx:Mj,className:"mobile-view",children:g.map(((e,t)=>(0,cT.jsxs)(lD,{sx:Oj,children:[(0,cT.jsx)(_D,{label:"Name",value:e.name,onChange:e=>B(t,"name",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,cT.jsx)(_D,{type:"number",label:"Menge",value:e.amount,onChange:e=>B(t,"amount",parseFloat(e.target.value)),fullWidth:!0,sx:{mb:1}}),(0,cT.jsx)(_D,{label:"Einheit",value:e.unit,onChange:e=>B(t,"unit",e.target.value),fullWidth:!0,sx:{mb:1}}),(0,cT.jsx)(LI,{onClick:()=>V(t),children:"Entfernen"})]},t)))}),(0,cT.jsx)(LI,{onClick:()=>{v([...g,{name:"",amount:0,unit:""}])},variant:"contained",color:"primary",sx:{mt:2},children:"Zeile hinzuf\xfcgen"})]}),(0,cT.jsxs)(lD,{sx:Oj,children:[(0,cT.jsx)(ZO,{paddingBottom:2,id:"modal-modal-title",variant:"h6",component:"h2",children:"Schritte"}),d.map(((e,t)=>(0,cT.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,cT.jsx)(_D,{fullWidth:!0,size:"small",multiline:!0,label:"Schritt ".concat(t+1),value:e,onChange:e=>((e,t)=>{const n=[...d];n[e]=t,h(n)})(t,e.target.value)}),(0,cT.jsx)(LI,{onClick:()=>(e=>{const t=d.filter(((t,n)=>n!==e));h(t)})(t),disabled:1===d.length,children:"Entfernen"})]},t))),(0,cT.jsx)(LI,{onClick:()=>{h([...d,""])},variant:"contained",color:"primary",sx:{mt:2},children:"Schritt hinzuf\xfcgen"})]}),(0,cT.jsxs)("div",{children:[(0,cT.jsx)(LI,{onClick:()=>{r||(async()=>{n.id&&await L(n.id,n.public)})().then((()=>{O("#/my_recipes",{replace:!0}),W()})),j()},variant:"outlined",color:"error",startIcon:(0,cT.jsx)(Tj.A,{}),children:"Rezept l\xf6schen"}),(0,cT.jsxs)(lD,{sx:Dj,children:[(0,cT.jsx)(LI,{onClick:j,variant:"outlined",startIcon:(0,cT.jsx)(Ij.A,{}),style:{marginRight:"16px"},children:"Abbrechen"}),(0,cT.jsx)(LI,{onClick:async()=>{let e={id:s.current&&r?s.current.value:n.id,name:a.current?a.current.value:n.name,ingredients:g,number_of_people:l.current?parseInt(l.current.value):parseInt(n.number_of_people),time:c.current?parseInt(c.current.value):parseInt(n.time),image:u.current?u.current.value:n.image,steps:d,description:p.current?p.current.value:n.description,difficulty:y,tags:f,favorites:n.favorites,author:S&&null!==R&&void 0!==R&&R.email?R.email:n.author,date_create:n.date_create,date_edit:vg.now(),public:x};r&&!1===await(async e=>!await F(e)&&"undefined"!=e)(e.id)?_(!0):(_(!1),T?r?z(e,T).then((()=>W())):U(n.id,e,n.date_edit,T).then((()=>W())):r?z(e).then((()=>W())):U(n.id,e,n.date_edit).then((()=>W())),j())},variant:"contained",color:"primary",children:"Speichern"})]})]})]})})]})}var zj=n(2232);function Uj(e){let{defaultTime:n}=e;const[r,i]=(0,t.useState)(n),[o,s]=(0,t.useState)(!1),a=(0,t.useRef)(null),l=(0,t.useRef)(null);(0,t.useEffect)((()=>(o&&r>0&&(a.current=window.setInterval((()=>{i((e=>e-1))}),1e3)),0===r&&o&&(l.current&&l.current.play(),alert("Zeit ist abgelaufen!"),c()),()=>{a.current&&(clearInterval(a.current),a.current=null)})),[o,r]);const c=()=>{s(!1),a.current&&(clearInterval(a.current),a.current=null),l.current&&(l.current.pause(),l.current.currentTime=0)};return(0,cT.jsxs)("div",{style:{position:"sticky",bottom:2,width:"auto",backgroundColor:zj.A[200],borderRadius:10,display:"flex",flexDirection:"column",alignItems:"center",paddingTop:"5px",fontSize:"xx-large"},children:[(0,cT.jsx)("div",{style:{fontSize:"2rem",padding:"0px 5px 0px 5px",marginBottom:"5px",color:"#1976d2",backgroundColor:"#ffffff",borderRadius:7},children:(0,cT.jsx)("span",{children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))})(r)})}),(0,cT.jsxs)("span",{style:{display:"flex",gap:"1rem",paddingBottom:5},children:[(0,cT.jsx)(LI,{onClick:()=>{o||s(!0)},disabled:o,children:"Start"}),(0,cT.jsx)(LI,{onClick:c,disabled:!o,children:"Stop"}),(0,cT.jsx)(LI,{onClick:()=>{const e=prompt("Zeit in Minuten angeben:");if(e){const t=parseInt(e,10);isNaN(t)?alert("Ung\xfcltige Eingabe. Bitte geben Sie eine Zahl ein."):i(60*t)}},children:"Timer stellen"}),(0,cT.jsx)(LI,{onClick:()=>{s(!1),a.current&&(clearInterval(a.current),a.current=null),i(n),l.current&&(l.current.pause(),l.current.currentTime=0)},children:"Reset"})]}),(0,cT.jsx)("audio",{ref:l,src:"/timeralarm.mp3"})]})}const Bj={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"80vw",height:"80vh",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4,pb:0,overflowY:"auto"},Vj={mb:2,p:2,border:"1px solid",borderRadius:"8px"};function Wj(e){let{recipe:n,numberOfServings:r}=e;const[i,o]=t.useState(!1),s=()=>{o(!1)},a=n.ingredients.map((e=>({...e,amount:e.amount/n.number_of_people*r})));return(0,t.useEffect)((()=>(document.body.style.overflow=i?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[i]),(0,cT.jsxs)("div",{children:[(0,cT.jsx)("div",{style:{position:"fixed",right:0,bottom:0,paddingBottom:6,paddingRight:6},children:(0,cT.jsx)(LI,{onClick:()=>{o(!0)},variant:"contained",children:"Kochmodus starten"})}),(0,cT.jsx)(VR,{open:i,onClose:s,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,cT.jsxs)(lD,{sx:Bj,children:[(0,cT.jsx)("div",{style:{display:"flex",justifyContent:"end",marginBottom:"16px"},children:(0,cT.jsx)(LI,{onClick:s,variant:"outlined",startIcon:(0,cT.jsx)(Ij.A,{}),children:"Kochmodus beenden"})}),(0,cT.jsxs)(lD,{sx:Vj,id:"recipeHead",children:[(0,cT.jsx)("h1",{children:n.name}),(0,cT.jsxs)("div",{children:[(0,cT.jsx)(LI,{style:{paddingLeft:0,marginLeft:0,minWidth:0},children:kD[n.difficulty]}),n.tags.map((e=>(0,cT.jsxs)(LI,{children:[" ",SD[e]]},SD[e]+"-cookmode")))]}),(0,cT.jsxs)("p",{className:"text",children:[" Gesamtdauer: ",n.time," min"]}),(0,cT.jsx)("p",{className:"text",children:n.description})]}),(0,cT.jsxs)(lD,{sx:Vj,id:"recipeContent",children:[(0,cT.jsx)("h2",{children:"Zutaten"}),(0,cT.jsxs)("p",{className:"text",children:["Anzahl der Personen: ",r]}),(0,cT.jsx)("ul",{children:a.map((e=>(0,cT.jsxs)("li",{className:"text",children:[e.name," ",e.amount.toFixed(2)," ",e.unit]},e.name+"-cookmode")))}),(0,cT.jsx)("h2",{children:"Schritte"}),(0,cT.jsx)("ol",{children:n.steps.map((e=>(0,cT.jsx)("li",{style:{marginBottom:"20px"},className:"text",children:e},e)))})]}),(0,cT.jsx)(Uj,{defaultTime:60*n.time})]})})]})}const qj=(0,TP.A)((0,cT.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share");function Hj(e){let{recipe:t}=e;return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(LI,{color:"secondary",variant:"contained",startIcon:(0,cT.jsx)(qj,{}),onClick:async function(){const e={title:t.name,test:t.description,url:"https://alexanderreiprich.github.io/pwa-cookbook/recipes?id=".concat(t.id)},n=document.getElementById("result");try{await navigator.share(e),n.textContent="Rezept wurde geteilt."}catch(bs){n.textContent="Fehler beim Teilen. Bitte versuche es nochmal."}},style:{paddingLeft:"25px"}}),(0,cT.jsx)("i",{id:"result",style:{paddingLeft:"10px"}})]})}const Kj=function(){const[e]=Se(),n=e.get("id"),[r,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0),[a,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(!1),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),{handleGetRecipeById:v,handleChangeRecipeVisibility:y}=DM(),{isOnline:b}=OM(),{currentUser:w}=IM(),_=ee(),[S,k]=(0,t.useState)(4),x=()=>{_("/",{replace:!0}),window.location.reload()};if((0,t.useEffect)((()=>{(async()=>{try{if(n){const e=await v(n);i(e),u(e.public),k(e.number_of_people),g(e.public),f(Boolean(null===e||void 0===e?void 0:e.author)&&(null===e||void 0===e?void 0:e.author)==(null===w||void 0===w?void 0:w.email)||(null===e||void 0===e?void 0:e.author)===vz),h(b&&Boolean(null===e||void 0===e?void 0:e.author)&&(null===e||void 0===e?void 0:e.author)==(null===w||void 0===w?void 0:w.email))}else l("Fehler beim Abrufen der Id des Rezepts.")}catch(e){return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(IL,{title:"Rezepte"}),(0,cT.jsx)("p",{children:"Fehler beim Laden des Rezeptes... es wurde vermutlich gel\xf6scht oder depubliziert"}),(0,cT.jsxs)(LI,{onClick:x,variant:"contained",children:[" ","Zur\xfcck zur \xdcbersicht?"]})]})}finally{s(!1)}})()}),[n,w]),o)return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(IL,{title:"Rezepte"}),(0,cT.jsx)("p",{children:"Rezept wird geladen..."})]});if(a)return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(IL,{title:"Rezepte"}),(0,cT.jsx)("p",{children:a})]});if(!r)return(0,cT.jsxs)("div",{children:[(0,cT.jsx)(IL,{title:"Rezepte"}),(0,cT.jsx)("p",{children:"Rezept konnte leider nicht geladen werden... es wurde vermutlich gel\xf6scht oder depubliziert"}),(0,cT.jsxs)(LI,{onClick:x,variant:"contained",children:[" ","Zur\xfcck zur \xdcbersicht?"]})]});const C=r.ingredients.map((e=>({...e,amount:e.amount/r.number_of_people*S})));return(0,cT.jsxs)(RL,{title:"Rezepte",children:[(0,cT.jsxs)(LT,{container:!0,spacing:10,justifyContent:"center",paddingTop:3,paddingBottom:3,children:[(0,cT.jsxs)(LT,{item:!0,id:"recipeHead",xs:10,md:5,style:{paddingTop:"40px"},children:[(0,cT.jsx)("h1",{children:r.name}),(0,cT.jsxs)("div",{children:[(0,cT.jsx)("div",{children:(0,cT.jsxs)("i",{children:["von: ",r.author]})}),(0,cT.jsxs)("div",{children:["erstellt am: ",aM(r.date_create)]})]}),d?(0,cT.jsx)("div",{children:(0,cT.jsx)(LL,{sx:{borderRadius:2,borderColor:"#000000",borderWidth:"1px"},children:(0,cT.jsxs)(iF,{direction:"row",spacing:1,sx:{alignItems:"center"},children:[(0,cT.jsx)("b",{children:"Lokal"}),(0,cT.jsx)(wF,{onChange:e=>{r&&(y(r.id,!c),u(!c),g(!m))},checked:c}),(0,cT.jsx)("b",{children:"\xd6ffentlich"})]})})}):null,p?(0,cT.jsx)(jj,{recipe:r,isNew:!1}):null,(0,cT.jsxs)("div",{children:[(0,cT.jsx)(LI,{style:{paddingLeft:0,marginLeft:0,minWidth:0,color:"#9c27b0",fontWeight:"bold"},children:kD[r.difficulty]}),r.tags.map((e=>(0,cT.jsxs)(LI,{children:[" ",SD[e]]},SD[e]))),(0,cT.jsx)(SF,{recipe:r,favorites:r.favorites}),(0,cT.jsx)(Hj,{recipe:r}),(0,cT.jsx)(Wj,{recipe:r,numberOfServings:S})]}),(0,cT.jsxs)("p",{children:[" Dauer: ",r.time," min"]}),(0,cT.jsx)("p",{children:r.description})]}),(0,cT.jsx)(LT,{item:!0,id:"recipeImage",xs:10,md:5,children:(0,cT.jsx)("div",{id:"recipeImgContainer",children:(0,cT.jsx)("img",{className:"image",src:r.image?r.image:"../public/default.jpg",alt:r.name})})}),(0,cT.jsxs)(LT,{item:!0,id:"recipeContent",xs:10,style:{paddingTop:"10px"},children:[(0,cT.jsx)("h2",{children:"Zutaten"}),(0,cT.jsx)("p",{children:"Anzahl der Personen:"}),(0,cT.jsx)(lD,{sx:{padding:3},children:(0,cT.jsx)(_D,{type:"number",size:"small",value:S,onChange:e=>{const t=Number(e.target.value);k(t)},inputProps:{min:1},sx:{width:"100px"}})}),(0,cT.jsx)("ul",{children:C.map((e=>{var t;return(0,cT.jsxs)("li",{children:[e.name," ",0==e.amount?"":Number.isInteger(e.amount)?e.amount.toFixed():e.amount.toFixed((null===(t=(Math.round(1e12*e.amount)/1e12).toString().split(".")[1])||void 0===t?void 0:t.length)||0)," ",e.unit]},e.name)}))}),(0,cT.jsx)("h2",{children:"Schritte"}),(0,cT.jsx)("ol",{children:r.steps.map((e=>(0,cT.jsx)("li",{style:{marginBottom:"10px"},children:e},e)))})]})]}),(0,cT.jsx)(Wj,{recipe:r,numberOfServings:S})]})},Gj=(e,t)=>(0,hT.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Qj=e=>(0,hT.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const $j=function(e){const n=(0,yT.A)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:i=!1}=n;return(0,cT.jsxs)(t.Fragment,{children:[(0,cT.jsx)(FP,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const r={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;var o;r[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(o=i.palette)?void 0:o.mode}}));let i=(0,hT.A)({html:Gj(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,hT.A)({margin:0},Qj(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const o=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return o&&(i=[i,o]),i}(e,i)}),r]})};function Yj(e){return(0,CT.Ay)("MuiLink",e)}const Xj=(0,xT.A)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var Jj=n(3720);const Zj={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ez=e=>{let{theme:t,ownerState:n}=e;const r=(e=>Zj[e]||e)(n.color),i=(0,Jj.Yn)(t,"palette.".concat(r),!1)||n.color,o=(0,Jj.Yn)(t,"palette.".concat(r,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,jT.X4)(i,.4)},tz=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],nz=(0,vT.Ay)(ZO,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["underline".concat((0,CI.A)(n.underline))],"button"===n.component&&t.button]}})((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,hT.A)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:ez({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(Xj.focusVisible)]:{outline:"auto"}})})),rz=t.forwardRef((function(e,n){const r=(0,yT.A)({props:e,name:"MuiLink"}),{className:i,color:o="primary",component:s="a",onBlur:a,onFocus:l,TypographyClasses:c,underline:u="always",variant:d="inherit",sx:h}=r,p=(0,dT.A)(r,tz),{isFocusVisibleRef:f,onBlur:m,onFocus:g,ref:v}=(0,VT.A)(),[y,b]=t.useState(!1),w=(0,UT.A)(n,v),_=(0,hT.A)({},r,{color:o,component:s,focusVisible:y,underline:u,variant:d}),S=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root","underline".concat((0,CI.A)(i)),"button"===n&&"button",r&&"focusVisible"]};return(0,gT.A)(o,Yj,t)})(_);return(0,cT.jsx)(nz,(0,hT.A)({color:o,className:(0,pT.A)(S.root,i),classes:c,component:s,onBlur:e=>{m(e),!1===f.current&&b(!1),a&&a(e)},onFocus:e=>{g(e),!0===f.current&&b(!0),l&&l(e)},ref:w,ownerState:_,variant:d,sx:[...Object.keys(Zj).includes(o)?[]:[{color:o}],...Array.isArray(h)?h:[h]]},p))})),iz=rz;var oz=n(872);const sz=["className","component","disableGutters","fixed","maxWidth","classes"],az=(0,FL.A)(),lz=QL("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,oz.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),cz=e=>(0,$L.A)({props:e,name:"MuiContainer",defaultTheme:az});const uz=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=lz,useThemeProps:r=cz,componentName:i="MuiContainer"}=e,o=n((e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const r=n,i=t.breakpoints.values[r];return 0!==i&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(i).concat(t.breakpoints.unit)}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,hT.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})})),s=t.forwardRef((function(e,t){const n=r(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:u="lg"}=n,d=(0,dT.A)(n,sz),h=(0,hT.A)({},n,{component:a,disableGutters:l,fixed:c,maxWidth:u}),p=((e,t)=>{const{classes:n,fixed:r,disableGutters:i,maxWidth:o}=e,s={root:["root",o&&"maxWidth".concat((0,oz.A)(String(o))),r&&"fixed",i&&"disableGutters"]};return(0,gT.A)(s,(e=>(0,CT.Ay)(t,e)),n)})(h,i);return(0,cT.jsx)(o,(0,hT.A)({as:a,ownerState:h,className:(0,pT.A)(p.root,s),ref:t},d))}));return s}({createStyledComponent:(0,vT.Ay)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat((0,CI.A)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,yT.A)({props:e,name:"MuiContainer"})}),dz=uz;function hz(){var e,n,r,i;let o=ee(),s=J(),a=(null===(e=s.state)||void 0===e||null===(n=e.from)||void 0===n?void 0:n.pathname)+(null===(r=s.state)||void 0===r||null===(i=r.from)||void 0===i?void 0:i.search)||"/";const[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)(""),h=es();return(0,cT.jsx)(RL,{title:"Login",children:(0,cT.jsxs)(dz,{component:"main",maxWidth:"xs",children:[(0,cT.jsx)($j,{}),(0,cT.jsxs)(lD,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,cT.jsx)(ZO,{component:"h1",variant:"h5",children:"Anmelden"}),(0,cT.jsxs)(lD,{component:"form",onSubmit:e=>{e.preventDefault();const t=new FormData(e.currentTarget);(function(e,t,n){return Di(vt(e),bi.credential(t,n))})(h,t.get("email").toString(),t.get("password").toString()).then((e=>{e.user;o(a)})).catch((e=>{const t=e.code;switch(console.error(t,e.message),t){case"auth/invalid-email":c("Diese E-Mail-Adresse scheint nicht zu exisitieren.");break;case"auth/invalid-login-credentials":d("Diese E-Mail-Passwort-Kombination ist falsch.");break;case"auth/too-many-requests":d("Zu viele Anfragen, bitte versuche es sp\xe4ter noch einmal.");break;default:c("Ein unerwarteter Fehler ist aufgetreten.")}}))},noValidate:!0,sx:{mt:1},children:[(0,cT.jsx)(_D,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-Mail-Adresse",name:"email",autoComplete:"email",autoFocus:!0}),(0,cT.jsx)("label",{className:"errorLabel",children:l}),(0,cT.jsx)(_D,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Passwort",type:"password",id:"password",autoComplete:"current-password"}),(0,cT.jsx)("label",{className:"errorLabel",children:u}),(0,cT.jsx)(LI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Anmelden"}),(0,cT.jsx)(LT,{container:!0,children:(0,cT.jsx)(LT,{item:!0,children:(0,cT.jsx)(iz,{href:"#/signup",variant:"body2",children:"Kein Account? Hier registrieren!"})})})]})]})]})})}function pz(){let e=ee();const[n,r]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[s,a]=(0,t.useState)("");return(0,cT.jsxs)(dz,{component:"main",maxWidth:"xs",children:[(0,cT.jsx)($j,{}),(0,cT.jsxs)(lD,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,cT.jsx)(ZO,{component:"h1",variant:"h5",children:"Registrieren"}),(0,cT.jsxs)(lD,{component:"form",noValidate:!0,onSubmit:t=>{t.preventDefault(),a(""),o(""),r("");const n=new FormData(t.currentTarget);(async function(e,t,n){var r;const i=oi(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await ni(i,o,"signUpPassword");s=Ai(i,e)}else s=Ai(i,o).catch((async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await ni(i,o,"signUpPassword");return Ai(i,e)}return Promise.reject(e)}));const a=await s.catch((e=>Promise.reject(e))),l=await Ei._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l})(es(),n.get("email").toString(),n.get("password").toString()).then((async t=>{let r=n.get("username").toString();await Jk($S(Cz,"users",r),{email:n.get("email").toString(),favorites:[],created_recipes:[]});const i=t.user;await Mi(i,{displayName:r}),e("#/login")})).catch((e=>{switch(e.code){case"auth/email-already-in-use":o("Diese E-Mail-Adresse wird bereits verwendet.");break;case"auth/weak-password":a("Dieses Password ist zu kurz. Bitte versuche ein anderes.");break;default:o("Ein unerwarteter Fehler ist aufgetreten.")}}))},sx:{mt:3},children:[(0,cT.jsxs)(LT,{container:!0,spacing:2,children:[(0,cT.jsx)(LT,{item:!0,xs:12,children:(0,cT.jsx)(_D,{autoComplete:"username",name:"username",required:!0,fullWidth:!0,id:"username",label:"Nutzername",autoFocus:!0,onBlur:async()=>{let e=document.getElementById("username").value;if(""!=e){const t=$S(Cz,"users",e),n=await $k(t),i=document.getElementById("submitBtn");n.exists()?(i.disabled=!0,r("Nutzername bereits vergeben.")):(i.disabled=!1,r(""))}}})}),(0,cT.jsx)("label",{className:"errorLabel",children:n}),(0,cT.jsx)(LT,{item:!0,xs:12,children:(0,cT.jsx)(_D,{required:!0,fullWidth:!0,id:"email",label:"E-Mail-Addresse",name:"email",autoComplete:"email"})}),(0,cT.jsx)("label",{className:"errorLabel",children:i}),(0,cT.jsx)(LT,{item:!0,xs:12,children:(0,cT.jsx)(_D,{required:!0,fullWidth:!0,name:"password",label:"Passwort",type:"password",id:"password",autoComplete:"new-password"})}),(0,cT.jsx)("label",{className:"errorLabel",children:s})]}),(0,cT.jsx)(LI,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},id:"submitBtn",children:"Registrieren"}),(0,cT.jsx)(LT,{container:!0,justifyContent:"flex-end",children:(0,cT.jsx)(LT,{item:!0,children:(0,cT.jsx)(iz,{href:"#/login",variant:"body2",children:"Bereits einen Account erstellt? Hier anmelden!"})})})]})]})]})}function fz(){const{currentUser:e}=IM();let t={id:"",name:"",ingredients:[],number_of_people:0,time:0,image:"",steps:[],description:"",difficulty:kD.Einfach,tags:[],favorites:0,author:e?e.displayName?e.displayName:e.email?e.email:vz:vz,date_create:vg.now(),date_edit:vg.now(),public:!1};return(0,cT.jsx)("div",{children:(0,cT.jsx)(jj,{recipe:t,isNew:!0})})}const mz=function(){return(0,cT.jsxs)(RL,{title:"Meine Rezepte",children:[(0,cT.jsx)(fz,{}),(0,cT.jsx)(LM,{constraint:MM.OWNED})]})};const gz=function(){return(0,cT.jsx)(RL,{title:"Favorisierte Rezepte",children:(0,cT.jsx)(LM,{constraint:MM.FAVORED})})},vz="unknown";const yz=function(){return(0,cT.jsx)(lT,{sdk:Cz,children:(0,cT.jsx)(be,{children:(0,cT.jsx)(RM,{children:(0,cT.jsxs)(me,{children:[(0,cT.jsx)(pe,{path:"/",element:(0,cT.jsx)(NL,{})}),(0,cT.jsx)(pe,{path:"/login",element:(0,cT.jsx)(hz,{})}),(0,cT.jsx)(pe,{path:"/signup",element:(0,cT.jsx)(pz,{})}),(0,cT.jsx)(pe,{path:"/recipes",element:(0,cT.jsx)(Kj,{})}),(0,cT.jsx)(pe,{path:"/my_recipes",element:(0,cT.jsx)(mz,{})}),(0,cT.jsx)(pe,{path:"/favorite_recipes",element:(0,cT.jsx)(gz,{})})]})})})})},bz=e=>{e&&e instanceof Function&&n.e(551).then(n.bind(n,3551)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:s}=t;n(e),r(e),i(e),o(e),s(e)}))},wz=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _z(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const Sz={apiKey:"AIzaSyBKEtWnPeJ_oO1r0G5dvyZeAezZzd7T6Jo",authDomain:"pwacookbook.firebaseapp.com",projectId:"pwacookbook",storageBucket:"pwacookbook.appspot.com",messagingSenderId:"580668056456",appId:"1:580668056456:web:770d132b3cbf581fcc903d"},kz=o.createRoot(document.getElementById("root")),xz=Pn(Sz),Cz=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Tn("object"==typeof e?e:On(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=ze("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const o=(e=VS(e,qS))._getSettings(),s="".concat(t,":").concat(n);if("firestore.googleapis.com"!==o.host&&o.host!==s&&Xm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Hm.MOCK_USER;else{t=We(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new rg(ng.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Hm(o)}e._authCredentials=new ag(new og(t,n))}}(r,...e)}return r}(xz),Az=es(xz);RC(xz);cM(),kz.render((0,cT.jsx)(qE,{firebaseConfig:Sz,children:(0,cT.jsx)(PM,{children:(0,cT.jsx)(t.StrictMode,{children:(0,cT.jsx)(yz,{})})})})),function(e){if("serviceWorker"in navigator){if(new URL("/pwa-cookbook",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="".concat("/pwa-cookbook","/service-worker.js");wz?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):(console.log("service worker found"),_z(e,t))})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):_z(t,e)}))}}(),bz()})()})();
//# sourceMappingURL=main.62bc338c.js.map